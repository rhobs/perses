{"version":3,"sources":["../../../src/components/Service.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ReactElement, SyntheticEvent } from 'react';\nimport { Stack, TextField, Autocomplete } from '@mui/material';\nimport { PyroscopeDatasourceSelector } from '../model';\nimport { useServices } from '../utils/use-query';\n\nexport interface ServiceProps {\n  datasource: PyroscopeDatasourceSelector;\n  value: string;\n  onChange?(value: string): void;\n}\n\nexport function Service(props: ServiceProps): ReactElement {\n  const { datasource, value, onChange } = props;\n\n  const { data: servicesOptions, isLoading: isServicesOptionsLoading } = useServices(datasource);\n\n  function handleServiceChange(_event: SyntheticEvent, newValue: string | null): void {\n    if (newValue !== null) {\n      onChange?.(newValue);\n    }\n  }\n\n  return (\n    <Stack\n      position=\"relative\"\n      sx={{\n        width: '100%',\n      }}\n    >\n      <Autocomplete\n        options={servicesOptions?.names ?? []}\n        value={value}\n        sx={{ minWidth: 200 }}\n        loading={isServicesOptionsLoading}\n        renderInput={(params) => {\n          return <TextField {...params} label=\"Service\" size=\"small\" />;\n        }}\n        onChange={handleServiceChange}\n      />\n    </Stack>\n  );\n}\n"],"names":["Stack","TextField","Autocomplete","useServices","Service","props","datasource","value","onChange","data","servicesOptions","isLoading","isServicesOptionsLoading","handleServiceChange","_event","newValue","position","sx","width","options","names","minWidth","loading","renderInput","params","label","size"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAGjC,SAASA,KAAK,EAAEC,SAAS,EAAEC,YAAY,QAAQ,gBAAgB;AAE/D,SAASC,WAAW,QAAQ,qBAAqB;AAQjD,OAAO,SAASC,QAAQC,KAAmB;IACzC,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAE,GAAGH;IAExC,MAAM,EAAEI,MAAMC,eAAe,EAAEC,WAAWC,wBAAwB,EAAE,GAAGT,YAAYG;IAEnF,SAASO,oBAAoBC,MAAsB,EAAEC,QAAuB;QAC1E,IAAIA,aAAa,MAAM;YACrBP,WAAWO;QACb;IACF;IAEA,qBACE,KAACf;QACCgB,UAAS;QACTC,IAAI;YACFC,OAAO;QACT;kBAEA,cAAA,KAAChB;YACCiB,SAAST,iBAAiBU,SAAS,EAAE;YACrCb,OAAOA;YACPU,IAAI;gBAAEI,UAAU;YAAI;YACpBC,SAASV;YACTW,aAAa,CAACC;gBACZ,qBAAO,KAACvB;oBAAW,GAAGuB,MAAM;oBAAEC,OAAM;oBAAUC,MAAK;;YACrD;YACAlB,UAAUK;;;AAIlB"}