{"version":3,"sources":["../../../src/components/LabelName.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ReactElement, useMemo } from 'react';\nimport { TextField, Autocomplete } from '@mui/material';\nimport { PyroscopeDatasourceSelector } from '../model';\nimport { useLabelNames, filterLabelNamesOptions } from '../utils/use-query';\n\nexport interface LabelNameProps {\n  datasource: PyroscopeDatasourceSelector;\n  value: string;\n  onChange?(value: string): void;\n}\n\nexport function LabelName(props: LabelNameProps): ReactElement {\n  const { datasource, value, onChange } = props;\n\n  const { data: labelNamesOptions, isLoading: isLabelNamesOptionsLoading } = useLabelNames(datasource);\n\n  const filteredLabelNamesOptions = useMemo(\n    () => filterLabelNamesOptions(labelNamesOptions?.names ?? []),\n    [labelNamesOptions]\n  );\n\n  return (\n    <Autocomplete\n      disableClearable\n      options={filteredLabelNamesOptions}\n      value={value}\n      sx={(theme) => ({\n        width: '100%',\n        '& .MuiOutlinedInput-root': {\n          borderTopRightRadius: 0,\n          borderBottomRightRadius: 0,\n          [theme.breakpoints.down('sm')]: {\n            borderBottomLeftRadius: 0,\n          },\n        },\n      })}\n      loading={isLabelNamesOptionsLoading}\n      renderInput={(params) => {\n        return <TextField {...params} placeholder=\"Select label name\" size=\"small\" />;\n      }}\n      onChange={(_event, newValue) => {\n        if (newValue !== null) {\n          onChange?.(newValue);\n        }\n      }}\n    />\n  );\n}\n"],"names":["useMemo","TextField","Autocomplete","useLabelNames","filterLabelNamesOptions","LabelName","props","datasource","value","onChange","data","labelNamesOptions","isLoading","isLabelNamesOptionsLoading","filteredLabelNamesOptions","names","disableClearable","options","sx","theme","width","borderTopRightRadius","borderBottomRightRadius","breakpoints","down","borderBottomLeftRadius","loading","renderInput","params","placeholder","size","_event","newValue"],"mappings":";AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;AAEjC,SAAuBA,OAAO,QAAQ,QAAQ;AAC9C,SAASC,SAAS,EAAEC,YAAY,QAAQ,gBAAgB;AAExD,SAASC,aAAa,EAAEC,uBAAuB,QAAQ,qBAAqB;AAQ5E,OAAO,SAASC,UAAUC,KAAqB;IAC7C,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAE,GAAGH;IAExC,MAAM,EAAEI,MAAMC,iBAAiB,EAAEC,WAAWC,0BAA0B,EAAE,GAAGV,cAAcI;IAEzF,MAAMO,4BAA4Bd,QAChC,IAAMI,wBAAwBO,mBAAmBI,SAAS,EAAE,GAC5D;QAACJ;KAAkB;IAGrB,qBACE,KAACT;QACCc,gBAAgB;QAChBC,SAASH;QACTN,OAAOA;QACPU,IAAI,CAACC,QAAW,CAAA;gBACdC,OAAO;gBACP,4BAA4B;oBAC1BC,sBAAsB;oBACtBC,yBAAyB;oBACzB,CAACH,MAAMI,WAAW,CAACC,IAAI,CAAC,MAAM,EAAE;wBAC9BC,wBAAwB;oBAC1B;gBACF;YACF,CAAA;QACAC,SAASb;QACTc,aAAa,CAACC;YACZ,qBAAO,KAAC3B;gBAAW,GAAG2B,MAAM;gBAAEC,aAAY;gBAAoBC,MAAK;;QACrE;QACArB,UAAU,CAACsB,QAAQC;YACjB,IAAIA,aAAa,MAAM;gBACrBvB,WAAWuB;YACb;QACF;;AAGN"}