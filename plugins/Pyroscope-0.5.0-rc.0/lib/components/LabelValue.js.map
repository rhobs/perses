{"version":3,"sources":["../../../src/components/LabelValue.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ReactElement } from 'react';\nimport { TextField, Autocomplete } from '@mui/material';\nimport { PyroscopeDatasourceSelector } from '../model';\nimport { useLabelValues } from '../utils/use-query';\n\nexport interface LabelValueProps {\n  datasource: PyroscopeDatasourceSelector;\n  value: string;\n  labelName: string;\n  onChange?(value: string): void;\n}\n\nexport function LabelValue(props: LabelValueProps): ReactElement {\n  const { datasource, value, labelName, onChange } = props;\n\n  const { data: labelValuesOptions, isLoading: isLabelValuesOptionsLoading } = useLabelValues(datasource, labelName);\n\n  return (\n    <Autocomplete\n      freeSolo\n      disableClearable\n      options={labelValuesOptions?.names ?? []}\n      value={value}\n      sx={(theme) => ({\n        width: '100%',\n        '& .MuiOutlinedInput-root': {\n          borderRadius: 0,\n          width: '100%',\n          [theme.breakpoints.down('sm')]: {\n            borderBottomLeftRadius: 4,\n          },\n        },\n      })}\n      loading={isLabelValuesOptionsLoading}\n      renderInput={(params) => {\n        return <TextField {...params} placeholder=\"Select label value\" size=\"small\" />;\n      }}\n      onChange={(_event, newInputValue) => {\n        if (newInputValue !== null) {\n          onChange?.(newInputValue);\n        }\n      }}\n    />\n  );\n}\n"],"names":["TextField","Autocomplete","useLabelValues","LabelValue","props","datasource","value","labelName","onChange","data","labelValuesOptions","isLoading","isLabelValuesOptionsLoading","freeSolo","disableClearable","options","names","sx","theme","width","borderRadius","breakpoints","down","borderBottomLeftRadius","loading","renderInput","params","placeholder","size","_event","newInputValue"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAGjC,SAASA,SAAS,EAAEC,YAAY,QAAQ,gBAAgB;AAExD,SAASC,cAAc,QAAQ,qBAAqB;AASpD,OAAO,SAASC,WAAWC,KAAsB;IAC/C,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAE,GAAGJ;IAEnD,MAAM,EAAEK,MAAMC,kBAAkB,EAAEC,WAAWC,2BAA2B,EAAE,GAAGV,eAAeG,YAAYE;IAExG,qBACE,KAACN;QACCY,QAAQ;QACRC,gBAAgB;QAChBC,SAASL,oBAAoBM,SAAS,EAAE;QACxCV,OAAOA;QACPW,IAAI,CAACC,QAAW,CAAA;gBACdC,OAAO;gBACP,4BAA4B;oBAC1BC,cAAc;oBACdD,OAAO;oBACP,CAACD,MAAMG,WAAW,CAACC,IAAI,CAAC,MAAM,EAAE;wBAC9BC,wBAAwB;oBAC1B;gBACF;YACF,CAAA;QACAC,SAASZ;QACTa,aAAa,CAACC;YACZ,qBAAO,KAAC1B;gBAAW,GAAG0B,MAAM;gBAAEC,aAAY;gBAAqBC,MAAK;;QACtE;QACApB,UAAU,CAACqB,QAAQC;YACjB,IAAIA,kBAAkB,MAAM;gBAC1BtB,WAAWsB;YACb;QACF;;AAGN"}