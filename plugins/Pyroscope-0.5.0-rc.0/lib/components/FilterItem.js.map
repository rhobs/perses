{"version":3,"sources":["../../../src/components/FilterItem.tsx"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ReactElement } from 'react';\nimport { Grid2 as Grid, Stack } from '@mui/material';\nimport { PyroscopeDatasourceSelector } from '../model';\nimport { LabelFilter, OperatorType } from '../utils/types';\nimport { LabelName } from './LabelName';\nimport { Operator } from './Operator';\nimport { LabelValue } from './LabelValue';\nimport { DeleteFilterItem } from './DeleteFilterItem';\n\nexport interface FilterItemProps {\n  datasource: PyroscopeDatasourceSelector;\n  value: LabelFilter;\n  onChange?: (value: LabelFilter) => void;\n  deleteItem?: () => void; // this function is used to delete the current filter\n}\n\nexport function FilterItem(props: FilterItemProps): ReactElement {\n  const { datasource, value, onChange, deleteItem } = props;\n\n  const handleLabelNameChange = (label: string) => {\n    onChange?.({ labelName: label, labelValue: '', operator: value.operator });\n  };\n\n  const handleOperatorChange = (op: OperatorType) => {\n    onChange?.({ labelName: value.labelName, labelValue: value.labelValue, operator: op });\n  };\n\n  const handleLabelValueChange = (val: string) => {\n    onChange?.({ labelName: value.labelName, labelValue: val, operator: value.operator });\n  };\n\n  const handleDeleteClick = () => {\n    deleteItem?.();\n  };\n\n  return (\n    <Stack\n      direction=\"row\"\n      spacing={0}\n      sx={(theme) => ({ flexWrap: 'wrap', width: 500, [theme.breakpoints.down('sm')]: { width: '100%' } })}\n    >\n      <Grid container sx={{ width: '100%' }}>\n        <Grid size={{ xs: 9.5, md: 4.5 }}>\n          <LabelName datasource={datasource} value={value.labelName} onChange={handleLabelNameChange} />\n        </Grid>\n        <Grid size={{ xs: 2.5, md: 1.5 }}>\n          <Operator value={value.operator} onChange={handleOperatorChange} />\n        </Grid>\n        <Grid size={{ xs: 10, md: 5 }}>\n          <LabelValue\n            datasource={datasource}\n            value={value.labelValue}\n            labelName={value.labelName}\n            onChange={handleLabelValueChange}\n          />\n        </Grid>\n        <Grid size={{ xs: 2, md: 1 }}>\n          <DeleteFilterItem onClick={handleDeleteClick} />\n        </Grid>\n      </Grid>\n    </Stack>\n  );\n}\n"],"names":["Grid2","Grid","Stack","LabelName","Operator","LabelValue","DeleteFilterItem","FilterItem","props","datasource","value","onChange","deleteItem","handleLabelNameChange","label","labelName","labelValue","operator","handleOperatorChange","op","handleLabelValueChange","val","handleDeleteClick","direction","spacing","sx","theme","flexWrap","width","breakpoints","down","container","size","xs","md","onClick"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;AAGjC,SAASA,SAASC,IAAI,EAAEC,KAAK,QAAQ,gBAAgB;AAGrD,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,gBAAgB,QAAQ,qBAAqB;AAStD,OAAO,SAASC,WAAWC,KAAsB;IAC/C,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,UAAU,EAAE,GAAGJ;IAEpD,MAAMK,wBAAwB,CAACC;QAC7BH,WAAW;YAAEI,WAAWD;YAAOE,YAAY;YAAIC,UAAUP,MAAMO,QAAQ;QAAC;IAC1E;IAEA,MAAMC,uBAAuB,CAACC;QAC5BR,WAAW;YAAEI,WAAWL,MAAMK,SAAS;YAAEC,YAAYN,MAAMM,UAAU;YAAEC,UAAUE;QAAG;IACtF;IAEA,MAAMC,yBAAyB,CAACC;QAC9BV,WAAW;YAAEI,WAAWL,MAAMK,SAAS;YAAEC,YAAYK;YAAKJ,UAAUP,MAAMO,QAAQ;QAAC;IACrF;IAEA,MAAMK,oBAAoB;QACxBV;IACF;IAEA,qBACE,KAACV;QACCqB,WAAU;QACVC,SAAS;QACTC,IAAI,CAACC,QAAW,CAAA;gBAAEC,UAAU;gBAAQC,OAAO;gBAAK,CAACF,MAAMG,WAAW,CAACC,IAAI,CAAC,MAAM,EAAE;oBAAEF,OAAO;gBAAO;YAAE,CAAA;kBAElG,cAAA,MAAC3B;YAAK8B,SAAS;YAACN,IAAI;gBAAEG,OAAO;YAAO;;8BAClC,KAAC3B;oBAAK+B,MAAM;wBAAEC,IAAI;wBAAKC,IAAI;oBAAI;8BAC7B,cAAA,KAAC/B;wBAAUM,YAAYA;wBAAYC,OAAOA,MAAMK,SAAS;wBAAEJ,UAAUE;;;8BAEvE,KAACZ;oBAAK+B,MAAM;wBAAEC,IAAI;wBAAKC,IAAI;oBAAI;8BAC7B,cAAA,KAAC9B;wBAASM,OAAOA,MAAMO,QAAQ;wBAAEN,UAAUO;;;8BAE7C,KAACjB;oBAAK+B,MAAM;wBAAEC,IAAI;wBAAIC,IAAI;oBAAE;8BAC1B,cAAA,KAAC7B;wBACCI,YAAYA;wBACZC,OAAOA,MAAMM,UAAU;wBACvBD,WAAWL,MAAMK,SAAS;wBAC1BJ,UAAUS;;;8BAGd,KAACnB;oBAAK+B,MAAM;wBAAEC,IAAI;wBAAGC,IAAI;oBAAE;8BACzB,cAAA,KAAC5B;wBAAiB6B,SAASb;;;;;;AAKrC"}