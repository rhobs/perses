{"version":3,"sources":["../../../src/explore/links.ts"],"sourcesContent":["// Copyright 2025 The Perses Authors\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nconst linkToTraceParams = new URLSearchParams({\n  explorer: 'Tempo-TempoExplorer',\n  data: JSON.stringify({\n    queries: [\n      {\n        kind: 'TraceQuery',\n        spec: {\n          plugin: {\n            kind: 'TempoTraceQuery',\n            spec: {\n              query: 'TRACEID',\n              datasource: {\n                kind: 'TempoDatasource',\n                name: 'DATASOURCENAME',\n              },\n            },\n          },\n        },\n      },\n    ],\n  }),\n});\n\nconst linkToSpanParams = new URLSearchParams({\n  explorer: 'Tempo-TempoExplorer',\n  data: JSON.stringify({\n    queries: [\n      {\n        kind: 'TraceQuery',\n        spec: {\n          plugin: {\n            kind: 'TempoTraceQuery',\n            spec: {\n              query: 'TRACEID',\n              datasource: {\n                kind: 'TempoDatasource',\n                name: 'DATASOURCENAME',\n              },\n            },\n          },\n        },\n      },\n    ],\n    spanId: 'SPANID',\n  }),\n});\n\n// add ${...} syntax after the URL is URL-encoded, because the characters ${} must not be URL-encoded\nexport const linkToTrace = `/explore?${linkToTraceParams}`\n  .replace('DATASOURCENAME', '${datasourceName}')\n  .replace('TRACEID', '${traceId}');\n\n// add ${...} syntax after the URL is URL-encoded, because the characters ${} must not be URL-encoded\nexport const linkToSpan = `/explore?${linkToSpanParams}`\n  .replace('DATASOURCENAME', '${datasourceName}')\n  .replace('TRACEID', '${traceId}')\n  .replace('SPANID', '${spanId}');\n"],"names":["linkToTraceParams","URLSearchParams","explorer","data","JSON","stringify","queries","kind","spec","plugin","query","datasource","name","linkToSpanParams","spanId","linkToTrace","replace","linkToSpan"],"mappings":"AAAA,oCAAoC;AACpC,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,6CAA6C;AAC7C,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;AAEjC,MAAMA,oBAAoB,IAAIC,gBAAgB;IAC5CC,UAAU;IACVC,MAAMC,KAAKC,SAAS,CAAC;QACnBC,SAAS;YACP;gBACEC,MAAM;gBACNC,MAAM;oBACJC,QAAQ;wBACNF,MAAM;wBACNC,MAAM;4BACJE,OAAO;4BACPC,YAAY;gCACVJ,MAAM;gCACNK,MAAM;4BACR;wBACF;oBACF;gBACF;YACF;SACD;IACH;AACF;AAEA,MAAMC,mBAAmB,IAAIZ,gBAAgB;IAC3CC,UAAU;IACVC,MAAMC,KAAKC,SAAS,CAAC;QACnBC,SAAS;YACP;gBACEC,MAAM;gBACNC,MAAM;oBACJC,QAAQ;wBACNF,MAAM;wBACNC,MAAM;4BACJE,OAAO;4BACPC,YAAY;gCACVJ,MAAM;gCACNK,MAAM;4BACR;wBACF;oBACF;gBACF;YACF;SACD;QACDE,QAAQ;IACV;AACF;AAEA,qGAAqG;AACrG,OAAO,MAAMC,cAAc,CAAC,SAAS,EAAEf,mBAAmB,CACvDgB,OAAO,CAAC,kBAAkB,qBAC1BA,OAAO,CAAC,WAAW,cAAc;AAEpC,qGAAqG;AACrG,OAAO,MAAMC,aAAa,CAAC,SAAS,EAAEJ,kBAAkB,CACrDG,OAAO,CAAC,kBAAkB,qBAC1BA,OAAO,CAAC,WAAW,cACnBA,OAAO,CAAC,UAAU,aAAa"}