/*! For license information please see __federation_expose_LokiDatasource.44ac1fa6.js.LICENSE.txt */
"use strict";(self.chunk_Loki=self.chunk_Loki||[]).push([["4913"],{2192:function(e,t,a){var r=a(70451),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,a){var r,i={},d=null,l=null;for(r in void 0!==a&&(d=""+a),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!p.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:n,type:e,key:d,ref:l,props:i,_owner:o.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},62540:function(e,t,a){e.exports=a(2192)},32637:function(e,t,a){a.r(t),a.d(t,{LokiDatasourceEditor:()=>s,LokiDatasource:()=>o});var r=a(95383),n=a(62540),i=a(57744);function s(e){let{value:t,onChange:a,isReadonly:r}=e;return(0,n.jsx)(i.HTTPSettingsEditor,{value:t,onChange:a,isReadonly:r,initialSpecDirect:{directUrl:""},initialSpecProxy:{proxy:{kind:"HTTPProxy",spec:{allowedEndpoints:[{endpointPattern:"/loki/api/v1/query",method:"GET"},{endpointPattern:"/loki/api/v1/query_range",method:"GET"},{endpointPattern:"/loki/api/v1/labels",method:"GET"},{endpointPattern:"/loki/api/v1/label/([a-zA-Z0-9_-]+)/values",method:"GET"},{endpointPattern:"/loki/api/v1/series",method:"GET"},{endpointPattern:"/loki/api/v1/index/volume",method:"GET"},{endpointPattern:"/loki/api/v1/index/volume_range",method:"GET"},{endpointPattern:"/loki/api/v1/index/stats",method:"GET"},{endpointPattern:"/loki/api/v1/tail",method:"GET"}],url:""}}}})}let o={createClient:(e,t)=>{let{directUrl:a,proxy:n}=e,{proxyUrl:i}=t,s=a??i;if(void 0===s)throw Error("No URL specified for Loki client. You can use directUrl in the spec to configure it.");let o=null==n?void 0:n.spec.headers;return{options:{datasourceUrl:s},query:(e,t)=>(0,r.P)(e,{datasourceUrl:s,headers:t??o}),queryRange:(e,t)=>(0,r.O4)(e,{datasourceUrl:s,headers:t??o}),labels:(e,t,a)=>(0,r.WD)(e,t,{datasourceUrl:s,headers:a??o}),labelValues:(e,t,a,n)=>(0,r.Vx)(e,t,a,{datasourceUrl:s,headers:n??o}),series:(e,t,a,n)=>(0,r.Ul)(e,t,a,{datasourceUrl:s,headers:n??o}),volume:(e,t)=>(0,r.pD)(e,{datasourceUrl:s,headers:t??o}),volumeRange:(e,t)=>(0,r.gX)(e,{datasourceUrl:s,headers:t??o}),indexStats:(e,t,a,n)=>(0,r.I4)(e,t,a,{datasourceUrl:s,headers:n??o})}},OptionsEditorComponent:s,createInitialOptions:()=>({directUrl:""})}},95383:function(e,t,a){async function r(e,t){let a=n("/loki/api/v1/query",t.datasourceUrl);return a.searchParams.append("query",e.query),e.time&&a.searchParams.append("time",e.time),e.direction&&a.searchParams.append("direction",e.direction),e.limit&&a.searchParams.append("limit",e.limit.toString()),(await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json",...t.headers}})).json()}function n(e,t){if(t.startsWith("http://")||t.startsWith("https://"))return new URL(e,t);return new URL(t.endsWith("/")&&e.startsWith("/")?t+e.slice(1):t.endsWith("/")||e.startsWith("/")?t+e:t+"/"+e,window.location.origin)}function i(e){if(e instanceof Date)return Math.floor(e.getTime()/1e3).toString();if("number"==typeof e)return Math.floor(e>1e11?e/1e3:e).toString();if(/^\d+$/.test(e)){let t=Number(e);return Math.floor(t>1e11?t/1e3:t).toString()}return Math.floor(new Date(e).getTime()/1e3).toString()}async function s(e,t){let a=n("/loki/api/v1/query_range",t.datasourceUrl);return a.searchParams.append("query",e.query),a.searchParams.append("start",i(e.start)),a.searchParams.append("end",i(e.end)),e.step&&a.searchParams.append("step",e.step),e.interval&&a.searchParams.append("interval",e.interval),e.direction&&a.searchParams.append("direction",e.direction),e.limit&&a.searchParams.append("limit",e.limit.toString()),(await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json",...t.headers}})).json()}async function o(e,t,a){let r=n("/loki/api/v1/labels",a.datasourceUrl);return e&&r.searchParams.append("start",e),t&&r.searchParams.append("end",t),(await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",...a.headers}})).json()}async function p(e,t,a,r){let i=n(`/loki/api/v1/label/${e}/values`,r.datasourceUrl);return t&&i.searchParams.append("start",t),a&&i.searchParams.append("end",a),(await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json",...r.headers}})).json()}async function d(e,t,a,r){let i=n("/loki/api/v1/series",r.datasourceUrl);return e.forEach(e=>i.searchParams.append("match[]",e)),t&&i.searchParams.append("start",t),a&&i.searchParams.append("end",a),(await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json",...r.headers}})).json()}async function l(e,t){let a=n("/loki/api/v1/index/volume",t.datasourceUrl);return a.searchParams.append("query",e.query),a.searchParams.append("start",e.start),a.searchParams.append("end",e.end),e.step&&a.searchParams.append("step",e.step),e.limit&&a.searchParams.append("limit",e.limit.toString()),(await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json",...t.headers}})).json()}async function c(e,t){let a=n("/loki/api/v1/index/volume_range",t.datasourceUrl);return a.searchParams.append("query",e.query),a.searchParams.append("start",e.start),a.searchParams.append("end",e.end),e.step&&a.searchParams.append("step",e.step),e.limit&&a.searchParams.append("limit",e.limit.toString()),(await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json",...t.headers}})).json()}async function h(e,t,a,r){let i=n("/loki/api/v1/index/stats",r.datasourceUrl);return i.searchParams.append("query",e),t&&i.searchParams.append("start",t),a&&i.searchParams.append("end",a),(await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json",...r.headers}})).json()}a.d(t,{I4:()=>h,LE:()=>i,O4:()=>s,P:()=>r,Ul:()=>d,Vx:()=>p,WD:()=>o,gX:()=>c,pD:()=>l})}}]);