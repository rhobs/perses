/*! For license information please see 252.1ce83eb5.js.LICENSE.txt */
(self.chunk_GaugeChart=self.chunk_GaugeChart||[]).push([["252"],{77840:function(t,r,n){var i=n(25511),a=n(84814),o=function(t,r){for(var n={};t.length;){var i=t[0],o=i.code,s=i.message,l=i.path.join(".");if(!n[l])if("unionErrors"in i){var u=i.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:s,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return t.push(r)})}),r){var c=n[l].types,d=c&&c[i.code];n[l]=a.appendErrors(l,r,n,o,d?[].concat(d,i.message):i.message)}t.shift()}return n};r.zodResolver=function(t,r,n){return void 0===n&&(n={}),function(a,s,l){try{return Promise.resolve(function(o,s){try{var u=Promise.resolve(t["sync"===n.mode?"parse":"parseAsync"](a,r)).then(function(t){return l.shouldUseNativeValidation&&i.validateFieldsNatively({},l),{errors:{},values:n.raw?a:t}})}catch(t){return s(t)}return u&&u.then?u.then(void 0,s):u}(0,function(t){if(Array.isArray(null==t?void 0:t.errors))return{values:{},errors:i.toNestErrors(o(t.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw t}))}catch(t){return Promise.reject(t)}}}},68150:function(t,r,n){"use strict";n.d(r,{A:()=>m});var i=n(70451),a=n(11750),o=n(81023),s=n(77308),l=n(72052),u=n(11502),c=n(29009),d=n(46733);function p(t){return(0,d.Ay)("MuiCard",t)}(0,c.A)("MuiCard",["root"]);var f=n(62540);let h=(0,s.A)(u.A,{name:"MuiCard",slot:"Root",overridesResolver:(t,r)=>r.root})({overflow:"hidden"}),m=i.forwardRef(function(t,r){let n=(0,l.b)({props:t,name:"MuiCard"}),{className:i,raised:s=!1,...u}=n,c={...n,raised:s},d=(t=>{let{classes:r}=t;return(0,o.A)({root:["root"]},p,r)})(c);return(0,f.jsx)(h,{className:(0,a.A)(d.root,i),elevation:s?8:void 0,ref:r,ownerState:c,...u})})},45158:function(t,r,n){"use strict";n.d(r,{A:()=>g});var i=n(70451),a=n(11750),o=n(81023),s=n(77308),l=n(72052),u=n(29009),c=n(46733);function d(t){return(0,c.Ay)("MuiFormGroup",t)}(0,u.A)("MuiFormGroup",["root","row","error"]);var p=n(42872),f=n(87842),h=n(62540);let m=(0,s.A)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,n.row&&r.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),g=i.forwardRef(function(t,r){let n=(0,l.b)({props:t,name:"MuiFormGroup"}),{className:i,row:s=!1,...u}=n,c=(0,p.A)(),g=(0,f.A)({props:n,muiFormControl:c,states:["error"]}),y={...n,row:s,error:g.error},v=(t=>{let{classes:r,row:n,error:i}=t;return(0,o.A)({root:["root",n&&"row",i&&"error"]},d,r)})(y);return(0,h.jsx)(m,{className:(0,a.A)(v.root,i),ownerState:y,ref:r,...u})})},3778:function(t,r,n){"use strict";n.r(r),n.d(r,{DEFAULT_CALCULATION:()=>"last",KINDS:()=>l,querySpecSchema:()=>D.p9,applyMergeIndexedColumnsTransform:()=>nM,hasDecimalPlaces:()=>A.IU,UserFriendlyError:()=>X.P7,isValidQueryPluginType:()=>h,isCurrencyUnit:()=>_.Yf,userSpecSchema:()=>K,GLOBAL_SCOPES:()=>b,secretSchema:()=>U,isValidLegendSize:()=>u.VE,panelSpecSchema:()=>D.rN,CALCULATIONS_CONFIG:()=>s.gE,getPanelKeyFromRef:()=>et.BX,globalRoleSchema:()=>V,globalVariableSchema:()=>Y.tk,isValidLegendMode:()=>u.DY,roleBindingSchema:()=>$,DEFAULT_DASHBOARD_DURATION:()=>"1h",isDateUnit:()=>_.T6,rolesEditorSchema:()=>z,isUnitWithDecimalPlaces:()=>_.i$,otlptracev1:()=>o,roleSchema:()=>I,panelDefinitionSchema:()=>D.fI,buildVariableListSchema:()=>Y.op,datasourceSpecSchema:()=>O.Ad,buildVariableSpecSchema:()=>Y.vg,datasourcesSchema:()=>O.O9,displaySchema:()=>E.W,variableTextSpecSchema:()=>Y.c6,isValidTraceId:()=>j,isPanelGroupItemIdEqual:()=>f.a,isRelativeTimeRange:()=>x.bB,getCalculations:()=>s.pG,subjectSchema:()=>L,buildPanelEditorSchema:()=>D.bx,pluginSchema:()=>R.P,buildPanelSpecSchema:()=>D.H2,oauthProvidersSchema:()=>G,globalDatasourceSchema:()=>O.mq,variableDefinitionSchema:()=>Y.lj,formatValue:()=>_.Fl,otlpresourcev1:()=>a,transformData:()=>nD,getTimeSeriesValues:()=>nC,DEFAULT_LEGEND:()=>u.yf,createPanelRef:()=>et.YI,variableDisplaySchema:()=>Y.YO,DEFAULT_ALL_VALUE:()=>"$__all",getUnitGroup:()=>_.Se,getCalculation:()=>s.cV,legendModes:()=>u.G2,nameSchema:()=>P.Jq,isThroughputUnit:()=>_.fZ,variableListSchema:()=>Y.Yg,shouldShortenValues:()=>A.jb,MIN_STEP_INTERVAL_MS:()=>n_,applyJoinTransform:()=>nE,limitDecimalPlaces:()=>A.To,userSchema:()=>J,isTemperatureUnit:()=>_.x9,applyMergeColumnsTransform:()=>nk,roundStepInterval:()=>x.SG,buildDatasourceDefinitionSchema:()=>O.Q9,durationValidationSchema:()=>M,toAbsoluteTimeRange:()=>x.b5,buildPanelDefinitionSchema:()=>D.Nk,roleSpecSchema:()=>T,isProjectMetadata:()=>m,globalSecretSchema:()=>W,isUnitWithShortValues:()=>_.j9,getCommonTimeScale:()=>nO,isBytesUnit:()=>_.oy,MAX_SIGNIFICANT_DIGITS:()=>3,resolvePanelRef:()=>et.yo,getUnitGroupConfig:()=>_.CB,variableTextSchema:()=>Y.Fc,isEmptyObject:()=>ee,isTimeSeriesValueTuple:()=>w,datasourceDefinitionSchema:()=>O.oy,getResourceExtendedDisplayName:()=>en,fetch:()=>X.hd,DURATION_REGEX:()=>x.v9,otlpcommonv1:()=>i,secretSpecSchema:()=>H,variablesSchema:()=>Y.hq,isBitsUnit:()=>_.px,variableSchema:()=>Y.un,roleBindingsEditorSchema:()=>q,TRANSFORM_TEXT:()=>S.L,intervalToPrometheusDuration:()=>x.$Z,isPercentUnit:()=>_.GU,getMetadataProject:()=>g,projectMetadataSchema:()=>P.SK,isAbsoluteTimeRange:()=>x.uV,datasourceSchema:()=>O.nI,getLegendSize:()=>u.lh,PROJECT_SCOPES:()=>v,legendPositions:()=>u.qw,globalRoleBindingSchema:()=>B,DEFAULT_REFRESH_INTERVAL:()=>"0s",buildVariableListSpecSchema:()=>Y.hp,createRegexFromString:()=>nN,secretsEditorSchema:()=>Q,ACTIONS:()=>y,formatDuration:()=>x.a3,legendSizes:()=>u.M8,permissionSchema:()=>N,applyValueMapping:()=>nT,UNIT_GROUP_CONFIG:()=>_.w0,nativeProviderSchema:()=>Z,parseDurationString:()=>x.pW,getVariableProject:()=>C,isValidLegendPosition:()=>u.Dk,fetchJson:()=>X.x6,getLegendMode:()=>u.nV,getSuggestedStepMs:()=>x.qU,variableListSpecSchema:()=>Y.P9,getLegendPosition:()=>u.JW,isDurationString:()=>x.g3,buildVariableDefinitionSchema:()=>Y.p0,applyMergeSeriesTransform:()=>nP,isTimeUnit:()=>_.KN,roleBindingSpecSchema:()=>F,panelDisplaySpec:()=>D.Sv,buildDatasourceSpecSchema:()=>O.UW,panelEditorSchema:()=>D.TI,isDecimalUnit:()=>_.W5,getResourceDisplayName:()=>er,getUnitConfig:()=>_.r_,FetchError:()=>X.fk,metadataSchema:()=>P.R5,UNIT_CONFIG:()=>_.AC,CalculationsMap:()=>s.Lu,linkSchema:()=>D.Yk,msToPrometheusDuration:()=>x.eo,variableSpecSchema:()=>Y.Rq,isRegexPattern:()=>nR});var i={};n.r(i);var a={};n.r(a);var o={};n.r(o),n.d(o,{StatusCodeError:()=>p,StatusCodeOk:()=>d,StatusCodeUnset:()=>c});var s=n(87680);let l=["Dashboard","Datasource","EphemeralDashboard","Folder","GlobalDatasource","GlobalRole","GlobalRoleBinding","GlobalSecret","GlobalVariable","Project","Role","RoleBinding","Secret","User","Variable"];var u=n(3967);let c="STATUS_CODE_UNSET",d="STATUS_CODE_OK",p="STATUS_CODE_ERROR";var f=n(12244);function h(t){return["TimeSeriesQuery","TraceQuery","ProfileQuery"].includes(t)}function m(t){return"project"in t}function g(t){return"project"in t?t.project:void 0}let y=["*","create","read","update","delete"],v=["*","Dashboard","Datasource","EphemeralDashboard","Folder","Project","Role","RoleBinding","Secret","Variable"],b=["GlobalDatasource","GlobalRole","GlobalRoleBinding","GlobalSecret","GlobalVariable","User"];var x=n(69791);function w(t){return 2===t.length}function j(t){return/^[0-9a-fA-F]+$/.test(t)}var S=n(3627),A=n(71065),_=n(12826);function C(t){return"project"in t.metadata?t.metadata.project:void 0}var O=n(7151),E=n(67406),k=n(23726);let M=k.z.string().min(1,"Required").regex(x.v9,"Must be a valid duration string");var P=n(87799),D=n(32710),R=n(92397);let N=k.z.object({actions:k.z.array(k.z.enum(["*","create","read","update","delete"])).nonempty("Must contains at least 1 action"),scopes:k.z.array(k.z.enum(["*","Dashboard","Datasource","EphemeralDashboard","Folder","GlobalDatasource","GlobalRole","GlobalRoleBinding","GlobalSecret","GlobalVariable","Project","Role","RoleBinding","Secret","User","Variable"])).nonempty("Must contains at least 1 scope")}),T=k.z.object({permissions:k.z.array(N)}),I=k.z.object({kind:k.z.literal("Role"),metadata:P.SK,spec:T}),V=k.z.object({kind:k.z.literal("GlobalRole"),metadata:P.R5,spec:T}),z=k.z.discriminatedUnion("kind",[I,V]),L=k.z.object({kind:k.z.enum(["User"]),name:P.Jq}),F=k.z.object({role:P.Jq,subjects:k.z.array(L).nonempty()}),$=k.z.object({kind:k.z.literal("RoleBinding"),metadata:P.SK,spec:F}),B=k.z.object({kind:k.z.literal("GlobalRoleBinding"),metadata:P.R5,spec:F}),q=k.z.discriminatedUnion("kind",[$,B]),H=k.z.object({basicAuth:k.z.object({username:k.z.string().min(1),password:k.z.string().optional(),passwordFile:k.z.string().optional()}).superRefine((t,r)=>{t.password&&t.password.length>0&&t.passwordFile&&t.passwordFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["password"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["passwordFile"]}))}).optional(),authorization:k.z.object({type:k.z.string().optional(),credentials:k.z.string().optional(),credentialsFile:k.z.string().optional()}).superRefine((t,r)=>{t.credentials&&t.credentials.length>0&&t.credentialsFile&&t.credentialsFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["credentials"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["credentialsFile"]}))}).optional(),oauth:k.z.object({clientID:k.z.string().min(1),clientSecret:k.z.string().optional(),clientSecretFile:k.z.string().optional(),tokenURL:k.z.string().min(1),scopes:k.z.array(k.z.string().nonempty()).default([]),endpointParams:k.z.record(k.z.string().nonempty(),k.z.array(k.z.string())).default({}).optional(),authStyle:k.z.union([k.z.literal(0),k.z.literal(1),k.z.literal(2)]).optional()}).superRefine((t,r)=>{t.clientSecret&&t.clientSecret.length>0&&t.clientSecretFile&&t.clientSecretFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["clientSecret"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["clientSecretFile"]}))}).optional(),tlsConfig:k.z.object({ca:k.z.string().optional(),cert:k.z.string().optional(),key:k.z.string().optional(),caFile:k.z.string().optional(),certFile:k.z.string().optional(),keyFile:k.z.string().optional(),serverName:k.z.string().optional(),insecureSkipVerify:k.z.boolean().optional()}).superRefine((t,r)=>{t.ca&&t.ca.length>0&&t.caFile&&t.caFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["ca"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["caFile"]})),t.cert&&t.cert.length>0&&t.certFile&&t.certFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["cert"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["certFile"]})),t.key&&t.key.length>0&&t.keyFile&&t.keyFile.length>0&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["key"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["keyFile"]}))}).optional()}).superRefine((t,r)=>{t.basicAuth&&t.authorization&&t.oauth&&(r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["basicAuth"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["authorization"]}),r.addIssue({code:k.z.ZodIssueCode.custom,message:"Only one of the fields must be defined",path:["oauth"]}))}),U=k.z.object({kind:k.z.literal("Secret"),metadata:P.SK,spec:H}),W=k.z.object({kind:k.z.literal("GlobalSecret"),metadata:P.R5,spec:H}),Q=k.z.discriminatedUnion("kind",[U,W]),Z=k.z.object({password:k.z.string().optional()}),G=k.z.object({issuer:k.z.string().optional(),email:k.z.string().optional(),subject:k.z.string().optional()}),K=k.z.object({firstName:k.z.string().optional(),lastName:k.z.string().optional(),nativeProvider:Z.optional(),oauthProviders:k.z.array(G).optional()}),J=k.z.object({kind:k.z.literal("User"),metadata:P.R5,spec:K});var Y=n(18334),X=n(37856);function ee(t){return 0===Object.getOwnPropertyNames(t).length}var et=n(29261);function er(t){return t.spec.spec?.display?.name?t.spec.spec.display.name:t.spec.display?.name?t.spec.display.name:t.metadata.name}function en(t){return t.spec.spec?.display?.name?`${t.spec.spec.display.name} (ID: ${t.metadata.name})`:t.spec.display?.name?`${t.spec.display.name} (ID: ${t.metadata.name})`:t.metadata.name}var ei=n(68102);function ea(t){return"number"==typeof t}function eo(t){return!!t&&"object"==typeof t&&"function"==typeof t.constructor&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function es(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function el(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function eu(t){return t&&!0===t.constructor.prototype.isUnit||!1}function ec(t){return"string"==typeof t}var ed=Array.isArray;function ep(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function ef(t){return Array.isArray(t)||ep(t)}function eh(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function em(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function eg(t){return t&&!0===t.constructor.prototype.isRange||!1}function ey(t){return t&&!0===t.constructor.prototype.isIndex||!1}function ev(t){return"boolean"==typeof t}function eb(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function ex(t){return t&&!0===t.constructor.prototype.isHelp||!1}function ew(t){return"function"==typeof t}function ej(t){return t instanceof Date}function eS(t){return t instanceof RegExp}function eA(t){return!!(t&&"object"==typeof t&&t.constructor===Object&&!es(t)&&!el(t))}function e_(t){return null===t}function eC(t){return void 0===t}function eO(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function eE(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function ek(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function eM(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function eP(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function eD(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function eR(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function eN(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function eT(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function eI(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function eV(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function ez(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function eL(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function eF(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function e$(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function eB(t){return t&&!0===t.constructor.prototype.isChain||!1}function eq(t){var r=typeof t;return"object"===r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":eo(t)?"BigNumber":es(t)?"Complex":el(t)?"Fraction":ep(t)?"Matrix":eu(t)?"Unit":ey(t)?"Index":eg(t)?"Range":eb(t)?"ResultSet":eI(t)?t.type:eB(t)?"Chain":ex(t)?"Help":"Object":"function"===r?"Function":r}function eH(t){var r=typeof t;if("number"===r||"string"===r||"boolean"===r||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(t){return eH(t)});if(t instanceof Date)return new Date(t.valueOf());if(eo(t))return t;if(t instanceof RegExp)throw TypeError("Cannot clone "+t);return eU(t,eH)}function eU(t,r){var n={};for(var i in t)eZ(t,i)&&(n[i]=r(t[i]));return n}function eW(t,r){var n,i,a;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(i=0,a=t.length;i<a;i++)if(!eW(t[i],r[i]))return!1;return!0}if("function"==typeof t)return t===r;if(!(t instanceof Object))return t===r;if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in t)if(!(n in r)||!eW(t[n],r[n]))return!1;for(n in r)if(!(n in t))return!1;return!0}function eQ(t,r,n){var i,a=!0;Object.defineProperty(t,r,{get:function(){return a&&(i=n(),a=!1),i},set:function(t){i=t,a=!1},configurable:!0,enumerable:!0})}function eZ(t,r){return t&&Object.hasOwnProperty.call(t,r)}function eG(t){return Object.keys(t).map(r=>t[r])}var eK=n(23420);function eJ(t,r,n,i){function a(i){var a=function(t,r){for(var n={},i=0;i<r.length;i++){var a=r[i],o=t[a];void 0!==o&&(n[a]=o)}return n}(i,r.map(eX));return function(t,r,n){if(!r.filter(t=>{var r;return!((r=t)&&"?"===r[0])}).every(t=>void 0!==n[t])){var i=r.filter(t=>void 0===n[t]);throw Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(t=>'"'.concat(t,'"')).join(", "),"."))}}(t,r,i),n(a)}return a.isFactory=!0,a.fn=t,a.dependencies=r.slice().sort(),i&&(a.meta=i),a}function eY(t){return"function"==typeof t&&"string"==typeof t.fn&&Array.isArray(t.dependencies)}function eX(t){return t&&"?"===t[0]?t.slice(1):t}function e0(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}function e1(t,r,n){var i="";if(n){if(n<1)throw Error("size must be in greater than 0");if(!e0(n))throw Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e0(t))throw Error("Value must be an integer");t<0&&(t+=2**n),i="i".concat(n)}var a="";return t<0&&(t=-t,a="-"),"".concat(a).concat({2:"0b",8:"0o",16:"0x"}[r]).concat(t.toString(r)).concat(i)}function e2(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,i,a="auto";if(r&&(r.notation&&(a=r.notation),ea(r)?n=r:ea(r.precision)&&(n=r.precision),r.wordSize)&&"number"!=typeof(i=r.wordSize))throw Error('Option "wordSize" must be a number');switch(a){case"fixed":return function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e4(t),i="number"==typeof r?e3(n,n.exponent+1+r):n,a=i.coefficients,o=i.exponent+1,s=o+(r||0);return a.length<s&&(a=a.concat(e5(s-a.length))),o<0&&(a=e5(-o+1).concat(a),o=1),o<a.length&&a.splice(o,0,0===o?"0.":"."),i.sign+a.join("")}(t,n);case"exponential":return e9(t,n);case"engineering":return function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e3(e4(t),r),i=n.exponent,a=n.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(ea(r))for(;r>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var d=a.slice(c).join(""),p=ea(r)&&d.length||d.match(/[1-9]/)?"."+d:"",f=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+f}(t,n);case"bin":return e1(t,2,i);case"oct":return e1(t,8,i);case"hex":return e1(t,16,i);case"auto":return(function(t,r,n){if(isNaN(t)||!isFinite(t))return String(t);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,o=e4(t),s=r?e3(o,r):o;if(s.exponent<i||s.exponent>=a)return e9(t,r);var l=s.coefficients,u=s.exponent;l.length<r&&(l=l.concat(e5(r-l.length))),l=l.concat(e5(u-l.length+1+(l.length<r?r-l.length:0))),l=e5(-u).concat(l);var c=u>0?u:0;return c<l.length-1&&l.splice(c+1,0,"."),s.sign+l.join("")})(t,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw Error('Unknown notation "'+a+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function e4(t){var r=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw SyntaxError("Invalid number "+t);var n=r[1],i=r[2],a=parseFloat(r[4]||"0"),o=i.indexOf(".");a+=-1!==o?o-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(t){return a-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===s.length&&(s.push(0),a++),{sign:n,coefficients:s,exponent:a}}function e9(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=e4(t),i=r?e3(n,r):n,a=i.coefficients,o=i.exponent;a.length<r&&(a=a.concat(e5(r-a.length)));var s=a.shift();return i.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o}function e3(t,r){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=n.coefficients;r<=0;)i.unshift(0),n.exponent++,r++;if(i.length>r&&i.splice(r,i.length-r)[0]>=5){var a=r-1;for(i[a]++;10===i[a];)i.pop(),0===a&&(i.unshift(0),n.exponent++,a++),a--,i[a]++}return n}function e5(t){for(var r=[],n=0;n<t;n++)r.push(0);return r}var e7=Number.EPSILON||2220446049250313e-31;function e8(t,r,n){if(null==n)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var i=Math.abs(t-r);return i<e7||i<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}function e6(t,r,n){var i=new t.constructor(2),a="";if(n){if(n<1)throw Error("size must be in greater than 0");if(!e0(n))throw Error("size must be an integer");if(t.greaterThan(i.pow(n-1).sub(1))||t.lessThan(i.pow(n-1).mul(-1)))throw Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(n))),a="i".concat(n)}switch(r){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw Error("Base ".concat(r," not supported "))}}function te(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()}function tt(t,r){var n=function(t,r){var n;if("number"==typeof t)return e2(t,r);if(eo(t))return function(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n="auto";if(void 0!==r&&(r.notation&&(n=r.notation),"number"==typeof r?p=r:r.precision&&(p=r.precision),r.wordSize)&&"number"!=typeof(f=r.wordSize))throw Error('Option "wordSize" must be a number');switch(n){case"fixed":return i=t,a=p,i.toFixed(a);case"exponential":return te(t,p);case"engineering":return o=t,s=p,u=(l=o.e)%3==0?l:l<0?l-3-l%3:l-l%3,-1!==(d=(c=o.mul(Math.pow(10,-u))).toPrecision(s)).indexOf("e")&&(d=c.toString()),d+"e"+(l>=0?"+":"")+u.toString();case"bin":return e6(t,2,f);case"oct":return e6(t,8,f);case"hex":return e6(t,16,f);case"auto":var i,a,o,s,l,u,c,d,p,f,h=r&&void 0!==r.lowerExp?r.lowerExp:-3,m=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var g=t.toSignificantDigits(p),y=g.e;return(y>=h&&y<m?g.toFixed():te(t,p)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(t,r);if((n=t)&&"object"==typeof n&&"number"==typeof n.s&&"number"==typeof n.n&&"number"==typeof n.d)if(!r||"decimal"!==r.fraction)return t.s*t.n+"/"+t.d;else return t.toString();if(Array.isArray(t))return function t(r,n){if(!Array.isArray(r))return tt(r,n);for(var i="[",a=r.length,o=0;o<a;o++)0!==o&&(i+=", "),i+=t(r[o],n);return i+"]"}(t,r);if(ec(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t)if("function"==typeof t.format)return t.format(r);else return t&&t.toString(r)!==({}).toString()?t.toString(r):"{"+Object.keys(t).map(n=>'"'+n+'": '+tt(t[n],r)).join(", ")+"}";return String(t)}(t,r);return r&&"object"==typeof r&&"truncate"in r&&n.length>r.truncate?n.substring(0,r.truncate-3)+"...":n}function tr(t,r,n){if(!(this instanceof tr))throw SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=Error().stack}function tn(t,r,n){if(!(this instanceof tn))throw SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=Error().stack}function ti(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function ta(t,r){if(0===r.length){if(Array.isArray(t))throw new tr(t.length,0)}else!function t(r,n,i){var a,o=r.length;if(o!==n[i])throw new tr(o,n[i]);if(i<n.length-1){var s=i+1;for(a=0;a<o;a++){if(!Array.isArray(r[a]))throw new tr(n.length-1,n.length,"<");t(r[a],n,s)}}else for(a=0;a<o;a++)if(Array.isArray(r[a]))throw new tr(n.length+1,n.length,">")}(t,r,0)}function to(t,r){if(!ea(t)||!e0(t))throw TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&t>=r)throw new tn(t,r)}function ts(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw TypeError("Array expected");if(0===r.length)throw Error("Resizing to scalar is not supported");return r.forEach(function(t){if(!ea(t)||!e0(t)||t<0)throw TypeError("Invalid size, must contain positive integers (size: "+tt(r)+")")}),function t(r,n,i,a){var o,s,l=r.length,u=n[i],c=Math.min(l,u);if(r.length=u,i<n.length-1){var d=i+1;for(o=0;o<c;o++)Array.isArray(s=r[o])||(s=[s],r[o]=s),t(s,n,d,a);for(o=c;o<u;o++)s=[],r[o]=s,t(s,n,d,a)}else{for(o=0;o<c;o++)for(;Array.isArray(r[o]);)r[o]=r[o][0];for(o=c;o<u;o++)r[o]=a}}(t,r,0,void 0!==n?n:0),t}function tl(t,r){var n=tu(t),i=t.slice(),a=t.indexOf(-1);if(t.indexOf(-1,a+1)>=0)throw Error("More than one wildcard in sizes");if(a>=0)if(r%n==0)i[a]=-r/n;else throw Error("Could not replace wildcard, since "+r+" is no multiple of "+-n);return i}function tu(t){return t.reduce((t,r)=>t*r,1)}function tc(t,r,n,i){var a=i||ti(t);if(n)for(var o=0;o<n;o++)t=[t],a.unshift(1);for(t=function t(r,n,i){var a,o;if(Array.isArray(r)){var s=i+1;for(a=0,o=r.length;a<o;a++)r[a]=t(r[a],n,s)}else for(var l=i;l<n;l++)r=[r];return r}(t,r,0);a.length<r;)a.push(1);return t}function td(t,r){for(var n,i=0,a=0;a<t.length;a++){var o=t[a],s=Array.isArray(o);if(0===a&&s&&(i=o.length),s&&o.length!==i)return;var l=s?td(o,r):r(o);if(void 0===n)n=l;else if(n!==l)return"mixed"}return n}function tp(t,r){return -1!==t.indexOf(r)}function tf(t,r,n,i){if(!(this instanceof tf))throw SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+n+(null!=i?"-"+i:"")+" expected)",this.stack=Error().stack}tr.prototype=RangeError(),tr.prototype.constructor=RangeError,tr.prototype.name="DimensionError",tr.prototype.isDimensionError=!0,tn.prototype=RangeError(),tn.prototype.constructor=RangeError,tn.prototype.name="IndexError",tn.prototype.isIndexError=!0,tf.prototype=Error(),tf.prototype.constructor=Error,tf.prototype.name="ArgumentsError",tf.prototype.isArgumentsError=!0;var th={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},tm=["Matrix","Array"],tg=["number","BigNumber","Fraction"];function ty(t,r,n){var i;void 0!==t[r]&&(i=t[r],-1===n.indexOf(i))&&console.warn('Warning: Unknown value "'+t[r]+'" for configuration option "'+r+'". Available options: '+n.map(t=>JSON.stringify(t)).join(", ")+".")}var tv,tb,tx="0123456789abcdef",tw="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tj="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",tS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},tA=!0,t_="[DecimalError] ",tC=t_+"Invalid argument: ",tO=t_+"Precision limit exceeded",tE=t_+"crypto unavailable",tk="[object Decimal]",tM=Math.floor,tP=Math.pow,tD=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tR=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,tN=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,tT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tI=tw.length-1,tV=tj.length-1,tz={toStringTag:tk};function tL(t){var r,n,i,a=t.length-1,o="",s=t[0];if(a>0){for(o+=s,r=1;r<a;r++)(n=7-(i=t[r]+"").length)&&(o+=tK(n)),o+=i;(n=7-(i=(s=t[r])+"").length)&&(o+=tK(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function tF(t,r,n){if(t!==~~t||t<r||t>n)throw Error(tC+t)}function t$(t,r,n,i){var a,o,s,l;for(o=t[0];o>=10;o/=10)--r;return--r<0?(r+=7,a=0):(a=Math.ceil((r+1)/7),r%=7),o=tP(10,7-r),l=t[a]%o|0,null==i?r<3?(0==r?l=l/100|0:1==r&&(l=l/10|0),s=n<4&&99999==l||n>3&&49999==l||5e4==l||0==l):s=(n<4&&l+1==o||n>3&&l+1==o/2)&&(t[a+1]/o/100|0)==tP(10,r-2)-1||(l==o/2||0==l)&&(t[a+1]/o/100|0)==0:r<4?(0==r?l=l/1e3|0:1==r?l=l/100|0:2==r&&(l=l/10|0),s=(i||n<4)&&9999==l||!i&&n>3&&4999==l):s=((i||n<4)&&l+1==o||!i&&n>3&&l+1==o/2)&&(t[a+1]/o/1e3|0)==tP(10,r-3)-1,s}function tB(t,r,n){for(var i,a,o=[0],s=0,l=t.length;s<l;){for(a=o.length;a--;)o[a]*=r;for(o[0]+=tx.indexOf(t.charAt(s++)),i=0;i<o.length;i++)o[i]>n-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}tz.absoluteValue=tz.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),tH(t)},tz.ceil=function(){return tH(new this.constructor(this),this.e+1,2)},tz.clampedTo=tz.clamp=function(t,r){var n=this.constructor;if(t=new n(t),r=new n(r),!t.s||!r.s)return new n(NaN);if(t.gt(r))throw Error(tC+r);return 0>this.cmp(t)?t:this.cmp(r)>0?r:new n(this)},tz.comparedTo=tz.cmp=function(t){var r,n,i,a,o=this.d,s=(t=new this.constructor(t)).d,l=this.s,u=t.s;if(!o||!s)return l&&u?l!==u?l:o===s?0:!o^l<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(this.e!==t.e)return this.e>t.e^l<0?1:-1;for(r=0,n=(i=o.length)<(a=s.length)?i:a;r<n;++r)if(o[r]!==s[r])return o[r]>s[r]^l<0?1:-1;return i===a?0:i>a^l<0?1:-1},tz.cosine=tz.cos=function(){var t,r,n=this,i=n.constructor;return n.d?n.d[0]?(t=i.precision,r=i.rounding,i.precision=t+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(t,r){var n,i,a;if(r.isZero())return r;(i=r.d.length)<32?a=(1/t3(4,n=Math.ceil(i/3))).toString():(n=16,a="2.3283064365386962890625e-10"),t.precision+=n,r=t9(t,1,r.times(a),new t(1));for(var o=n;o--;){var s=r.times(r);r=s.times(s).minus(s).times(8).plus(1)}return t.precision-=n,r}(i,t5(i,n)),i.precision=t,i.rounding=r,tH(2==tb||3==tb?n.neg():n,t,r,!0)):new i(1):new i(NaN)},tz.cubeRoot=tz.cbrt=function(){var t,r,n,i,a,o,s,l,u,c,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(tA=!1,(o=this.s*tP(this.s*this,1/3))&&Math.abs(o)!=1/0?i=new d(o.toString()):(n=tL(this.d),(o=((t=this.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=tP(n,1/3),t=tM((t+1)/3)-(t%3==(t<0?-1:2)),(i=new d(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=this.s),s=(t=d.precision)+3;;)if(i=tq((c=(u=(l=i).times(l).times(l)).plus(this)).plus(this).times(l),c.plus(u),s+2,1),tL(l.d).slice(0,s)===(n=tL(i.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(a||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(tH(i,t+1,1),r=!i.times(i).times(i).eq(this));break}if(!a&&(tH(l,t+1,0),l.times(l).times(l).eq(this))){i=l;break}s+=4,a=1}return tA=!0,tH(i,t,d.rounding,r)},tz.decimalPlaces=tz.dp=function(){var t,r=this.d,n=NaN;if(r){if(n=((t=r.length-1)-tM(this.e/7))*7,t=r[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},tz.dividedBy=tz.div=function(t){return tq(this,new this.constructor(t))},tz.dividedToIntegerBy=tz.divToInt=function(t){var r=this.constructor;return tH(tq(this,new r(t),0,1,1),r.precision,r.rounding)},tz.equals=tz.eq=function(t){return 0===this.cmp(t)},tz.floor=function(){return tH(new this.constructor(this),this.e+1,3)},tz.greaterThan=tz.gt=function(t){return this.cmp(t)>0},tz.greaterThanOrEqualTo=tz.gte=function(t){var r=this.cmp(t);return 1==r||0===r},tz.hyperbolicCosine=tz.cosh=function(){var t,r,n,i,a,o=this,s=o.constructor,l=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return l;n=s.precision,i=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(a=o.d.length)<32?r=(1/t3(4,t=Math.ceil(a/3))).toString():(t=16,r="2.3283064365386962890625e-10"),o=t9(s,1,o.times(r),new s(1),!0);for(var u,c=t,d=new s(8);c--;)u=o.times(o),o=l.minus(u.times(d.minus(u.times(d))));return tH(o,s.precision=n,s.rounding=i,!0)},tz.hyperbolicSine=tz.sinh=function(){var t,r,n,i,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<3)a=t9(o,2,a,a,!0);else{t=(t=1.4*Math.sqrt(i))>16?16:0|t,a=t9(o,2,a=a.times(1/t3(5,t)),a,!0);for(var s,l=new o(5),u=new o(16),c=new o(20);t--;)s=a.times(a),a=a.times(l.plus(s.times(u.times(s).plus(c))))}return o.precision=r,o.rounding=n,tH(a,r,n,!0)},tz.hyperbolicTangent=tz.tanh=function(){var t,r,n=this.constructor;return this.isFinite()?this.isZero()?new n(this):(t=n.precision,r=n.rounding,n.precision=t+7,n.rounding=1,tq(this.sinh(),this.cosh(),n.precision=t,n.rounding=r)):new n(this.s)},tz.inverseCosine=tz.acos=function(){var t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return -1!==n?0===n?t.isNeg()?tZ(r,i,a):new r(0):new r(NaN):t.isZero()?tZ(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=new r(1).minus(t).div(t.plus(1)).sqrt().atan(),r.precision=i,r.rounding=a,t.times(2))},tz.inverseHyperbolicCosine=tz.acosh=function(){var t,r,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(t=i.precision,r=i.rounding,i.precision=t+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,tA=!1,n=n.times(n).minus(1).sqrt().plus(n),tA=!0,i.precision=t,i.rounding=r,n.ln()):new i(n)},tz.inverseHyperbolicSine=tz.asinh=function(){var t,r,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(t=i.precision,r=i.rounding,i.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,tA=!1,n=n.times(n).plus(1).sqrt().plus(n),tA=!0,i.precision=t,i.rounding=r,n.ln())},tz.inverseHyperbolicTangent=tz.atanh=function(){var t,r,n,i,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(t=o.precision,r=o.rounding,Math.max(i=a.sd(),t)<-(2*a.e)-1)?tH(new o(a),t,r,!0):(o.precision=n=i-a.e,a=tq(a.plus(1),new o(1).minus(a),n+t,1),o.precision=t+4,o.rounding=1,a=a.ln(),o.precision=t,o.rounding=r,a.times(.5)):new o(NaN)},tz.inverseSine=tz.asin=function(){var t,r,n,i,a=this,o=a.constructor;return a.isZero()?new o(a):(r=a.abs().cmp(1),n=o.precision,i=o.rounding,-1!==r)?0===r?((t=tZ(o,n+4,i).times(.5)).s=a.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,a.times(2))},tz.inverseTangent=tz.atan=function(){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,p=d.precision,f=d.rounding;if(c.isFinite()){if(c.isZero())return new d(c);else if(c.abs().eq(1)&&p+4<=tV)return(s=tZ(d,p+4,f).times(.25)).s=c.s,s}else{if(!c.s)return new d(NaN);if(p+4<=tV)return(s=tZ(d,p+4,f).times(.5)).s=c.s,s}for(d.precision=l=p+10,d.rounding=1,t=n=Math.min(28,l/7+2|0);t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(tA=!1,r=Math.ceil(l/7),i=1,u=c.times(c),s=new d(c),a=c;-1!==t;)if(a=a.times(u),o=s.minus(a.div(i+=2)),a=a.times(u),void 0!==(s=o.plus(a.div(i+=2))).d[r])for(t=r;s.d[t]===o.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),tA=!0,tH(s,d.precision=p,d.rounding=f,!0)},tz.isFinite=function(){return!!this.d},tz.isInteger=tz.isInt=function(){return!!this.d&&tM(this.e/7)>this.d.length-2},tz.isNaN=function(){return!this.s},tz.isNegative=tz.isNeg=function(){return this.s<0},tz.isPositive=tz.isPos=function(){return this.s>0},tz.isZero=function(){return!!this.d&&0===this.d[0]},tz.lessThan=tz.lt=function(t){return 0>this.cmp(t)},tz.lessThanOrEqualTo=tz.lte=function(t){return 1>this.cmp(t)},tz.logarithm=tz.log=function(t){var r,n,i,a,o,s,l,u=this.constructor,c=u.precision,d=u.rounding;if(null==t)t=new u(10),r=!0;else{if(n=(t=new u(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new u(NaN);r=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new u(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(r)if(n.length>1)a=!0;else{for(i=n[0];i%10==0;)i/=10;a=1!==i}if(tA=!1,t$((l=tq(o=t1(this,s=c+5),r?tQ(u,s+10):t1(t,s),s,1)).d,i=c,d))do if(s+=10,l=tq(o=t1(this,s),r?tQ(u,s+10):t1(t,s),s,1),!a){+tL(l.d).slice(i+1,i+15)+1==1e14&&(l=tH(l,c+1,0));break}while(t$(l.d,i+=10,d));return tA=!0,tH(l,c,d)},tz.minus=tz.sub=function(t){var r,n,i,a,o,s,l,u,c,d,p,f,h=this.constructor;if(t=new h(t),!this.d||!t.d)return this.s&&t.s?this.d?t.s=-t.s:t=new h(t.d||this.s!==t.s?this:NaN):t=new h(NaN),t;if(this.s!=t.s)return t.s=-t.s,this.plus(t);if(c=this.d,f=t.d,l=h.precision,u=h.rounding,!c[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!c[0])return new h(3===u?-0:0);t=new h(this)}return tA?tH(t,l,u):t}if(n=tM(t.e/7),d=tM(this.e/7),c=c.slice(),o=d-n){for((p=o<0)?(r=c,o=-o,s=f.length):(r=f,n=d,s=c.length),o>(i=Math.max(Math.ceil(l/7),s)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((p=(i=c.length)<(s=f.length))&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){p=c[i]<f[i];break}o=0}for(p&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&0===c[--a];)c[a]=1e7-1;--c[a],c[i]+=1e7}c[i]-=f[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=tW(c,n),tA?tH(t,l,u):t):new h(3===u?-0:0)},tz.modulo=tz.mod=function(t){var r,n=this.constructor;return(t=new n(t),this.d&&t.s&&(!t.d||t.d[0]))?t.d&&(!this.d||this.d[0])?(tA=!1,9==n.modulo?(r=tq(this,t.abs(),0,3,1),r.s*=t.s):r=tq(this,t,0,n.modulo,1),r=r.times(t),tA=!0,this.minus(r)):tH(new n(this),n.precision,n.rounding):new n(NaN)},tz.naturalExponential=tz.exp=function(){return t0(this)},tz.naturalLogarithm=tz.ln=function(){return t1(this)},tz.negated=tz.neg=function(){var t=new this.constructor(this);return t.s=-t.s,tH(t)},tz.plus=tz.add=function(t){var r,n,i,a,o,s,l,u,c,d,p=this.constructor;if(t=new p(t),!this.d||!t.d)return this.s&&t.s?this.d||(t=new p(t.d||this.s===t.s?this:NaN)):t=new p(NaN),t;if(this.s!=t.s)return t.s=-t.s,this.minus(t);if(c=this.d,d=t.d,l=p.precision,u=p.rounding,!c[0]||!d[0])return d[0]||(t=new p(this)),tA?tH(t,l,u):t;if(o=tM(this.e/7),i=tM(t.e/7),c=c.slice(),a=o-i){for(a<0?(n=c,a=-a,s=d.length):(n=d,i=o,s=c.length),a>(s=(o=Math.ceil(l/7))>s?o+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=c.length)-(a=d.length)<0&&(a=s,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/1e7|0,c[a]%=1e7;for(r&&(c.unshift(r),++i),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=tW(c,i),tA?tH(t,l,u):t},tz.precision=tz.sd=function(t){var r;if(void 0!==t&&!!t!==t&&1!==t&&0!==t)throw Error(tC+t);return this.d?(r=tG(this.d),t&&this.e+1>r&&(r=this.e+1)):r=NaN,r},tz.round=function(){var t=this.constructor;return tH(new t(this),this.e+1,t.rounding)},tz.sine=tz.sin=function(){var t,r,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,r=i.rounding,i.precision=t+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(t,r){var n,i=r.d.length;if(i<3)return r.isZero()?r:t9(t,2,r,r);n=(n=1.4*Math.sqrt(i))>16?16:0|n,r=t9(t,2,r=r.times(1/t3(5,n)),r);for(var a,o=new t(5),s=new t(16),l=new t(20);n--;)a=r.times(r),r=r.times(o.plus(a.times(s.times(a).minus(l))));return r}(i,t5(i,n)),i.precision=t,i.rounding=r,tH(tb>2?n.neg():n,t,r,!0)):new i(NaN)},tz.squareRoot=tz.sqrt=function(){var t,r,n,i,a,o,s=this.d,l=this.e,u=this.s,c=this.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?this:1/0);for(tA=!1,0==(u=Math.sqrt(+this))||u==1/0?(((r=tL(s)).length+l)%2==0&&(r+="0"),u=Math.sqrt(r),l=tM((l+1)/2)-(l<0||l%2),i=new c(r=u==1/0?"5e"+l:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+l)):i=new c(u.toString()),n=(l=c.precision)+3;;)if(i=(o=i).plus(tq(this,o,n+2,1)).times(.5),tL(o.d).slice(0,n)===(r=tL(i.d)).slice(0,n)){if("9999"!=(r=r.slice(n-3,n+1))&&(a||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(tH(i,l+1,1),t=!i.times(i).eq(this));break}if(!a&&(tH(o,l+1,0),o.times(o).eq(this))){i=o;break}n+=4,a=1}return tA=!0,tH(i,l,c.rounding,t)},tz.tangent=tz.tan=function(){var t,r,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,r=i.rounding,i.precision=t+10,i.rounding=1,(n=n.sin()).s=1,n=tq(n,new i(1).minus(n.times(n)).sqrt(),t+10,0),i.precision=t,i.rounding=r,tH(2==tb||4==tb?n.neg():n,t,r,!0)):new i(NaN)},tz.times=tz.mul=function(t){var r,n,i,a,o,s,l,u,c,d=this.constructor,p=this.d,f=(t=new d(t)).d;if(t.s*=this.s,!p||!p[0]||!f||!f[0])return new d(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:!p||!f?t.s/0:0*t.s);for(n=tM(this.e/7)+tM(t.e/7),(u=p.length)<(c=f.length)&&(o=p,p=f,f=o,s=u,u=c,c=s),o=[],i=s=u+c;i--;)o.push(0);for(i=c;--i>=0;){for(r=0,a=u+i;a>i;)l=o[a]+f[i]*p[a-i-1]+r,o[a--]=l%1e7|0,r=l/1e7|0;o[a]=(o[a]+r)%1e7|0}for(;!o[--s];)o.pop();return r?++n:o.shift(),t.d=o,t.e=tW(o,n),tA?tH(t,d.precision,d.rounding):t},tz.toBinary=function(t,r){return t7(this,2,t,r)},tz.toDecimalPlaces=tz.toDP=function(t,r){var n=this,i=n.constructor;return(n=new i(n),void 0===t)?n:(tF(t,0,1e9),void 0===r?r=i.rounding:tF(r,0,8),tH(n,t+n.e+1,r))},tz.toExponential=function(t,r){var n,i=this,a=i.constructor;return void 0===t?n=tU(i,!0):(tF(t,0,1e9),void 0===r?r=a.rounding:tF(r,0,8),n=tU(i=tH(new a(i),t+1,r),!0,t+1)),i.isNeg()&&!i.isZero()?"-"+n:n},tz.toFixed=function(t,r){var n,i,a=this.constructor;return void 0===t?n=tU(this):(tF(t,0,1e9),void 0===r?r=a.rounding:tF(r,0,8),n=tU(i=tH(new a(this),t+this.e+1,r),!1,t+i.e+1)),this.isNeg()&&!this.isZero()?"-"+n:n},tz.toFraction=function(t){var r,n,i,a,o,s,l,u,c,d,p,f,h=this.d,m=this.constructor;if(!h)return new m(this);if(c=n=new m(1),i=u=new m(0),s=(o=(r=new m(i)).e=tG(h)-this.e-1)%7,r.d[0]=tP(10,s<0?7+s:s),null==t)t=o>0?r:c;else{if(!(l=new m(t)).isInt()||l.lt(c))throw Error(tC+l);t=l.gt(r)?o>0?r:c:l}for(tA=!1,l=new m(tL(h)),d=m.precision,m.precision=o=7*h.length*2;p=tq(l,r,0,1,1),1!=(a=n.plus(p.times(i))).cmp(t);)n=i,i=a,a=c,c=u.plus(p.times(a)),u=a,a=r,r=l.minus(p.times(a)),l=a;return a=tq(t.minus(n),i,0,1,1),u=u.plus(a.times(c)),n=n.plus(a.times(i)),u.s=c.s=this.s,f=1>tq(c,i,o,1).minus(this).abs().cmp(tq(u,n,o,1).minus(this).abs())?[c,i]:[u,n],m.precision=d,tA=!0,f},tz.toHexadecimal=tz.toHex=function(t,r){return t7(this,16,t,r)},tz.toNearest=function(t,r){var n=this,i=n.constructor;if(n=new i(n),null==t){if(!n.d)return n;t=new i(1),r=i.rounding}else{if(t=new i(t),void 0===r?r=i.rounding:tF(r,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(tA=!1,n=tq(n,t,0,r,1).times(t),tA=!0,tH(n)):(t.s=n.s,n=t),n},tz.toNumber=function(){return+this},tz.toOctal=function(t,r){return t7(this,8,t,r)},tz.toPower=tz.pow=function(t){var r,n,i,a,o,s,l=this,u=l.constructor,c=+(t=new u(t));if(!l.d||!t.d||!l.d[0]||!t.d[0])return new u(tP(+l,c));if((l=new u(l)).eq(1))return l;if(i=u.precision,o=u.rounding,t.eq(1))return tH(l,i,o);if((r=tM(t.e/7))>=t.d.length-1&&(n=c<0?-c:c)<=0x1fffffffffffff)return a=tJ(u,l,n,i),t.s<0?new u(1).div(a):tH(a,i,o);if((s=l.s)<0){if(r<t.d.length-1)return new u(NaN);if((1&t.d[r])==0&&(s=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=s,l}return(r=0!=(n=tP(+l,c))&&isFinite(n)?new u(n+"").e:tM(c*(Math.log("0."+tL(l.d))/Math.LN10+l.e+1)))>u.maxE+1||r<u.minE-1?new u(r>0?s/0:0):(tA=!1,u.rounding=l.s=1,n=Math.min(12,(r+"").length),(a=t0(t.times(t1(l,i+n)),i)).d&&t$((a=tH(a,i+5,1)).d,i,o)&&(r=i+10,+tL((a=tH(t0(t.times(t1(l,r+n)),r),r+5,1)).d).slice(i+1,i+15)+1==1e14&&(a=tH(a,i+1,0))),a.s=s,tA=!0,u.rounding=o,tH(a,i,o))},tz.toPrecision=function(t,r){var n,i=this,a=i.constructor;return void 0===t?n=tU(i,i.e<=a.toExpNeg||i.e>=a.toExpPos):(tF(t,1,1e9),void 0===r?r=a.rounding:tF(r,0,8),n=tU(i=tH(new a(i),t,r),t<=i.e||i.e<=a.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+n:n},tz.toSignificantDigits=tz.toSD=function(t,r){var n=this.constructor;return void 0===t?(t=n.precision,r=n.rounding):(tF(t,1,1e9),void 0===r?r=n.rounding:tF(r,0,8)),tH(new n(this),t,r)},tz.toString=function(){var t=this.constructor,r=tU(this,this.e<=t.toExpNeg||this.e>=t.toExpPos);return this.isNeg()&&!this.isZero()?"-"+r:r},tz.truncated=tz.trunc=function(){return tH(new this.constructor(this),this.e+1,1)},tz.valueOf=tz.toJSON=function(){var t=this.constructor,r=tU(this,this.e<=t.toExpNeg||this.e>=t.toExpPos);return this.isNeg()?"-"+r:r};var tq=function(){function t(t,r,n){var i,a=0,o=t.length;for(t=t.slice();o--;)i=t[o]*r+a,t[o]=i%n|0,a=i/n|0;return a&&t.unshift(a),t}function r(t,r,n,i){var a,o;if(n!=i)o=n>i?1:-1;else for(a=o=0;a<n;a++)if(t[a]!=r[a]){o=t[a]>r[a]?1:-1;break}return o}function n(t,r,n,i){for(var a=0;n--;)t[n]-=a,a=+(t[n]<r[n]),t[n]=a*i+t[n]-r[n];for(;!t[0]&&t.length>1;)t.shift()}return function(i,a,o,s,l,u){var c,d,p,f,h,m,g,y,v,b,x,w,j,S,A,_,C,O,E,k,M=i.constructor,P=i.s==a.s?1:-1,D=i.d,R=a.d;if(!D||!D[0]||!R||!R[0])return new M(!i.s||!a.s||(D?R&&D[0]==R[0]:!R)?NaN:D&&0==D[0]||!R?0*P:P/0);for(u?(h=1,d=i.e-a.e):(u=1e7,h=7,d=tM(i.e/h)-tM(a.e/h)),E=R.length,C=D.length,b=(v=new M(P)).d=[],p=0;R[p]==(D[p]||0);p++);if(R[p]>(D[p]||0)&&d--,null==o?(S=o=M.precision,s=M.rounding):S=l?o+(i.e-a.e)+1:o,S<0)b.push(1),m=!0;else{if(S=S/h+2|0,p=0,1==E){for(f=0,R=R[0],S++;(p<C||f)&&S--;p++)A=f*u+(D[p]||0),b[p]=A/R|0,f=A%R|0;m=f||p<C}else{for((f=u/(R[0]+1)|0)>1&&(R=t(R,f,u),D=t(D,f,u),E=R.length,C=D.length),_=E,w=(x=D.slice(0,E)).length;w<E;)x[w++]=0;(k=R.slice()).unshift(0),O=R[0],R[1]>=u/2&&++O;do f=0,(c=r(R,x,E,w))<0?(j=x[0],E!=w&&(j=j*u+(x[1]||0)),(f=j/O|0)>1?(f>=u&&(f=u-1),y=(g=t(R,f,u)).length,w=x.length,1==(c=r(g,x,y,w))&&(f--,n(g,E<y?k:R,y,u))):(0==f&&(c=f=1),g=R.slice()),(y=g.length)<w&&g.unshift(0),n(x,g,w,u),-1==c&&(w=x.length,(c=r(R,x,E,w))<1&&(f++,n(x,E<w?k:R,w,u))),w=x.length):0===c&&(f++,x=[0]),b[p++]=f,c&&x[0]?x[w++]=D[_]||0:(x=[D[_]],w=1);while((_++<C||void 0!==x[0])&&S--);m=void 0!==x[0]}b[0]||b.shift()}if(1==h)v.e=d,tv=m;else{for(p=1,f=b[0];f>=10;f/=10)p++;v.e=p+d*h-1,tH(v,l?o+v.e+1:o,s,m)}return v}}();function tH(t,r,n,i){var a,o,s,l,u,c,d,p,f,h=t.constructor;e:if(null!=r){if(!(p=t.d))return t;for(a=1,l=p[0];l>=10;l/=10)a++;if((o=r-a)<0)o+=7,s=r,u=(d=p[f=0])/tP(10,a-s-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(l=p.length))if(i){for(;l++<=f;)p.push(0);d=u=0,a=1,o%=7,s=o-7+1}else break e;else{for(a=1,d=l=p[f];l>=10;l/=10)a++;o%=7,u=(s=o-7+a)<0?0:d/tP(10,a-s-1)%10|0}if(i=i||r<0||void 0!==p[f+1]||(s<0?d:d%tP(10,a-s-1)),c=n<4?(u||i)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||i||6==n&&(o>0?s>0?d/tP(10,a-s):0:p[f-1])%10&1||n==(t.s<0?8:7)),r<1||!p[0])return p.length=0,c?(r-=t.e+1,p[0]=tP(10,(7-r%7)%7),t.e=-r||0):p[0]=t.e=0,t;if(0==o?(p.length=f,l=1,f--):(p.length=f+1,l=tP(10,7-o),p[f]=s>0?(d/tP(10,a-s)%tP(10,s)|0)*l:0),c)for(;;)if(0==f){for(o=1,s=p[0];s>=10;s/=10)o++;for(s=p[0]+=l,l=1;s>=10;s/=10)l++;o!=l&&(t.e++,1e7==p[0]&&(p[0]=1));break}else{if(p[f]+=l,1e7!=p[f])break;p[f--]=0,l=1}for(o=p.length;0===p[--o];)p.pop()}return tA&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function tU(t,r,n){if(!t.isFinite())return t2(t);var i,a=t.e,o=tL(t.d),s=o.length;return r?(n&&(i=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+tK(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):a<0?(o="0."+tK(-a-1)+o,n&&(i=n-s)>0&&(o+=tK(i))):a>=s?(o+=tK(a+1-s),n&&(i=n-a-1)>0&&(o=o+"."+tK(i))):((i=a+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-s)>0&&(a+1===s&&(o+="."),o+=tK(i))),o}function tW(t,r){var n=t[0];for(r*=7;n>=10;n/=10)r++;return r}function tQ(t,r,n){if(r>tI)throw tA=!0,n&&(t.precision=n),Error(tO);return tH(new t(tw),r,1,!0)}function tZ(t,r,n){if(r>tV)throw Error(tO);return tH(new t(tj),r,n,!0)}function tG(t){var r=t.length-1,n=7*r+1;if(r=t[r]){for(;r%10==0;r/=10)n--;for(r=t[0];r>=10;r/=10)n++}return n}function tK(t){for(var r="";t--;)r+="0";return r}function tJ(t,r,n,i){var a,o=new t(1),s=Math.ceil(i/7+4);for(tA=!1;;){if(n%2&&t8((o=o.times(r)).d,s)&&(a=!0),0===(n=tM(n/2))){n=o.d.length-1,a&&0===o.d[n]&&++o.d[n];break}t8((r=r.times(r)).d,s)}return tA=!0,o}function tY(t){return 1&t.d[t.d.length-1]}function tX(t,r,n){for(var i,a,o=new t(r[0]),s=0;++s<r.length;){if(!(a=new t(r[s])).s){o=a;break}((i=o.cmp(a))===n||0===i&&o.s===n)&&(o=a)}return o}function t0(t,r){var n,i,a,o,s,l,u,c=0,d=0,p=0,f=t.constructor,h=f.rounding,m=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?!t.d[0]?1:t.s<0?0:1/0:t.s?t.s<0?0:t:0/0);for(null==r?(tA=!1,u=m):u=r,l=new f(.03125);t.e>-2;)t=t.times(l),p+=5;for(u+=i=Math.log(tP(2,p))/Math.LN10*2+5|0,n=o=s=new f(1),f.precision=u;;){if(o=tH(o.times(t),u,1),n=n.times(++d),tL((l=s.plus(tq(o,n,u,1))).d).slice(0,u)===tL(s.d).slice(0,u)){for(a=p;a--;)s=tH(s.times(s),u,1);if(null!=r)return f.precision=m,s;if(!(c<3&&t$(s.d,u-i,h,c)))return tH(s,f.precision=m,h,tA=!0);f.precision=u+=10,n=o=l=new f(1),d=0,c++}s=l}}function t1(t,r){var n,i,a,o,s,l,u,c,d,p,f,h=1,m=t,g=m.d,y=m.constructor,v=y.rounding,b=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==r?(tA=!1,d=b):d=r,y.precision=d+=10,i=(n=tL(g)).charAt(0),!(15e14>Math.abs(o=m.e)))return c=tQ(y,d+2,b).times(o+""),m=t1(new y(i+"."+n.slice(1)),d-10).plus(c),y.precision=b,null==r?tH(m,b,v,tA=!0):m;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=tL((m=m.times(t)).d)).charAt(0),h++;for(o=m.e,i>1?(m=new y("0."+n),o++):m=new y(i+"."+n.slice(1)),p=m,u=s=m=tq(m.minus(1),m.plus(1),d,1),f=tH(m.times(m),d,1),a=3;;){if(s=tH(s.times(f),d,1),tL((c=u.plus(tq(s,new y(a),d,1))).d).slice(0,d)===tL(u.d).slice(0,d)){if(u=u.times(2),0!==o&&(u=u.plus(tQ(y,d+2,b).times(o+""))),u=tq(u,new y(h),d,1),null!=r)return y.precision=b,u;if(!t$(u.d,d-10,v,l))return tH(u,y.precision=b,v,tA=!0);y.precision=d+=10,c=s=m=tq(p.minus(1),p.plus(1),d,1),f=tH(m.times(m),d,1),a=l=1}u=c,a+=2}}function t2(t){return String(t.s*t.s/0)}function t4(t,r){var n,i,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(n<0&&(n=i),n+=+r.slice(i+1),r=r.substring(0,i)):n<0&&(n=r.length),i=0;48===r.charCodeAt(i);i++);for(a=r.length;48===r.charCodeAt(a-1);--a);if(r=r.slice(i,a)){if(a-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%7,n<0&&(i+=7),i<a){for(i&&t.d.push(+r.slice(0,i)),a-=7;i<a;)t.d.push(+r.slice(i,i+=7));i=7-(r=r.slice(i)).length}else i-=a;for(;i--;)r+="0";t.d.push(+r),tA&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function t9(t,r,n,i,a){var o,s,l,u,c=t.precision,d=Math.ceil(c/7);for(tA=!1,u=n.times(n),l=new t(i);;){if(s=tq(l.times(u),new t(r++*r++),c,1),l=a?i.plus(s):i.minus(s),i=tq(s.times(u),new t(r++*r++),c,1),void 0!==(s=l.plus(i)).d[d]){for(o=d;s.d[o]===l.d[o]&&o--;);if(-1==o)break}o=l,l=i,i=s,s=o}return tA=!0,s.d.length=d+1,s}function t3(t,r){for(var n=t;--r;)n*=t;return n}function t5(t,r){var n,i=r.s<0,a=tZ(t,t.precision,1),o=a.times(.5);if((r=r.abs()).lte(o))return tb=i?4:1,r;if((n=r.divToInt(a)).isZero())tb=i?3:2;else{if((r=r.minus(n.times(a))).lte(o))return tb=tY(n)?i?2:3:i?4:1,r;tb=tY(n)?i?1:4:i?3:2}return r.minus(a).abs()}function t7(t,r,n,i){var a,o,s,l,u,c,d,p,f,h=t.constructor,m=void 0!==n;if(m?(tF(n,1,1e9),void 0===i?i=h.rounding:tF(i,0,8)):(n=h.precision,i=h.rounding),t.isFinite()){for(s=(d=tU(t)).indexOf("."),m?(a=2,16==r?n=4*n-3:8==r&&(n=3*n-2)):a=r,s>=0&&(d=d.replace(".",""),(f=new h(1)).e=d.length-s,f.d=tB(tU(f),10,a),f.e=f.d.length),o=u=(p=tB(d,10,a)).length;0==p[--u];)p.pop();if(p[0]){if(s<0?o--:((t=new h(t)).d=p,t.e=o,p=(t=tq(t,f,n,i,0,a)).d,o=t.e,c=tv),s=p[n],l=a/2,c=c||void 0!==p[n+1],c=i<4?(void 0!==s||c)&&(0===i||i===(t.s<0?3:2)):s>l||s===l&&(4===i||c||6===i&&1&p[n-1]||i===(t.s<0?8:7)),p.length=n,c)for(;++p[--n]>a-1;)p[n]=0,n||(++o,p.unshift(1));for(u=p.length;!p[u-1];--u);for(s=0,d="";s<u;s++)d+=tx.charAt(p[s]);if(m){if(u>1)if(16==r||8==r){for(s=16==r?4:3,--u;u%s;u++)d+="0";for(u=(p=tB(d,a,r)).length;!p[u-1];--u);for(s=1,d="1.";s<u;s++)d+=tx.charAt(p[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>u)for(o-=u;o--;)d+="0";else o<u&&(d=d.slice(0,o)+"."+d.slice(o))}else d=m?"0p+0":"0";d=(16==r?"0x":2==r?"0b":8==r?"0o":"")+d}else d=t2(t);return t.s<0?"-"+d:d}function t8(t,r){if(t.length>r)return t.length=r,!0}function t6(t){return new this(t).abs()}function re(t){return new this(t).acos()}function rt(t){return new this(t).acosh()}function rr(t,r){return new this(t).plus(r)}function rn(t){return new this(t).asin()}function ri(t){return new this(t).asinh()}function ra(t){return new this(t).atan()}function ro(t){return new this(t).atanh()}function rs(t,r){t=new this(t),r=new this(r);var n,i=this.precision,a=this.rounding,o=i+4;return t.s&&r.s?t.d||r.d?!r.d||t.isZero()?(n=r.s<0?tZ(this,i,a):new this(0)).s=t.s:!t.d||r.isZero()?(n=tZ(this,o,1).times(.5)).s=t.s:r.s<0?(this.precision=o,this.rounding=1,n=this.atan(tq(t,r,o,1)),r=tZ(this,o,1),this.precision=i,this.rounding=a,n=t.s<0?n.minus(r):n.plus(r)):n=this.atan(tq(t,r,o,1)):(n=tZ(this,o,1).times(r.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function rl(t){return new this(t).cbrt()}function ru(t){return tH(t=new this(t),t.e+1,2)}function rc(t,r,n){return new this(t).clamp(r,n)}function rd(t){if(!t||"object"!=typeof t)throw Error(t_+"Object expected");var r,n,i,a=!0===t.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(n=o[r],a&&(this[n]=tS[n]),void 0!==(i=t[n]))if(tM(i)===i&&i>=o[r+1]&&i<=o[r+2])this[n]=i;else throw Error(tC+n+": "+i);if(n="crypto",a&&(this[n]=tS[n]),void 0!==(i=t[n]))if(!0===i||!1===i||0===i||1===i)if(i)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(tE);else this[n]=!1;else throw Error(tC+n+": "+i);return this}function rp(t){return new this(t).cos()}function rf(t){return new this(t).cosh()}function rh(t,r){return new this(t).div(r)}function rm(t){return new this(t).exp()}function rg(t){return tH(t=new this(t),t.e+1,3)}function ry(){var t,r,n=new this(0);for(t=0,tA=!1;t<arguments.length;)if(r=new this(arguments[t++]),r.d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return tA=!0,new this(1/0);n=r}return tA=!0,n.sqrt()}function rv(t){return t instanceof rL||t&&t.toStringTag===tk||!1}function rb(t){return new this(t).ln()}function rx(t,r){return new this(t).log(r)}function rw(t){return new this(t).log(2)}function rj(t){return new this(t).log(10)}function rS(){return tX(this,arguments,-1)}function rA(){return tX(this,arguments,1)}function r_(t,r){return new this(t).mod(r)}function rC(t,r){return new this(t).mul(r)}function rO(t,r){return new this(t).pow(r)}function rE(t){var r,n,i,a,o=0,s=new this(1),l=[];if(void 0===t?t=this.precision:tF(t,1,1e9),i=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(i));o<i;)(a=r[o])>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=a%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(i*=4);o<i;)(a=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((127&r[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,o):(l.push(a%1e7),o+=4);o=i/4}else throw Error(tE);else for(;o<i;)l[o++]=1e7*Math.random()|0;for(i=l[--o],t%=7,i&&t&&(a=tP(10,7-t),l[o]=(i/a|0)*a);0===l[o];o--)l.pop();if(o<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(i=1,a=l[0];a>=10;a/=10)i++;i<7&&(n-=7-i)}return s.e=n,s.d=l,s}function rk(t){return tH(t=new this(t),t.e+1,this.rounding)}function rM(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function rP(t){return new this(t).sin()}function rD(t){return new this(t).sinh()}function rR(t){return new this(t).sqrt()}function rN(t,r){return new this(t).sub(r)}function rT(){var t=0,r=arguments,n=new this(r[0]);for(tA=!1;n.s&&++t<r.length;)n=n.plus(r[t]);return tA=!0,tH(n,this.precision,this.rounding)}function rI(t){return new this(t).tan()}function rV(t){return new this(t).tanh()}function rz(t){return tH(t=new this(t),t.e+1,1)}tz[Symbol.for("nodejs.util.inspect.custom")]=tz.toString,tz[Symbol.toStringTag]="Decimal";var rL=tz.constructor=function t(r){var n,i,a;function o(t){var r,n,i;if(!(this instanceof o))return new o(t);if(this.constructor=o,rv(t)){this.s=t.s,tA?!t.d||t.e>o.maxE?(this.e=NaN,this.d=null):t.e<o.minE?(this.e=0,this.d=[0]):(this.e=t.e,this.d=t.d.slice()):(this.e=t.e,this.d=t.d?t.d.slice():t.d);return}if("number"==(i=typeof t)){if(0===t){this.s=1/t<0?-1:1,this.e=0,this.d=[0];return}if(t<0?(t=-t,this.s=-1):this.s=1,t===~~t&&t<1e7){for(r=0,n=t;n>=10;n/=10)r++;tA?r>o.maxE?(this.e=NaN,this.d=null):r<o.minE?(this.e=0,this.d=[0]):(this.e=r,this.d=[t]):(this.e=r,this.d=[t]);return}if(0*t!=0){t||(this.s=NaN),this.e=NaN,this.d=null;return}return t4(this,t.toString())}if("string"===i)return 45===(n=t.charCodeAt(0))?(t=t.slice(1),this.s=-1):(43===n&&(t=t.slice(1)),this.s=1),tT.test(t)?t4(this,t):function(t,r){var n,i,a,o,s,l,u,c,d;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),tT.test(r))return t4(t,r)}else if("Infinity"===r||"NaN"===r)return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(tR.test(r))n=16,r=r.toLowerCase();else if(tD.test(r))n=2;else if(tN.test(r))n=8;else throw Error(tC+r);for((o=r.search(/p/i))>0?(u=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),s=(o=r.indexOf("."))>=0,i=t.constructor,s&&(o=(l=(r=r.replace(".","")).length)-o,a=tJ(i,new i(n),o,2*o)),o=d=(c=tB(r,n,1e7)).length-1;0===c[o];--o)c.pop();return o<0?new i(0*t.s):(t.e=tW(c,d),t.d=c,tA=!1,s&&(t=tq(t,a,4*l)),u&&(t=t.times(54>Math.abs(u)?tP(2,u):rL.pow(2,u))),tA=!0,t)}(this,t);if("bigint"===i)return t<0?(t=-t,this.s=-1):this.s=1,t4(this,t.toString());throw Error(tC+t)}if(o.prototype=tz,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=rd,o.clone=t,o.isDecimal=rv,o.abs=t6,o.acos=re,o.acosh=rt,o.add=rr,o.asin=rn,o.asinh=ri,o.atan=ra,o.atanh=ro,o.atan2=rs,o.cbrt=rl,o.ceil=ru,o.clamp=rc,o.cos=rp,o.cosh=rf,o.div=rh,o.exp=rm,o.floor=rg,o.hypot=ry,o.ln=rb,o.log=rx,o.log10=rj,o.log2=rw,o.max=rS,o.min=rA,o.mod=r_,o.mul=rC,o.pow=rO,o.random=rE,o.round=rk,o.sign=rM,o.sin=rP,o.sinh=rD,o.sqrt=rR,o.sub=rN,o.sum=rT,o.tan=rI,o.tanh=rV,o.trunc=rz,void 0===r&&(r={}),r&&!0!==r.defaults)for(n=0,a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];n<a.length;)r.hasOwnProperty(i=a[n++])||(r[i]=this[i]);return o.config(r),o}(tS);tw=new rL(tw),tj=new rL(tj);var rF={createBigNumberClass:eJ("BigNumber",["?on","config"],t=>{var{on:r,config:n}=t,i=rL.clone({precision:n.precision,modulo:rL.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},r&&r("config",function(t,r){t.precision!==r.precision&&i.config({precision:t.precision})}),i},{isClass:!0})},r$={createMatrixClass:eJ("Matrix",[],()=>{function t(){if(!(this instanceof t))throw SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,r){throw Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,r,n){throw Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,r,n){throw Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,r){throw Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,r){throw Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,r){throw Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0})},rB={MatrixDependencies:r$,createDenseMatrixClass:eJ("DenseMatrix",["Matrix"],t=>{var{Matrix:r}=t;function n(t,r){if(!(this instanceof n))throw SyntaxError("Constructor must be called with the new operator");if(r&&!ec(r))throw Error("Invalid datatype: "+r);if(ep(t))"DenseMatrix"===t.type?(this._data=eH(t._data),this._size=eH(t._size)):(this._data=t.toArray(),this._size=t.size()),this._datatype=r||t._datatype;else if(t&&ed(t.data)&&ed(t.size))this._data=t.data,this._size=t.size,ta(this._data,this._size),this._datatype=r||t.datatype;else if(ed(t))this._data=function t(r){for(var n=0,i=r.length;n<i;n++){var a=r[n];ed(a)?r[n]=t(a):a&&!0===a.isMatrix&&(r[n]=t(a.valueOf()))}return r}(t),this._size=ti(this._data),ta(this._data,this._size),this._datatype=r;else if(t)throw TypeError("Unsupported type of data ("+eq(t)+")");else this._data=[],this._size=[0],this._datatype=r}function i(t,r,n){if(0===r.length){for(var i=t._data;ed(i);)i=i[0];return i}return t._size=r.slice(0),t._data=ts(t._data,t._size,n),t}function a(t,r,n){for(var a=t._size.slice(0),o=!1;a.length<r.length;)a.push(0),o=!0;for(var s=0,l=r.length;s<l;s++)r[s]>a[s]&&(a[s]=r[s],o=!0);o&&i(t,a,n)}return n.prototype=new r,n.prototype.createDenseMatrix=function(t,r){return new n(t,r)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return td(this._data,eq)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,r){return new n(t,r)},n.prototype.subset=function(t,r,i){switch(arguments.length){case 1:return function(t,r){if(!ey(r))throw TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var i=r.size();if(i.length!==t._size.length)throw new tr(i.length,t._size.length);for(var a=r.min(),o=r.max(),s=0,l=t._size.length;s<l;s++)to(a[s],t._size[s]),to(o[s],t._size[s]);return new n(function t(r,n,i,a){var o=a===i-1,s=n.dimension(a);return o?s.map(function(t){return to(t,r.length),r[t]}).valueOf():s.map(function(o){return to(o,r.length),t(r[o],n,i,a+1)}).valueOf()}(t._data,r,i.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,r,n,i){if(!r||!0!==r.isIndex)throw TypeError("Invalid index");var o,s=r.size(),l=r.isScalar();if(ep(n)?(o=n.size(),n=n.valueOf()):o=ti(n),l){if(0!==o.length)throw TypeError("Scalar expected");t.set(r.min(),n,i)}else{if(s.length<t._size.length)throw new tr(s.length,t._size.length,"<");if(o.length<s.length){for(var u=0,c=0;1===s[u]&&1===o[u];)u++;for(;1===s[u];)c++,u++;n=tc(n,s.length,c,o)}if(!eW(s,o))throw new tr(s,o,">");a(t,r.max().map(function(t){return t+1}),i);var d=s.length;!function t(r,n,i,a,o){var s=o===a-1,l=n.dimension(o);s?l.forEach(function(t,n){to(t),r[t]=i[n[0]]}):l.forEach(function(s,l){to(s),t(r[s],n,i[l[0]],a,o+1)})}(t._data,r,n,d,0)}return t}(this,t,r,i);default:throw SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!ed(t))throw TypeError("Array expected");if(t.length!==this._size.length)throw new tr(t.length,this._size.length);for(var r=0;r<t.length;r++)to(t[r],this._size[r]);for(var n=this._data,i=0,a=t.length;i<a;i++){var o=t[i];to(o,n.length),n=n[o]}return n},n.prototype.set=function(t,r,n){if(!ed(t))throw TypeError("Array expected");if(t.length<this._size.length)throw new tr(t.length,this._size.length,"<");a(this,t.map(function(t){return t+1}),n);var i,o,s,l=this._data;for(i=0,o=t.length-1;i<o;i++)to(s=t[i],l.length),l=l[s];return to(s=t[t.length-1],l.length),l[s]=r,this},n.prototype.resize=function(t,r,n){if(!ef(t))throw TypeError("Array or Matrix expected");var a=t.valueOf().map(t=>Array.isArray(t)&&1===t.length?t[0]:t);return i(n?this.clone():this,a,r)},n.prototype.reshape=function(t,r){var n=r?this.clone():this;n._data=function(t,r){var n=function(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):r.push(n)}),r}(t),i=n.length;if(!Array.isArray(t)||!Array.isArray(r))throw TypeError("Array expected");if(0===r.length)throw new tr(0,i,"!=");var a=tu(r=tl(r,i));if(i!==a)throw new tr(a,i,"!=");try{return function(t,r){for(var n,i=t,a=r.length-1;a>0;a--){var o=r[a];n=[];for(var s=i.length/o,l=0;l<s;l++)n.push(i.slice(l*o,(l+1)*o));i=n}return i}(n,r)}catch(t){if(t instanceof tr)throw new tr(a,i,"!=");throw t}}(n._data,t);var i=n._size.reduce((t,r)=>t*r);return n._size=tl(t,i),n},n.prototype.clone=function(){return new n({data:eH(this._data),size:eH(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var r=this,i=function n(i,a){return ed(i)?i.map(function(t,r){return n(t,a.concat(r))}):t(i,a,r)}(this._data,[]),a=void 0!==this._datatype?td(i,eq):void 0;return new n(i,a)},n.prototype.forEach=function(t){var r=this;!function n(i,a){ed(i)?i.forEach(function(t,r){n(t,a.concat(r))}):t(i,a,r)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){var t=function* t(r,n){if(ed(r))for(var i=0;i<r.length;i++)yield*t(r[i],n.concat(i));else yield{value:r,index:n}};yield*t(this._data,[])},n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var r of this._data)t.push(new n([r],this._datatype));return t},n.prototype.columns=function(){var t=this,r=[],i=this.size();if(2!==i.length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var a=this._data,o=function(i){var o=a.map(t=>[t[i]]);r.push(new n(o,t._datatype))},s=0;s<i[1];s++)o(s);return r},n.prototype.toArray=function(){return eH(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return tt(this._data,t)},n.prototype.toString=function(){return tt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(eo(t)&&(t=t.toNumber()),!ea(t)||!e0(t))throw TypeError("The parameter k must be an integer number")}else t=0;for(var r=t>0?t:0,i=t<0?-t:0,a=Math.min(this._size[0]-i,this._size[1]-r),o=[],s=0;s<a;s++)o[s]=this._data[s+i][s+r];return new n({data:o,size:[a],datatype:this._datatype})},n.diagonal=function(t,r,i,a){if(!ed(t))throw TypeError("Array expected, size parameter");if(2!==t.length)throw Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(eo(t)&&(t=t.toNumber()),!ea(t)||!e0(t)||t<1)throw Error("Size values must be positive integers");return t}),i){if(eo(i)&&(i=i.toNumber()),!ea(i)||!e0(i))throw TypeError("The parameter k must be an integer number")}else i=0;var o,s=i>0?i:0,l=i<0?-i:0,u=t[0],c=t[1],d=Math.min(u-l,c-s);if(ed(r)){if(r.length!==d)throw Error("Invalid value array length");o=function(t){return r[t]}}else if(ep(r)){var p=r.size();if(1!==p.length||p[0]!==d)throw Error("Invalid matrix length");o=function(t){return r.get([t])}}else o=function(){return r};a||(a=eo(o(0))?o(0).mul(0):0);var f=[];if(t.length>0){f=ts(f,t,a);for(var h=0;h<d;h++)f[h+l][h+s]=o(h)}return new n({data:f,size:[u,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,r){if(!ea(t)||!e0(t)||!ea(r)||!e0(r))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return to(t,this._size[0]),to(r,this._size[0]),n._swapRows(t,r,this._data),this},n._swapRows=function(t,r,n){var i=n[t];n[t]=n[r],n[r]=i},n},{isClass:!0})};let rq=Math.cosh||function(t){return 1e-9>Math.abs(t)?1-t:(Math.exp(t)+Math.exp(-t))*.5},rH=Math.sinh||function(t){return 1e-9>Math.abs(t)?t:(Math.exp(t)-Math.exp(-t))*.5},rU=function(t){let r=Math.PI/4;if(-r>t||t>r)return Math.cos(t)-1;let n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/0x144c3b2800)+1/0x1c8cfc00)-1/3628800)+1/40320)-1/720)+1/24)-.5)},rW=function(t,r){return((t=Math.abs(t))<(r=Math.abs(r))&&([t,r]=[r,t]),t<1e8)?Math.sqrt(t*t+r*r):(r/=t,t*Math.sqrt(1+r*r))},rQ=function(){throw SyntaxError("Invalid Param")};function rZ(t,r){let n=Math.abs(t),i=Math.abs(r);return 0===t?Math.log(i):0===r?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+r*r):.5*Math.log((t*=.5)*t+(r*=.5)*r)+Math.LN2}let rG={re:0,im:0},rK=function(t,r){if(null==t)rG.re=rG.im=0;else if(void 0!==r)rG.re=t,rG.im=r;else switch(typeof t){case"object":if("im"in t&&"re"in t)rG.re=t.re,rG.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return rJ.INFINITY;rG.re=t.abs*Math.cos(t.arg),rG.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return rJ.INFINITY;rG.re=t.r*Math.cos(t.phi),rG.im=t.r*Math.sin(t.phi)}else 2===t.length?(rG.re=t[0],rG.im=t[1]):rQ();break;case"string":rG.im=rG.re=0;let n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;null===n&&rQ();for(let t=0;t<n.length;t++){let r=n[t];" "===r||"	"===r||"\n"===r||("+"===r?i++:"-"===r?a++:("i"===r||"I"===r?(i+a===0&&rQ()," "===n[t+1]||isNaN(n[t+1])?rG.im+=parseFloat((a%2?"-":"")+"1"):(rG.im+=parseFloat((a%2?"-":"")+n[t+1]),t++)):((i+a===0||isNaN(r))&&rQ(),"i"===n[t+1]||"I"===n[t+1]?(rG.im+=parseFloat((a%2?"-":"")+r),t++):rG.re+=parseFloat((a%2?"-":"")+r)),i=a=0))}i+a>0&&rQ();break;case"number":rG.im=0,rG.re=t;break;default:rQ()}return isNaN(rG.re)||isNaN(rG.im),rG};function rJ(t,r){if(!(this instanceof rJ))return new rJ(t,r);let n=rK(t,r);this.re=n.re,this.im=n.im}rJ.prototype={re:0,im:0,sign:function(){let t=rW(this.re,this.im);return new rJ(this.re/t,this.im/t)},add:function(t,r){let n=rK(t,r),i=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im));return i||a?i&&a?rJ.NAN:rJ.INFINITY:new rJ(this.re+n.re,this.im+n.im)},sub:function(t,r){let n=rK(t,r),i=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im));return i||a?i&&a?rJ.NAN:rJ.INFINITY:new rJ(this.re-n.re,this.im-n.im)},mul:function(t,r){let n=rK(t,r),i=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im)),o=0===this.re&&0===this.im,s=0===n.re&&0===n.im;return i&&s||a&&o?rJ.NAN:i||a?rJ.INFINITY:0===n.im&&0===this.im?new rJ(this.re*n.re,0):new rJ(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,r){let n=rK(t,r),i=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im)),o=0===this.re&&0===this.im,s=0===n.re&&0===n.im;if(o&&s||i&&a)return rJ.NAN;if(s||i)return rJ.INFINITY;if(o||a)return rJ.ZERO;if(0===n.im)return new rJ(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){let t=n.re/n.im,r=n.re*t+n.im;return new rJ((this.re*t+this.im)/r,(this.im*t-this.re)/r)}{let t=n.im/n.re,r=n.im*t+n.re;return new rJ((this.re+this.im*t)/r,(this.im-this.re*t)/r)}},pow:function(t,r){let n=rK(t,r),i=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return rJ.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new rJ(Math.pow(this.re,n.re),0);else if(0===this.re)switch((n.re%4+4)%4){case 0:return new rJ(Math.pow(this.im,n.re),0);case 1:return new rJ(0,Math.pow(this.im,n.re));case 2:return new rJ(-Math.pow(this.im,n.re),0);case 3:return new rJ(0,-Math.pow(this.im,n.re))}}if(i&&n.re>0)return rJ.ZERO;let a=Math.atan2(this.im,this.re),o=rZ(this.re,this.im),s=Math.exp(n.re*o-n.im*a),l=n.im*o+n.re*a;return new rJ(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){let t=this.re,r=this.im;if(0===r)if(t>=0)return new rJ(Math.sqrt(t),0);else return new rJ(0,Math.sqrt(-t));let n=Math.sqrt(.5*(rW(t,r)+Math.abs(t))),i=Math.abs(r)/(2*n);return t>=0?new rJ(n,r<0?-i:i):new rJ(i,r<0?-n:n)},exp:function(){let t=Math.exp(this.re);return 0===this.im?new rJ(t,0):new rJ(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){let t=this.re,r=this.im;return new rJ(Math.expm1(t)*Math.cos(r)+rU(r),Math.exp(t)*Math.sin(r))},log:function(){let t=this.re,r=this.im;return 0===r&&t>0?new rJ(Math.log(t),0):new rJ(rZ(t,r),Math.atan2(r,t))},abs:function(){return rW(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let t=this.re,r=this.im;return new rJ(Math.sin(t)*rq(r),Math.cos(t)*rH(r))},cos:function(){let t=this.re,r=this.im;return new rJ(Math.cos(t)*rq(r),-Math.sin(t)*rH(r))},tan:function(){let t=2*this.re,r=2*this.im,n=Math.cos(t)+rq(r);return new rJ(Math.sin(t)/n,rH(r)/n)},cot:function(){let t=2*this.re,r=2*this.im,n=Math.cos(t)-rq(r);return new rJ(-Math.sin(t)/n,rH(r)/n)},sec:function(){let t=this.re,r=this.im,n=.5*rq(2*r)+.5*Math.cos(2*t);return new rJ(Math.cos(t)*rq(r)/n,Math.sin(t)*rH(r)/n)},csc:function(){let t=this.re,r=this.im,n=.5*rq(2*r)-.5*Math.cos(2*t);return new rJ(Math.sin(t)*rq(r)/n,-Math.cos(t)*rH(r)/n)},asin:function(){let t=this.re,r=this.im,n=new rJ(r*r-t*t+1,-2*t*r).sqrt(),i=new rJ(n.re-r,n.im+t).log();return new rJ(i.im,-i.re)},acos:function(){let t=this.re,r=this.im,n=new rJ(r*r-t*t+1,-2*t*r).sqrt(),i=new rJ(n.re-r,n.im+t).log();return new rJ(Math.PI/2-i.im,i.re)},atan:function(){let t=this.re,r=this.im;if(0===t){if(1===r)return new rJ(0,1/0);if(-1===r)return new rJ(0,-1/0)}let n=t*t+(1-r)*(1-r),i=new rJ((1-r*r-t*t)/n,-2*t/n).log();return new rJ(-.5*i.im,.5*i.re)},acot:function(){let t=this.re,r=this.im;if(0===r)return new rJ(Math.atan2(1,t),0);let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).atan():new rJ(0!==t?t/0:0,0!==r?-r/0:0).atan()},asec:function(){let t=this.re,r=this.im;if(0===t&&0===r)return new rJ(0,1/0);let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).acos():new rJ(0!==t?t/0:0,0!==r?-r/0:0).acos()},acsc:function(){let t=this.re,r=this.im;if(0===t&&0===r)return new rJ(Math.PI/2,1/0);let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).asin():new rJ(0!==t?t/0:0,0!==r?-r/0:0).asin()},sinh:function(){let t=this.re,r=this.im;return new rJ(rH(t)*Math.cos(r),rq(t)*Math.sin(r))},cosh:function(){let t=this.re,r=this.im;return new rJ(rq(t)*Math.cos(r),rH(t)*Math.sin(r))},tanh:function(){let t=2*this.re,r=2*this.im,n=rq(t)+Math.cos(r);return new rJ(rH(t)/n,Math.sin(r)/n)},coth:function(){let t=2*this.re,r=2*this.im,n=rq(t)-Math.cos(r);return new rJ(rH(t)/n,-Math.sin(r)/n)},csch:function(){let t=this.re,r=this.im,n=Math.cos(2*r)-rq(2*t);return new rJ(-2*rH(t)*Math.cos(r)/n,2*rq(t)*Math.sin(r)/n)},sech:function(){let t=this.re,r=this.im,n=Math.cos(2*r)+rq(2*t);return new rJ(2*rq(t)*Math.cos(r)/n,-2*rH(t)*Math.sin(r)/n)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;let r=this.asin();return this.re=-this.im,this.im=t,t=r.re,r.re=-r.im,r.im=t,r},acosh:function(){let t=this.acos();if(t.im<=0){let r=t.re;t.re=-t.im,t.im=r}else{let r=t.im;t.im=-t.re,t.re=r}return t},atanh:function(){let t=this.re,r=this.im,n=1-t,i=1+t,a=n*n+r*r,o=0!==a?new rJ((i*n-r*r)/a,(r*n+i*r)/a):new rJ(-1!==t?t/0:0,0!==r?r/0:0),s=o.re;return o.re=rZ(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,t>1&&0===r&&(o.im=-o.im),o},acoth:function(){let t=this.re,r=this.im;if(0===t&&0===r)return new rJ(0,Math.PI/2);let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).atanh():new rJ(0!==t?t/0:0,0!==r?-r/0:0).atanh()},acsch:function(){let t=this.re,r=this.im;if(0===r)return new rJ(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).asinh():new rJ(0!==t?t/0:0,0!==r?-r/0:0).asinh()},asech:function(){let t=this.re,r=this.im;if(this.isZero())return rJ.INFINITY;let n=t*t+r*r;return 0!==n?new rJ(t/n,-r/n).acosh():new rJ(0!==t?t/0:0,0!==r?-r/0:0).acosh()},inverse:function(){if(this.isZero())return rJ.INFINITY;if(this.isInfinite())return rJ.ZERO;let t=this.re,r=this.im,n=t*t+r*r;return new rJ(t/n,-r/n)},conjugate:function(){return new rJ(this.re,-this.im)},neg:function(){return new rJ(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new rJ(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new rJ(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new rJ(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,r){let n=rK(t,r);return Math.abs(n.re-this.re)<=rJ.EPSILON&&Math.abs(n.im-this.im)<=rJ.EPSILON},clone:function(){return new rJ(this.re,this.im)},toString:function(){let t=this.re,r=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<rJ.EPSILON&&(t=0),Math.abs(r)<rJ.EPSILON&&(r=0),0===r)?n+t:(0!==t?(n+=t,n+=" ",r<0?(r=-r,n+="-"):n+="+",n+=" "):r<0&&(r=-r,n+="-"),1!==r&&(n+=r),n+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},rJ.ZERO=new rJ(0,0),rJ.ONE=new rJ(1,0),rJ.I=new rJ(0,1),rJ.PI=new rJ(Math.PI,0),rJ.E=new rJ(Math.E,0),rJ.INFINITY=new rJ(1/0,1/0),rJ.NAN=new rJ(NaN,NaN),rJ.EPSILON=1e-15;var rY=eJ("Complex",[],()=>(rJ.prototype.type="Complex",rJ.prototype.isComplex=!0,rJ.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},rJ.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},rJ.prototype.format=function(t){var r=this.im,n=this.re,i=e2(this.re,t),a=e2(this.im,t),o=ea(t)?t:t?t.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return 0===r?i:0===n?1===r?"i":-1===r?"-i":a+"i":r<0?-1===r?i+" - i":i+" - "+a.substring(1)+"i":1===r?i+" + i":i+" + "+a+"i"},rJ.fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"==typeof r)return rJ(r);throw TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(ea(n)){if(eu(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),ea(i))return new rJ({r:n,phi:i});throw TypeError("Phi is not a number nor an angle unit.")}throw TypeError("Radius r is not a number.");default:throw SyntaxError("Wrong number of arguments in function fromPolar")}},rJ.prototype.valueOf=rJ.prototype.toString,rJ.fromJSON=function(t){return new rJ(t)},rJ.compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},rJ),{isClass:!0}),rX={s:1,n:0,d:1};function r0(t,r){if(isNaN(t=parseInt(t,10)))throw r7();return t*r}function r1(t,r){if(0===r)throw r5();var n=Object.create(r3.prototype);n.s=t<0?-1:1;var i=r9(t=t<0?-t:t,r);return n.n=t/i,n.d=r/i,n}function r2(t){for(var r={},n=t,i=2,a=4;a<=n;){for(;n%i==0;)n/=i,r[i]=(r[i]||0)+1;a+=1+2*i++}return n!==t?n>1&&(r[n]=(r[n]||0)+1):r[t]=(r[t]||0)+1,r}var r4=function(t,r){var n,i=0,a=1,o=1,s=0,l=0,u=0,c=1,d=1,p=0,f=1,h=1,m=1;if(null==t);else if(void 0!==r){if(o=(i=t)*(a=r),i%1!=0||a%1!=0)throw r8()}else switch(typeof t){case"object":if("d"in t&&"n"in t)i=t.n,a=t.d,"s"in t&&(i*=t.s);else if(0 in t)i=t[0],1 in t&&(a=t[1]);else throw r7();o=i*a;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)i=t;else if(t>0){for(t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);f<=1e7&&m<=1e7;){if(t===(n=(p+h)/(f+m))){f+m<=1e7?(i=p+h,a=f+m):m>f?(i=h,a=m):(i=p,a=f);break}t>n?(p+=h,f+=m):(h+=p,m+=f),f>1e7?(i=h,a=m):(i=p,a=f)}i*=d}else(isNaN(t)||isNaN(r))&&(a=i=NaN);break;case"string":if(null===(f=t.match(/\d+|./g)))throw r7();if("-"===f[p]?(o=-1,p++):"+"===f[p]&&p++,f.length===p+1?l=r0(f[p++],o):"."===f[p+1]||"."===f[p]?("."!==f[p]&&(s=r0(f[p++],o)),(++p+1===f.length||"("===f[p+1]&&")"===f[p+3]||"'"===f[p+1]&&"'"===f[p+3])&&(l=r0(f[p],o),c=Math.pow(10,f[p].length),p++),("("===f[p]&&")"===f[p+2]||"'"===f[p]&&"'"===f[p+2])&&(u=r0(f[p+1],o),d=Math.pow(10,f[p+1].length)-1,p+=3)):"/"===f[p+1]||":"===f[p+1]?(l=r0(f[p],o),c=r0(f[p+2],1),p+=3):"/"===f[p+3]&&" "===f[p+1]&&(s=r0(f[p],o),l=r0(f[p+2],o),c=r0(f[p+4],1),p+=5),f.length<=p){o=i=u+(a=c*d)*s+d*l;break}default:throw r7()}if(0===a)throw r5();rX.s=o<0?-1:1,rX.n=Math.abs(i),rX.d=Math.abs(a)};function r9(t,r){if(!t)return r;if(!r)return t;for(;;){if(!(t%=r))return r;if(!(r%=t))return t}}function r3(t,r){if(r4(t,r),!(this instanceof r3))return r1(rX.s*rX.n,rX.d);t=r9(rX.d,rX.n),this.s=rX.s,this.n=rX.n/t,this.d=rX.d/t}var r5=function(){return Error("Division by Zero")},r7=function(){return Error("Invalid argument")},r8=function(){return Error("Parameters must be integer")};r3.prototype={s:1,n:0,d:1,abs:function(){return r1(this.n,this.d)},neg:function(){return r1(-this.s*this.n,this.d)},add:function(t,r){return r4(t,r),r1(this.s*this.n*rX.d+rX.s*this.d*rX.n,this.d*rX.d)},sub:function(t,r){return r4(t,r),r1(this.s*this.n*rX.d-rX.s*this.d*rX.n,this.d*rX.d)},mul:function(t,r){return r4(t,r),r1(this.s*rX.s*this.n*rX.n,this.d*rX.d)},div:function(t,r){return r4(t,r),r1(this.s*rX.s*this.n*rX.d,this.d*rX.n)},clone:function(){return r1(this.s*this.n,this.d)},mod:function(t,r){if(isNaN(this.n)||isNaN(this.d))return new r3(NaN);if(void 0===t)return r1(this.s*this.n%this.d,1);if(r4(t,r),0===rX.n&&0===this.d)throw r5();return r1(this.s*(rX.d*this.n)%(rX.n*this.d),rX.d*this.d)},gcd:function(t,r){return r4(t,r),r1(r9(rX.n,this.n)*r9(rX.d,this.d),rX.d*this.d)},lcm:function(t,r){return(r4(t,r),0===rX.n&&0===this.n)?r1(0,1):r1(rX.n*this.n,r9(rX.n,this.n)*r9(rX.d,this.d))},ceil:function(t){return(t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d))?new r3(NaN):r1(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return(t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d))?new r3(NaN):r1(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return(t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d))?new r3(NaN):r1(Math.round(t*this.s*this.n/this.d),t)},roundTo:function(t,r){return r4(t,r),r1(this.s*Math.round(this.n*rX.d/(this.d*rX.n))*rX.n,rX.d)},inverse:function(){return r1(this.s*this.d,this.n)},pow:function(t,r){if(r4(t,r),1===rX.d)if(rX.s<0)return r1(Math.pow(this.s*this.d,rX.n),Math.pow(this.n,rX.n));else return r1(Math.pow(this.s*this.n,rX.n),Math.pow(this.d,rX.n));if(this.s<0)return null;var n=r2(this.n),i=r2(this.d),a=1,o=1;for(var s in n)if("1"!==s){if("0"===s){a=0;break}if(n[s]*=rX.n,n[s]%rX.d!=0)return null;n[s]/=rX.d,a*=Math.pow(s,n[s])}for(var s in i)if("1"!==s){if(i[s]*=rX.n,i[s]%rX.d!=0)return null;i[s]/=rX.d,o*=Math.pow(s,i[s])}return rX.s<0?r1(o,a):r1(a,o)},equals:function(t,r){return r4(t,r),this.s*this.n*rX.d==rX.s*rX.n*this.d},compare:function(t,r){r4(t,r);var n=this.s*this.n*rX.d-rX.s*rX.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var r=this.abs(),n=r.toContinued(),i=1;i<n.length;i++){for(var a=r1(n[i-1],1),o=i-2;o>=0;o--)a=a.inverse().add(n[o]);if(Math.abs(a.sub(r).valueOf())<t)return a.mul(this.s)}return this},divisible:function(t,r){return r4(t,r),!(!(rX.n*this.d)||this.n*rX.d%(rX.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,n="",i=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=i:(t&&(r=Math.floor(i/a))>0&&(n+=r,n+=" ",i%=a),n+=i,n+="/",n+=a),n},toLatex:function(t){var r,n="",i=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=i:(t&&(r=Math.floor(i/a))>0&&(n+=r,i%=a),n+="\\frac{",n+=i,n+="}{",n+=a,n+="}"),n},toContinued:function(){var t,r=this.n,n=this.d,i=[];if(isNaN(r)||isNaN(n))return i;do i.push(Math.floor(r/n)),t=r%n,r=n,n=t;while(1!==r);return i},toString:function(t){var r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";t=t||15;var i=function(t,r){for(;r%2==0;r/=2);for(;r%5==0;r/=5);if(1===r)return 0;for(var n=10%r,i=1;1!==n;i++)if(n=10*n%r,i>2e3)return 0;return i}(0,n),a=function(t,r,n){for(var i=1,a=function(t,r,n){for(var i=1;r>0;t=t*t%n,r>>=1)1&r&&(i=i*t%n);return i}(10,n,r),o=0;o<300;o++){if(i===a)return o;i=10*i%r,a=10*a%r}return 0}(0,n,i),o=this.s<0?"-":"";if(o+=r/n|0,r%=n,(r*=10)&&(o+="."),i){for(var s=a;s--;)o+=r/n|0,r%=n,r*=10;o+="(";for(var s=i;s--;)o+=r/n|0,r%=n,r*=10;o+=")"}else for(var s=t;r&&s--;)o+=r/n|0,r%=n,r*=10;return o}};var r6=eJ("Fraction",[],()=>(r3.prototype.type="Fraction",r3.prototype.isFraction=!0,r3.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},r3.fromJSON=function(t){return new r3(t)},r3),{isClass:!0}),ne=n(42915);function nt(t,r){return!!t&&"object"==typeof t&&(!!eZ(nn,r)||!(r in Object.prototype)&&!(r in Function.prototype))}function nr(t){return"object"==typeof t&&t&&t.constructor===Object}var nn={length:!0,name:!0},ni={toString:!0,valueOf:!0,toLocaleString:!0};class na{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){var r,n,i=this.wrappedObject;if(nr(i)&&nt(i,t))return i[t];if("function"==typeof i[t]&&(r=i,n=t,!(null==r||"function"!=typeof r[n]||eZ(r,n)&&Object.getPrototypeOf&&n in Object.getPrototypeOf(r))&&(eZ(ni,n)||!(n in Object.prototype)&&!(n in Function.prototype))))throw Error('Cannot access method "'+t+'" as a property');throw Error('No access to property "'+t+'"')}set(t,r){return!function(t,r,n){if(nr(t)&&nt(t,r))return t[r]=n;throw Error('No access to property "'+r+'"')}(this.wrappedObject,t,r),this}has(t){return t in this.wrappedObject}}function no(t){return!!t&&(t instanceof Map||t instanceof na||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var ns=function(){return ns=ne.create,ne};function nl(t){throw Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function nu(t){throw Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function nc(t){throw Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var nd={BigNumberDependencies:rF,ComplexDependencies:{createComplexClass:rY},DenseMatrixDependencies:rB,FractionDependencies:{createFractionClass:r6},createTyped:eJ("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=t,o=ns();return o.types=[{name:"number",test:ea},{name:"Complex",test:es},{name:"BigNumber",test:eo},{name:"Fraction",test:el},{name:"Unit",test:eu},{name:"string",test:ec},{name:"Chain",test:eB},{name:"Array",test:ed},{name:"Matrix",test:ep},{name:"DenseMatrix",test:eh},{name:"SparseMatrix",test:em},{name:"Range",test:eg},{name:"Index",test:ey},{name:"boolean",test:ev},{name:"ResultSet",test:eb},{name:"Help",test:ex},{name:"function",test:ew},{name:"Date",test:ej},{name:"RegExp",test:eS},{name:"null",test:e_},{name:"undefined",test:eC},{name:"AccessorNode",test:eO},{name:"ArrayNode",test:eE},{name:"AssignmentNode",test:ek},{name:"BlockNode",test:eM},{name:"ConditionalNode",test:eP},{name:"ConstantNode",test:eD},{name:"FunctionNode",test:eN},{name:"FunctionAssignmentNode",test:eR},{name:"IndexNode",test:eT},{name:"Node",test:eI},{name:"ObjectNode",test:eV},{name:"OperatorNode",test:ez},{name:"ParenthesisNode",test:eL},{name:"RangeNode",test:eF},{name:"SymbolNode",test:e$},{name:"Map",test:no},{name:"Object",test:eA}],o.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(r||nl(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new r(t)}},{from:"number",to:"Complex",convert:function(t){return n||nu(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||nu(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||nu(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){a||nc(t);var r=new a(t);if(r.valueOf()!==t)throw TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return r}},{from:"string",to:"number",convert:function(t){var r=Number(t);if(isNaN(r))throw Error('Cannot convert "'+t+'" to a number');return r}},{from:"string",to:"BigNumber",convert:function(t){r||nl(t);try{return new r(t)}catch(r){throw Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){a||nc(t);try{return new a(t)}catch(r){throw Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||nu(t);try{return new n(t)}catch(r){throw Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return r||nl(t),new r(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return a||nc(t),new a(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return i||function(){throw Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],o})},np="equalScalar",nf=eJ(np,["typed","config"],t=>{var{typed:r,config:n}=t;return r(np,{"boolean, boolean":function(t,r){return t===r},"number, number":function(t,r){return e8(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||function(t,r,n){if(null==n)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var i=t.minus(r).abs();if(i.isZero())return!0;var a=t.constructor.max(t.abs(),r.abs());return i.lte(a.times(n))}return!1}(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return t.equals(r)},"Complex, Complex":function(t,r){var i;return i=n.epsilon,e8(t.re,r.re,i)&&e8(t.im,r.im,i)},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw Error("Cannot compare units with different base");return this(t.value,r.value)}})});eJ(np,["typed","config"],t=>{var{typed:r,config:n}=t;return r(np,{"number, number":function(t,r){return e8(t,r,n.epsilon)}})});var nh={typedDependencies:nd,createEqualScalar:nf},nm=eJ("SparseMatrix",["typed","equalScalar","Matrix"],t=>{var{typed:r,equalScalar:n,Matrix:i}=t;function a(t,r){if(!(this instanceof a))throw SyntaxError("Constructor must be called with the new operator");if(r&&!ec(r))throw Error("Invalid datatype: "+r);if(ep(t)){var n,i,s;n=this,i=t,s=r,"SparseMatrix"===i.type?(n._values=i._values?eH(i._values):void 0,n._index=eH(i._index),n._ptr=eH(i._ptr),n._size=eH(i._size),n._datatype=s||i._datatype):o(n,i.valueOf(),s||i._datatype)}else if(t&&ed(t.index)&&ed(t.ptr)&&ed(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=r||t.datatype;else if(ed(t))o(this,t,r);else if(t)throw TypeError("Unsupported type of data ("+eq(t)+")");else this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}function o(t,i,a){t._values=[],t._index=[],t._ptr=[],t._datatype=a;var o=i.length,s=0,l=n,u=0;if(ec(a)&&(l=r.find(n,[a,a])||n,u=r.convert(0,a)),o>0){var c=0;do{t._ptr.push(t._index.length);for(var d=0;d<o;d++){var p=i[d];if(ed(p)){if(0===c&&s<p.length&&(s=p.length),c<p.length){var f=p[c];l(f,u)||(t._values.push(f),t._index.push(d))}}else 0===c&&s<1&&(s=1),l(p,u)||(t._values.push(p),t._index.push(d))}c++}while(c<s)}t._ptr.push(t._index.length),t._size=[o,s]}function s(t,r,n,i){if(n-r==0)return n;for(var a=r;a<n;a++)if(i[a]===t)return a;return r}function l(t,r,n,i,a,o,s){a.splice(t,0,i),o.splice(t,0,r);for(var l=n+1;l<s.length;l++)s[l]++}function u(t,i,a,o){var s,l,u,c=o||0,d=n,p=0;ec(t._datatype)&&(d=r.find(n,[t._datatype,t._datatype])||n,p=r.convert(0,t._datatype),c=r.convert(c,t._datatype));var f=!d(c,p),h=t._size[0],m=t._size[1];if(a>m){for(l=m;l<a;l++)if(t._ptr[l]=t._values.length,f)for(s=0;s<h;s++)t._values.push(c),t._index.push(s);t._ptr[a]=t._values.length}else a<m&&(t._ptr.splice(a+1,m-a),t._values.splice(t._ptr[a],t._values.length),t._index.splice(t._ptr[a],t._index.length));if(m=a,i>h){if(f){var g=0;for(l=0;l<m;l++){t._ptr[l]=t._ptr[l]+g,u=t._ptr[l+1]+g;var y=0;for(s=h;s<i;s++,y++)t._values.splice(u+y,0,c),t._index.splice(u+y,0,s),g++}t._ptr[m]=t._values.length}}else if(i<h){var v=0;for(l=0;l<m;l++){t._ptr[l]=t._ptr[l]-v;var b=t._ptr[l],x=t._ptr[l+1]-v;for(u=b;u<x;u++)(s=t._index[u])>i-1&&(t._values.splice(u,1),t._index.splice(u,1),v++)}t._ptr[l]=t._values.length}return t._size[0]=i,t._size[1]=a,t}function c(t,r,n,i,a){var o,s,l=i[0],u=i[1],c=[];for(o=0;o<l;o++)for(s=0,c[o]=[];s<u;s++)c[o][s]=0;for(s=0;s<u;s++)for(var d=n[s],p=n[s+1],f=d;f<p;f++)c[o=r[f]][s]=t?a?eH(t[f]):t[f]:1;return c}return a.prototype=new i,a.prototype.createSparseMatrix=function(t,r){return new a(t,r)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return td(this._values,eq)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(t,r){return new a(t,r)},a.prototype.density=function(){var t=this._size[0],r=this._size[1];return 0!==t&&0!==r?this._index.length/(t*r):0},a.prototype.subset=function(t,r,n){if(!this._values)throw Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,r){if(!ey(r))throw TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n,i,o,s,l=r.size();if(l.length!==t._size.length)throw new tr(l.length,t._size.length);var u=r.min(),c=r.max();for(n=0,i=t._size.length;n<i;n++)to(u[n],t._size[n]),to(c[n],t._size[n]);var d=t._values,p=t._index,f=t._ptr,h=r.dimension(0),m=r.dimension(1),g=[],y=[];h.forEach(function(t,r){y[t]=r[0],g[t]=!0});var v=d?[]:void 0,b=[],x=[];return m.forEach(function(t){for(x.push(b.length),o=f[t],s=f[t+1];o<s;o++)!0===g[n=p[o]]&&(b.push(y[n]),v&&v.push(d[o]))}),x.push(b.length),new a({values:v,index:b,ptr:x,size:l,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,r,n,i){if(!r||!0!==r.isIndex)throw TypeError("Invalid index");var a,o=r.size(),s=r.isScalar();if(ep(n)?(a=n.size(),n=n.toArray()):a=ti(n),s){if(0!==a.length)throw TypeError("Scalar expected");t.set(r.min(),n,i)}else{if(1!==o.length&&2!==o.length)throw new tr(o.length,t._size.length,"<");if(a.length<o.length){for(var l=0,u=0;1===o[l]&&1===a[l];)l++;for(;1===o[l];)u++,l++;n=tc(n,o.length,u,a)}if(!eW(o,a))throw new tr(o,a,">");if(1===o.length)r.dimension(0).forEach(function(r,a){to(r),t.set([r,0],n[a[0]],i)});else{var c=r.dimension(0),d=r.dimension(1);c.forEach(function(r,a){to(r),d.forEach(function(o,s){to(o),t.set([r,o],n[a[0]][s[0]],i)})})}}return t}(this,t,r,n);default:throw SyntaxError("Wrong number of arguments")}},a.prototype.get=function(t){if(!ed(t))throw TypeError("Array expected");if(t.length!==this._size.length)throw new tr(t.length,this._size.length);if(!this._values)throw Error("Cannot invoke get on a Pattern only matrix");var r=t[0],n=t[1];to(r,this._size[0]),to(n,this._size[1]);var i=s(r,this._ptr[n],this._ptr[n+1],this._index);return i<this._ptr[n+1]&&this._index[i]===r?this._values[i]:0},a.prototype.set=function(t,i,a){if(!ed(t))throw TypeError("Array expected");if(t.length!==this._size.length)throw new tr(t.length,this._size.length);if(!this._values)throw Error("Cannot invoke set on a Pattern only matrix");var o=t[0],c=t[1],d=this._size[0],p=this._size[1],f=n,h=0;ec(this._datatype)&&(f=r.find(n,[this._datatype,this._datatype])||n,h=r.convert(0,this._datatype)),(o>d-1||c>p-1)&&(u(this,Math.max(o+1,d),Math.max(c+1,p),a),d=this._size[0],p=this._size[1]),to(o,d),to(c,p);var m=s(o,this._ptr[c],this._ptr[c+1],this._index);return m<this._ptr[c+1]&&this._index[m]===o?f(i,h)?function(t,r,n,i,a){n.splice(t,1),i.splice(t,1);for(var o=r+1;o<a.length;o++)a[o]--}(m,c,this._values,this._index,this._ptr):this._values[m]=i:l(m,o,c,i,this._values,this._index,this._ptr),this},a.prototype.resize=function(t,r,n){if(!ef(t))throw TypeError("Array or Matrix expected");var i=t.valueOf().map(t=>Array.isArray(t)&&1===t.length?t[0]:t);if(2!==i.length)throw Error("Only two dimensions matrix are supported");return i.forEach(function(t){if(!ea(t)||!e0(t)||t<0)throw TypeError("Invalid size, must contain positive integers (size: "+tt(i)+")")}),u(n?this.clone():this,i[0],i[1],r)},a.prototype.reshape=function(t,r){if(!ed(t))throw TypeError("Array expected");if(2!==t.length)throw Error("Sparse matrices can only be reshaped in two dimensions");t.forEach(function(r){if(!ea(r)||!e0(r)||r<=-2||0===r)throw TypeError("Invalid size, must contain positive integers or -1 (size: "+tt(t)+")")});var n=this._size[0]*this._size[1],i=(t=tl(t,n))[0]*t[1];if(n!==i)throw Error("Reshaping sparse matrix will result in the wrong number of elements");var a=r?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return a;for(var o=[],u=0;u<a._ptr.length;u++)for(var c=0;c<a._ptr[u+1]-a._ptr[u];c++)o.push(u);for(var d=a._values.slice(),p=a._index.slice(),f=0;f<a._index.length;f++){var h=p[f],m=o[f],g=h*a._size[1]+m;o[f]=g%t[1],p[f]=Math.floor(g/t[1])}a._values.length=0,a._index.length=0,a._ptr.length=t[1]+1,a._size=t.slice();for(var y=0;y<a._ptr.length;y++)a._ptr[y]=0;for(var v=0;v<d.length;v++){var b=p[v],x=o[v],w=d[v];l(s(b,a._ptr[x],a._ptr[x+1],a._index),b,x,w,a._values,a._index,a._ptr)}return a},a.prototype.clone=function(){return new a({values:this._values?eH(this._values):void 0,index:eH(this._index),ptr:eH(this._ptr),size:eH(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(t,i){if(!this._values)throw Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(t,i,o,s,l,u,c){var d=[],p=[],f=[],h=n,m=0;ec(t._datatype)&&(h=r.find(n,[t._datatype,t._datatype])||n,m=r.convert(0,t._datatype));for(var g=function(t,r,n){t=u(t,r,n),h(t,m)||(d.push(t),p.push(r))},y=0;y<=l;y++){f.push(d.length);var v=t._ptr[y],b=t._ptr[y+1];if(c)for(var x=v;x<b;x++){var w=t._index[x];w>=0&&w<=o&&g(t._values[x],w-0,y-0)}else{for(var j={},S=v;S<b;S++)j[t._index[S]]=t._values[S];for(var A=0;A<=o;A++)g(A in j?j[A]:0,A-0,y-0)}}return f.push(d.length),new a({values:d,index:p,ptr:f,size:[o-0+1,l-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(r,n,i){return t(r,[n,i],o)},i)},a.prototype.forEach=function(t,r){if(!this._values)throw Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],i=this._size[1],a=0;a<i;a++){var o=this._ptr[a],s=this._ptr[a+1];if(r)for(var l=o;l<s;l++){var u=this._index[l];t(this._values[l],[u,a],this)}else{for(var c={},d=o;d<s;d++)c[this._index[d]]=this._values[d];for(var p=0;p<n;p++)t(p in c?c[p]:0,[p,a],this)}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw Error("Cannot iterate a Pattern only matrix");for(var t=this._size[1],r=0;r<t;r++)for(var n=this._ptr[r],i=this._ptr[r+1],a=n;a<i;a++){var o=this._index[a];yield{value:this._values[a],index:[o,r]}}},a.prototype.toArray=function(){return c(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return c(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(t){for(var r=this._size[0],n=this._size[1],i=this.density(),a="Sparse Matrix ["+tt(r,t)+" x "+tt(n,t)+"] density: "+tt(i,t)+"\n",o=0;o<n;o++)for(var s=this._ptr[o],l=this._ptr[o+1],u=s;u<l;u++)a+="\n    ("+tt(this._index[u],t)+", "+tt(o,t)+") ==> "+(this._values?tt(this._values[u],t):"X");return a},a.prototype.toString=function(){return tt(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(t){if(t){if(eo(t)&&(t=t.toNumber()),!ea(t)||!e0(t))throw TypeError("The parameter k must be an integer number")}else t=0;var r=t>0?t:0,n=t<0?-t:0,i=this._size[0],o=this._size[1],s=Math.min(i-n,o-r),l=[],u=[],c=[];c[0]=0;for(var d=r;d<o&&l.length<s;d++)for(var p=this._ptr[d],f=this._ptr[d+1],h=p;h<f;h++){var m=this._index[h];if(m===d-r+n){l.push(this._values[h]),u[l.length-1]=m-n;break}}return c.push(l.length),new a({values:l,index:u,ptr:c,size:[s,1]})},a.fromJSON=function(t){return new a(t)},a.diagonal=function(t,i,o,s,l){if(!ed(t))throw TypeError("Array expected, size parameter");if(2!==t.length)throw Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(eo(t)&&(t=t.toNumber()),!ea(t)||!e0(t)||t<1)throw Error("Size values must be positive integers");return t}),o){if(eo(o)&&(o=o.toNumber()),!ea(o)||!e0(o))throw TypeError("The parameter k must be an integer number")}else o=0;var u,c=n,d=0;ec(l)&&(c=r.find(n,[l,l])||n,d=r.convert(0,l));var p=o>0?o:0,f=o<0?-o:0,h=t[0],m=t[1],g=Math.min(h-f,m-p);if(ed(i)){if(i.length!==g)throw Error("Invalid value array length");u=function(t){return i[t]}}else if(ep(i)){var y=i.size();if(1!==y.length||y[0]!==g)throw Error("Invalid matrix length");u=function(t){return i.get([t])}}else u=function(){return i};for(var v=[],b=[],x=[],w=0;w<m;w++){x.push(v.length);var j=w-p;if(j>=0&&j<g){var S=u(j);c(S,d)||(b.push(j+f),v.push(S))}}return x.push(v.length),new a({values:v,index:b,ptr:x,size:[h,m]})},a.prototype.swapRows=function(t,r){if(!ea(t)||!e0(t)||!ea(r)||!e0(r))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return to(t,this._size[0]),to(r,this._size[0]),a._swapRows(t,r,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(t,r,n,i,a){for(var o=i[t],s=i[t+1],l=o;l<s;l++)a(n[l],r[l])},a._swapRows=function(t,r,n,i,a,o){for(var l=0;l<n;l++){var u=o[l],c=o[l+1],d=s(t,u,c,a),p=s(r,u,c,a);if(d<c&&p<c&&a[d]===t&&a[p]===r){if(i){var f=i[d];i[d]=i[p],i[p]=f}continue}if(d<c&&a[d]===t&&(p>=c||a[p]!==r)){var h=i?i[d]:void 0;a.splice(p,0,r),i&&i.splice(p,0,h),a.splice(p<=d?d+1:d,1),i&&i.splice(p<=d?d+1:d,1);continue}if(p<c&&a[p]===r&&(d>=c||a[d]!==t)){var m=i?i[p]:void 0;a.splice(d,0,t),i&&i.splice(d,0,m),a.splice(d<=p?p+1:p,1),i&&i.splice(d<=p?p+1:p,1)}}},a},{isClass:!0}),ng="matrix",ny=eJ(ng,["typed","Matrix","DenseMatrix","SparseMatrix"],t=>{var{typed:r,Matrix:n,DenseMatrix:i,SparseMatrix:a}=t;return r(ng,{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,r){return o([],t,r)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(t,r,n){if("dense"===r||"default"===r||void 0===r)return new i(t,n);if("sparse"===r)return new a(t,n);throw TypeError("Unknown matrix type "+JSON.stringify(r)+".")}}),nv=eJ("algorithm01",["typed"],t=>{var{typed:r}=t;return function(t,n,i,a){var o,s,l=t._data,u=t._size,c=t._datatype,d=n._values,p=n._index,f=n._ptr,h=n._size,m=n._datatype;if(u.length!==h.length)throw new tr(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!d)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=u[0],y=u[1],v="string"==typeof c&&c===m?c:void 0,b=v?r.find(i,[v,v]):i,x=[];for(o=0;o<g;o++)x[o]=[];var w=[],j=[];for(s=0;s<y;s++){for(var S=s+1,A=f[s],_=f[s+1],C=A;C<_;C++)w[o=p[C]]=a?b(d[C],l[o][s]):b(l[o][s],d[C]),j[o]=S;for(o=0;o<g;o++)j[o]===S?x[o][s]=w[o]:x[o][s]=l[o][s]}return t.createDenseMatrix({data:x,size:[g,y],datatype:v})}}),nb=eJ("algorithm04",["typed","equalScalar"],t=>{var{typed:r,equalScalar:n}=t;return function(t,i,a){var o,s,l,u,c,d,p=t._values,f=t._index,h=t._ptr,m=t._size,g=t._datatype,y=i._values,v=i._index,b=i._ptr,x=i._size,w=i._datatype;if(m.length!==x.length)throw new tr(m.length,x.length);if(m[0]!==x[0]||m[1]!==x[1])throw RangeError("Dimension mismatch. Matrix A ("+m+") must match Matrix B ("+x+")");var j=m[0],S=m[1],A=n,_=0,C=a;"string"==typeof g&&g===w&&(o=g,A=r.find(n,[o,o]),_=r.convert(0,o),C=r.find(a,[o,o]));var O=p&&y?[]:void 0,E=[],k=[],M=p&&y?[]:void 0,P=p&&y?[]:void 0,D=[],R=[];for(l=0;l<S;l++){k[l]=E.length;var N=l+1;for(c=h[l],d=h[l+1],u=c;u<d;u++)s=f[u],E.push(s),D[s]=N,M&&(M[s]=p[u]);for(c=b[l],d=b[l+1],u=c;u<d;u++)if(D[s=v[u]]===N){if(M){var T=C(M[s],y[u]);A(T,_)?D[s]=null:M[s]=T}}else E.push(s),R[s]=N,P&&(P[s]=y[u]);if(M&&P)for(u=k[l];u<E.length;)D[s=E[u]]===N?(O[u]=M[s],u++):R[s]===N?(O[u]=P[s],u++):E.splice(u,1)}return k[S]=E.length,t.createSparseMatrix({values:O,index:E,ptr:k,size:[j,S],datatype:o})}}),nx=eJ("algorithm10",["typed","DenseMatrix"],t=>{var{typed:r,DenseMatrix:n}=t;return function(t,i,a,o){var s,l=t._values,u=t._index,c=t._ptr,d=t._size,p=t._datatype;if(!l)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=d[0],h=d[1],m=a;"string"==typeof p&&(s=p,i=r.convert(i,s),m=r.find(a,[s,s]));for(var g=[],y=[],v=[],b=0;b<h;b++){for(var x=b+1,w=c[b],j=c[b+1],S=w;S<j;S++){var A=u[S];y[A]=l[S],v[A]=x}for(var _=0;_<f;_++)0===b&&(g[_]=[]),v[_]===x?g[_][b]=o?m(i,y[_]):m(y[_],i):g[_][b]=i}return new n({data:g,size:[f,h],datatype:s})}}),nw=eJ("algorithm13",["typed"],t=>{var{typed:r}=t;return function(t,n,i){var a,o=t._data,s=t._size,l=t._datatype,u=n._data,c=n._size,d=n._datatype,p=[];if(s.length!==c.length)throw new tr(s.length,c.length);for(var f=0;f<s.length;f++){if(s[f]!==c[f])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");p[f]=s[f]}var h=i;"string"==typeof l&&l===d&&(a=l,h=r.find(i,[a,a]));var m=p.length>0?function t(r,n,i,a,o,s){var l=[];if(n===i.length-1)for(var u=0;u<a;u++)l[u]=r(o[u],s[u]);else for(var c=0;c<a;c++)l[c]=t(r,n+1,i,i[n+1],o[c],s[c]);return l}(h,0,p,p[0],o,u):[];return t.createDenseMatrix({data:m,size:p,datatype:a})}}),nj=eJ("algorithm14",["typed"],t=>{var{typed:r}=t;return function(t,n,i,a){var o,s=t._data,l=t._size,u=t._datatype,c=i;"string"==typeof u&&(o=u,n=r.convert(n,o),c=r.find(i,[o,o]));var d=l.length>0?function t(r,n,i,a,o,s,l){var u=[];if(n===i.length-1)for(var c=0;c<a;c++)u[c]=l?r(s,o[c]):r(o[c],s);else for(var d=0;d<a;d++)u[d]=t(r,n+1,i,i[n+1],o[d],s,l);return u}(c,0,l,l[0],s,n,a):[];return t.createDenseMatrix({data:d,size:eH(l),datatype:o})}});function nS(t,r){var n;if(!e0(t)||!e0(r))throw Error("Parameters in function gcd must be integer numbers");for(;0!==r;)n=t%r,t=r,r=n;return t<0?-t:t}nS.signature="number, number";let{gcd:nA}=function t(r,n){var i,a,o,s=(0,ei.A)({},th,n);if("function"!=typeof Object.create)throw Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var l=((i={isNumber:ea,isComplex:es,isBigNumber:eo,isFraction:el,isUnit:eu,isString:ec,isArray:ed,isMatrix:ep,isCollection:ef,isDenseMatrix:eh,isSparseMatrix:em,isRange:eg,isIndex:ey,isBoolean:ev,isResultSet:eb,isHelp:ex,isFunction:ew,isDate:ej,isRegExp:eS,isObject:eA,isNull:e_,isUndefined:eC,isAccessorNode:eO,isArrayNode:eE,isAssignmentNode:ek,isBlockNode:eM,isConditionalNode:eP,isConstantNode:eD,isFunctionAssignmentNode:eR,isFunctionNode:eN,isIndexNode:eT,isNode:eI,isObjectNode:eV,isOperatorNode:ez,isParenthesisNode:eL,isRangeNode:eF,isSymbolNode:e$,isChain:eB}).on=(a=new eK).on.bind(a),i.off=a.off.bind(a),i.once=a.once.bind(a),i.emit=a.emit.bind(a),i);l.config=function(t,r){function n(n){if(!n)return eU(t,eH);var i=eU(t,eH);ty(n,"matrix",tm),ty(n,"number",tg),function t(r,n){if(Array.isArray(n))throw TypeError("Arrays are not supported by deepExtend");for(var i in n)if(eZ(n,i)&&!(i in Object.prototype)&&!(i in Function.prototype))if(n[i]&&n[i].constructor===Object)void 0===r[i]&&(r[i]={}),r[i]&&r[i].constructor===Object?t(r[i],n[i]):r[i]=n[i];else if(Array.isArray(n[i]))throw TypeError("Arrays are not supported by deepExtend");else r[i]=n[i];return r}(t,n);var a=eU(t,eH);return r("config",a,i,eU(n,eH)),a}return n.MATRIX_OPTIONS=tm,n.NUMBER_OPTIONS=tg,Object.keys(th).forEach(r=>{Object.defineProperty(n,r,{get:()=>t[r],enumerable:!0,configurable:!0})}),n}(s,l.emit),l.expression={transform:{},mathWithTransform:{config:l.config}};var u={},c=function(t,r,n,i){function a(t,r){r&&"function"==typeof r.transform?(n.expression.transform[t]=r.transform,eZ(l,t)||(n.expression.mathWithTransform[t]=r.transform)):(delete n.expression.transform[t],eZ(l,t)||(n.expression.mathWithTransform[t]=r))}function o(t){return"function"==typeof t&&"object"==typeof t.signatures}function s(t){return void 0!==t&&void 0!==t.meta&&!0===t.meta.isTransformFunction}var l={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(r,u){var c=arguments.length;if(1!==c&&2!==c)throw new tf("import",c,1,2);u||(u={});var d={};for(var p in!function t(r,n,i){if(Array.isArray(n))n.forEach(n=>t(r,n));else if("object"==typeof n)for(var a in n)eZ(n,a)&&t(r,n[a],a);else if(eY(n)||void 0!==i){var o=eY(n)?s(n)?n.fn+".transform":n.fn:i;if(eZ(r,o)&&r[o]!==n&&!u.silent)throw Error('Cannot import "'+o+'" twice');r[o]=n}else if(!u.silent)throw TypeError("Factory, Object, or Array expected")}(d,r),d)if(eZ(d,p)){var f,h=d[p];if(eY(h))!function(r,a){var u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.fn;if(tp(c,"."))throw Error("Factory name should not contain a nested path. Name: "+JSON.stringify(c));var d=s(r)?n.expression.transform:n,p=c in n.expression.transform,f=eZ(d,c)?d[c]:void 0,h=function(){var i={};r.dependencies.map(eX).forEach(t=>{if(tp(t,"."))throw Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(t));"math"===t?i.math=n:"mathWithTransform"===t?i.mathWithTransform=n.expression.mathWithTransform:"classes"===t?i.classes=n:i[t]=n[t]});var s=r(i);if(s&&"function"==typeof s.transform)throw Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===f||a.override)return s;if(o(f)&&o(s))return t(f,s);if(a.silent)return f;throw Error('Cannot import "'+c+'": already exists')};r.meta&&!1===r.meta.lazy?d[c]=h():eQ(d,c,h),f&&p?function(t){delete n.expression.transform[t],eZ(l,t)?delete n.expression.mathWithTransform[t]:n.expression.mathWithTransform[t]=n[t]}(c):!s(r)&&(-1!==(u=r).fn.indexOf(".")||eZ(l,u.fn)||u.meta&&u.meta.isClass)||eQ(n.expression.mathWithTransform,c,()=>d[c]),i[c]=r,n.emit("import",c,h)}(h,u);else{if("function"==typeof(f=h)||"number"==typeof f||"string"==typeof f||"boolean"==typeof f||null===f||eu(f)||es(f)||eo(f)||el(f)||ep(f)||Array.isArray(f))!function(r,s,l){var u;if(l.wrap&&"function"==typeof s&&(s=function(t){var r=function(){for(var r=[],i=0,a=arguments.length;i<a;i++){var o=arguments[i];r[i]=o&&o.valueOf()}return t.apply(n,r)};return t.transform&&(r.transform=t.transform),r}(s)),"function"==typeof(u=s)&&"string"==typeof u.signature&&(s=t(r,{[s.signature]:s})),o(n[r])&&o(s)){s=l.override?t(r,s.signatures):t(n[r],s),n[r]=s,delete i[r],a(r,s),n.emit("import",r,function(){return s});return}if(void 0===n[r]||l.override){n[r]=s,delete i[r],a(r,s),n.emit("import",r,function(){return s});return}if(!l.silent)throw Error('Cannot import "'+r+'": already exists')}(p,h,u);else if(!u.silent)throw TypeError("Factory, Object, or Array expected")}}}}(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return l.typed.apply(l.typed,r)},0,l,u);return l.import=c,l.on("config",()=>{eG(u).forEach(t=>{t&&t.meta&&t.meta.recreateOnConfigChange&&c(t,{override:!0})})}),l.create=t.bind(null,r),l.factory=eJ,l.import(eG((function t(r,n){for(var i in r)if(eZ(r,i)){var a=r[i];"object"==typeof a&&null!==a?t(a,n):n[i]=a}}(r,o={}),o))),l.ArgumentsError=tf,l.DimensionError=tr,l.IndexError=tn,l}({gcdDependencies:{BigNumberDependencies:rF,DenseMatrixDependencies:rB,equalScalarDependencies:nh,matrixDependencies:{DenseMatrixDependencies:rB,MatrixDependencies:r$,SparseMatrixDependencies:{MatrixDependencies:r$,equalScalarDependencies:nh,typedDependencies:nd,createSparseMatrixClass:nm},typedDependencies:nd,createMatrix:ny},typedDependencies:nd,createGcd:eJ("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],t=>{var{typed:r,matrix:n,equalScalar:i,BigNumber:a,DenseMatrix:o}=t,s=nv({typed:r}),l=nb({typed:r,equalScalar:i}),u=nx({typed:r,DenseMatrix:o}),c=nw({typed:r}),d=nj({typed:r});return r("gcd",{"number, number":nS,"BigNumber, BigNumber":function(t,r){if(!t.isInt()||!r.isInt())throw Error("Parameters in function gcd must be integer numbers");for(var n=new a(0);!r.isZero();){var i=t.mod(r);t=r,r=i}return t.lt(n)?t.neg():t},"Fraction, Fraction":function(t,r){return t.gcd(r)},"SparseMatrix, SparseMatrix":function(t,r){return l(t,r,this)},"SparseMatrix, DenseMatrix":function(t,r){return s(r,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,r){return s(t,r,this,!1)},"DenseMatrix, DenseMatrix":function(t,r){return c(t,r,this)},"Array, Array":function(t,r){return this(n(t),n(r)).valueOf()},"Array, Matrix":function(t,r){return this(n(t),r)},"Matrix, Array":function(t,r){return this(t,n(r))},"SparseMatrix, number | BigNumber":function(t,r){return u(t,r,this,!1)},"DenseMatrix, number | BigNumber":function(t,r){return d(t,r,this,!1)},"number | BigNumber, SparseMatrix":function(t,r){return u(r,t,this,!0)},"number | BigNumber, DenseMatrix":function(t,r){return d(r,t,this,!0)},"Array, number | BigNumber":function(t,r){return d(n(t),r,this,!1).valueOf()},"number | BigNumber, Array":function(t,r){return d(n(r),t,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,r,n){for(var i=this(t,r),a=0;a<n.length;a++)i=this(i,n[a]);return i}})})}}),n_=10;function nC(t,r){let n=r.startMs,i=t.values,a=[];for(let t of i){for(;n<t[0];)a.push([n,null]),n+=r.stepMs;a.push([n,t[1]]),n+=r.stepMs}for(;n<=r.endMs;)a.push([n,null]),n+=r.stepMs;return a}function nO(t){let r,n,i=[];for(let r of t)if(r&&"timeRange"in r){if(void 0===r||void 0===r.timeRange||void 0===r.stepMs)continue;if(i.push(r.stepMs),void 0===n){n=r.timeRange;continue}r.timeRange.start<n.start&&(n.start=r.timeRange.start),r.timeRange.end>n.end&&(n.end=r.timeRange.end)}else if(r&&"values"in r){for(let t=0;t<r.values.length;t++){let i=r.values[t];if(void 0===i)continue;let[a]=i,o=new Date(a),s=new Date(a);if(void 0===n){n={start:o,end:s};continue}o<n.start&&(n.start=o),s>n.end&&(n.end=s)}if(void 0===n)return;let t=n.start.valueOf(),i=n.end.valueOf(),a=i-t;return{startMs:t,endMs:i,rangeMs:a,stepMs:n_}}if(void 0===n)return;if(1===i.length)r=i[0];else{let t=nA(...i);r=t<n_?n_:t}let a=n.start.valueOf(),o=n.end.valueOf();return{startMs:a,endMs:o,stepMs:r,rangeMs:o-a}}function nE(t,r){if(0===r.length)return t;let n={};for(let i of t){let t=Object.keys(i).filter(t=>r.includes(t)).map(t=>i[t]).join("|"),a=n[t];a?n[t]={...a,...i}:n[t]={...i}}return Object.values(n)}function nk(t,r,n){let i=[];for(let a of t){let t=Object.keys(a).filter(t=>r.includes(t)),o={};for(let r of t)o[r]=a[r],delete a[r];for(let r of t)i.push({...a,[n]:o[r]});0===t.length&&i.push(a)}return i}function nM(t,r){let n=[];for(let i of t){let t=Object.keys(i).filter(t=>RegExp("^(("+r+" #\\d+)|("+r+"))$").test(t)),a={};for(let r of t)a[r]=i[r],delete i[r];for(let o of t)n.push({...i,[r]:a[o]});0===t.length&&n.push(i)}return n}function nP(t){let r=[...t],n=Array.from(new Set(t.flatMap(Object.keys).map(t=>t.replace(/ #\d+/,"")).filter(t=>"value"!==t)));for(let t of n)r=nM(r,t);return nE(r,n)}function nD(t,r){let n=t;for(let t of r??[])if(!t.spec.disabled)switch(t.kind){case"JoinByColumnValue":t.spec.columns&&t.spec.columns.length>0&&(n=nE(n,t.spec.columns));break;case"MergeIndexedColumns":t.spec.column&&(n=nM(n,t.spec.column));break;case"MergeColumns":t.spec.columns&&t.spec.columns.length>0&&t.spec.name&&(n=nk(n,t.spec.columns,t.spec.name));break;case"MergeSeries":n=nP(n)}return n.map(t=>Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}))}function nR(t){return!!t?.startsWith("/")}function nN(t){if(!t)throw Error("Input string cannot be empty");if(!nR(t))return RegExp(`^${t}$`);let r=t.match(/^\/(.+)\/([gimy]*)$/);if(!r)throw Error(`Invalid regular expression format: ${t}`);let[,n="",i=""]=r;try{return new RegExp(n,i)}catch(t){throw Error(`Failed to create RegExp ${t}`)}}function nT(t,r=[]){if(!r.length)return{value:t};let n={value:t};return r.forEach(r=>{switch(r.kind){case"Value":{let i=r.spec;String(i.value)===String(t)&&(n.value=i.result.value||n.value,n.color=i.result.color);break}case"Range":{let i=r.spec;if(void 0===i.from&&void 0===i.to)break;let a=void 0!==i.from?i.from:-1/0,o=void 0!==i.to?i.to:1/0;t>=a&&t<=o&&(n.value=i.result.value||n.value,n.color=i.result.color);break}case"Regex":{let i=r.spec,a=t.toString();if(!i.pattern)break;let o=nN(i.pattern);a.match(o)&&null!==i.result.value&&(n.value=a.replace(o,i.result.value.toString()||"")||n.value,n.color=i.result.color);break}case"Misc":{let i=r.spec;(function(t,r){switch(t){case"empty":return""===r;case"null":return null==r;case"NaN":return Number.isNaN(r);case"true":return!0===r;case"false":return!1===r;default:return!1}})(i.value,t)&&(n.value=i.result.value||n.value,n.color=i.result.color)}}}),n}},12244:function(t,r,n){"use strict";function i(t,r){return t?.panelGroupId===r?.panelGroupId&&t?.panelGroupItemLayoutId===r?.panelGroupItemLayoutId}n.d(r,{a:()=>i})},7151:function(t,r,n){"use strict";n.d(r,{Ad:()=>l,O9:()=>p,Q9:()=>h,UW:()=>u,mq:()=>d,nI:()=>c,oy:()=>f});var i=n(23726),a=n(87799),o=n(92397),s=n(67406);let l=i.z.object({display:s.W.optional(),default:i.z.boolean(),plugin:o.P});function u(t){return i.z.object({display:s.W.optional(),default:i.z.boolean(),plugin:t})}let c=i.z.object({kind:i.z.literal("Datasource"),metadata:a.SK,spec:l}),d=i.z.object({kind:i.z.literal("GlobalDatasource"),metadata:a.R5,spec:l}),p=i.z.discriminatedUnion("kind",[c,d]),f=i.z.object({name:i.z.string().min(1),spec:l});function h(t){return i.z.object({name:i.z.string().min(1),spec:u(t)})}},67406:function(t,r,n){"use strict";n.d(r,{W:()=>a});var i=n(23726);let a=i.z.object({name:i.z.string().optional(),description:i.z.string().optional()})},87799:function(t,r,n){"use strict";n.d(r,{Jq:()=>a,R5:()=>o,SK:()=>s});var i=n(23726);let a=i.z.string().min(1,"Required").max(75,"Must be 75 or fewer characters long").regex(/^[a-zA-Z0-9_.-]+$/,"Must only contains alphanumerical characters and special characters _ . -"),o=i.z.object({name:a}),s=o.extend({project:a})},32710:function(t,r,n){"use strict";n.d(r,{H2:()=>c,Nk:()=>p,Sv:()=>o,TI:()=>f,Yk:()=>l,bx:()=>h,fI:()=>d,p9:()=>s,rN:()=>u});var i=n(23726),a=n(92397);let o=i.z.object({name:i.z.string().min(1,{message:"Required"}),description:i.z.string().optional()}),s=i.z.object({kind:i.z.string().min(1),spec:i.z.object({plugin:a.P})}),l=i.z.object({name:i.z.string().optional(),url:i.z.string().min(1),tooltip:i.z.string().optional(),renderVariables:i.z.boolean().optional(),targetBlank:i.z.boolean().optional()}),u=i.z.object({display:o,plugin:a.P,queries:i.z.array(s).optional(),links:i.z.array(l).optional()});function c(t){return i.z.object({display:o,plugin:t,queries:i.z.array(s).optional(),links:i.z.array(l).optional()})}let d=i.z.object({kind:i.z.literal("Panel"),spec:u});function p(t){return i.z.object({kind:i.z.literal("Panel"),spec:c(t)})}let f=i.z.object({groupId:i.z.number(),panelDefinition:d});function h(t){return i.z.object({groupId:i.z.number(),panelDefinition:p(t)})}},92397:function(t,r,n){"use strict";n.d(r,{P:()=>a});var i=n(23726);let a=i.z.object({kind:i.z.string().min(1,"Required"),spec:i.z.record(i.z.string(),i.z.any())})},18334:function(t,r,n){"use strict";n.d(r,{Fc:()=>f,P9:()=>l,Rq:()=>h,YO:()=>s,Yg:()=>c,c6:()=>p,hp:()=>u,hq:()=>v,lj:()=>b,op:()=>d,p0:()=>x,tk:()=>y,un:()=>g,vg:()=>m});var i=n(23726),a=n(87799),o=n(92397);let s=i.z.object({name:i.z.string().optional(),description:i.z.string().optional(),hidden:i.z.boolean().optional()}),l=i.z.object({name:i.z.string().min(1),display:s.optional(),defaultValue:i.z.string().or(i.z.array(i.z.string())).optional(),allowAllValue:i.z.boolean(),allowMultiple:i.z.boolean(),customAllValue:i.z.string().optional(),capturingRegexp:i.z.string().optional(),sort:i.z.enum(["none","alphabetical-asc","alphabetical-desc","numerical-asc","numerical-desc","alphabetical-ci-asc","alphabetical-ci-desc"]).optional(),plugin:o.P});function u(t){return i.z.object({name:i.z.string().min(1),display:s.optional(),defaultValue:i.z.string().or(i.z.array(i.z.string())).optional(),allowAllValue:i.z.boolean(),allowMultiple:i.z.boolean(),customAllValue:i.z.string().optional(),capturingRegexp:i.z.string().optional(),sort:i.z.enum(["none","alphabetical-asc","alphabetical-desc","numerical-asc","numerical-desc","alphabetical-ci-asc","alphabetical-ci-desc"]).optional(),plugin:t})}let c=i.z.object({kind:i.z.literal("ListVariable"),spec:l});function d(t){return i.z.object({kind:i.z.literal("ListVariable"),spec:u(t)})}let p=i.z.object({name:i.z.string().min(1),display:s.optional(),value:i.z.string(),constant:i.z.boolean().optional()}),f=i.z.object({kind:i.z.literal("TextVariable"),spec:p}),h=i.z.discriminatedUnion("kind",[f,c]);function m(t){return i.z.union([f,d(t)])}let g=i.z.object({kind:i.z.literal("Variable"),metadata:a.SK,spec:h}),y=i.z.object({kind:i.z.literal("GlobalVariable"),metadata:a.SK,spec:h}),v=i.z.discriminatedUnion("kind",[g,y]),b=h;function x(t){return i.z.discriminatedUnion("kind",[i.z.object({kind:i.z.literal("ListVariable"),spec:u(t)}),i.z.object({kind:i.z.literal("TextVariable"),spec:p})])}},37856:function(t,r,n){"use strict";async function i(...t){let r=await globalThis.fetch(...t);if(!1===r.ok){let t=r.headers.get("content-type");if(t?.includes("application/json")){let t=await r.clone().json();if(t.error)throw new s(t.error,r.status);if(t.message)throw new s(t.message,r.status)}let n=await r.clone().text();if(n)throw new s(n,r.status);throw new o(r)}return r}async function a(...t){let r=await i(...t);if(!r.ok)throw new o(r);return await r.json()}n.d(r,{P7:()=>s,fk:()=>o,hd:()=>i,x6:()=>a});class o extends Error{status;constructor(t){super(`${t.status} ${t.statusText}`),this.status=t.status,Object.setPrototypeOf(this,o.prototype)}}class s extends Error{status;constructor(t,r){super(t),this.status=r,Object.setPrototypeOf(this,s.prototype)}}},29261:function(t,r,n){"use strict";function i(t,r){let n=a(r),i=t.panels[n];if(void 0===i)throw Error(`Could not resolve panels reference ${r.$ref}`);return i}function a(t){return t.$ref.substring(14)}function o(t){return{$ref:`#/spec/panels/${t}`}}n.d(r,{BX:()=>a,YI:()=>o,yo:()=>i})},50831:function(t,r,n){"use strict";n.d(r,{O:()=>s});var i=n(62540),a=n(70451),o=n(4978);function s(t){let{projectName:r,datasourceApi:n,onCreate:s,children:u}=t,[c,d]=(0,a.useState)(t.dashboardResource),[p,f]=(0,a.useState)(t.savedDatasources??{}),h=r??c?.metadata.project,{getPlugin:m,listPluginMetadata:g}=(0,o.usePluginRegistry)(),y=(0,o.useEvent)(async t=>{if(c){let{datasources:r}=c.spec,i=function(t,r){if(void 0===t)return;if(void 0!==r.name){let n=t[r.name];if(void 0===n)return;return n.plugin.kind===r.kind?{name:r.name,spec:n}:void 0}let n=Object.entries(t).find(t=>t[1].plugin.kind===r.kind&&t[1].default);if(n)return{name:n[0],spec:n[1]}}(r,t);if(void 0!==i)return{spec:i.spec,proxyUrl:l(n,{project:c.metadata.project,dashboard:c.metadata.name,name:i.name})}}if(h){let r=await n.getDatasource(h,t);if(void 0!==r)return{spec:r.spec,proxyUrl:l(n,{project:r.metadata.project,name:r.metadata.name})}}let r=await n.getGlobalDatasource(t);if(void 0!==r)return{spec:r.spec,proxyUrl:l(n,{name:r.metadata.name})};throw Error(`No datasource found for kind '${t.kind}' and name '${t.name}'`)}),v=(0,a.useCallback)(async t=>{let{spec:r}=await y(t);return r},[y]),b=(0,a.useCallback)(async function(t){let{kind:r}=t,[{spec:n,proxyUrl:i},a]=await Promise.all([y(t),m("Datasource",r)]),o=a.createClient(n.plugin.spec,{proxyUrl:i});return void 0!==s?s(o):o},[y,m,s]),x=(0,o.useEvent)(async t=>{var r;let i,a,o,s,l,u,[d,f,m]=await Promise.all([g(["Datasource"]),h?n.listDatasources(h,t):[],n.listGlobalDatasources(t)]),y=d.find(r=>r.spec.name===t);if(void 0===y)throw Error(`Could not find a Datasource plugin with kind '${t}'`);let{results:v,addItem:b}=(r=y.spec.display.name,i=[],a=new Set,o=!0,s=!1,l={},u=1,{results:i,addItem:({spec:t,selectorName:n,selectorGroup:c,editLink:d,saved:p})=>{c=c??"",o&&i.push({group:`Default ${r}`,items:[]});let f=i[l[c]??-1];!f&&(l[c]=u,f={items:[],group:c,editLink:d},i[u]=f,u++);let h=a.has(n);f.items.push({name:t.display?.name??n,overridden:h,saved:p,selector:{kind:t.plugin.kind,name:n,group:c}}),a.add(n);let m=!h&&t.default&&!s;if(i[0]&&(o||m)&&(i[0].items=[{name:`Default (${n} from ${c})`,selector:{kind:t.plugin.kind}}],s=m),h)for(let t=+!!s;t<u;t++)(i[t]?.items??[]).filter(t=>t.selector.name===n).forEach(t=>{t.overriding=!0});o=!1}});if(c?.spec.datasources)for(let r in c.spec.datasources){let n=c.spec.datasources[r];if(void 0===n||n.plugin.kind!==t)continue;let i=r in p;b({spec:n,selectorName:r,selectorGroup:"dashboard",saved:i})}for(let t of f){let r=t.metadata.name;b({spec:t.spec,selectorName:r,selectorGroup:"project",editLink:`/projects/${h}/datasources`})}for(let t of m){let r=t.metadata.name;b({spec:t.spec,selectorName:r,selectorGroup:"global",editLink:"/admin/datasources"})}return v}),w=(0,a.useCallback)(()=>c?.spec.datasources??{},[c]),j=(0,a.useCallback)(()=>p,[p]),S=(0,a.useCallback)(t=>{c&&d((c.kind,{...c,spec:{...c.spec,datasources:t}}))},[c]),A=(0,a.useMemo)(()=>({getDatasource:v,getDatasourceClient:b,getLocalDatasources:w,setLocalDatasources:S,setSavedDatasources:f,getSavedDatasources:j,listDatasourceSelectItems:x}),[v,b,w,S,x,f,j]);return(0,i.jsx)(o.DatasourceStoreContext.Provider,{value:A,children:u})}function l(t,r){return t.buildProxyUrl?t.buildProxyUrl(r):""}},90824:function(t,r,n){"use strict";n.d(r,{RL:()=>M,eC:()=>E,mK:()=>R,bs:()=>C,NZ:()=>_,uR:()=>k,bq:()=>O,kS:()=>N});var i=n(62540),a=n(70451),o=n(95390);let{useDebugValue:s}=a,{useSyncExternalStoreWithSelector:l}=o,u=t=>t;function c(t,r=u,n){let i=l(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,n);return s(i),i}var d=n(41469),p=n(77419),f=n(86087),h=n(39100),m=n(88408),g=n(43945),y=n(4978),v=n(69791);function b(t,r){var n,i,a;let o={},s=[];return n=t,i=r,a=(t,r)=>{o[r]||(s.push(t),o[r]=!0)},n.forEach(t=>a(t,t.spec.name)),i.forEach(t=>t.definitions.forEach(r=>a(r,r.spec.name,t.source))),s}var x=n(53109),w=n(57348);let j="var-",S={encode:function(t){return Array.isArray(t)?t.join(","):t},decode:t=>{if("string"==typeof t){if(!t)return null;let r=t.split(",");return 1===r.length?r[0]:r}return""}},A=(0,a.createContext)(void 0);function _(){let t=(0,a.useContext)(A);if(!t)throw Error("VariableStoreContext not initialized");return t}function C(t){let r=_();return(0,p.n)(r,r=>{let n={};return(t??r.variableDefinitions.map(t=>t.spec.name)).forEach(t=>{let i=r.variableState.get({name:t});i&&!i.overridden&&(n[t]=i)}),r.externalVariableDefinitions.forEach(t=>{let i=t.source;t.definitions.forEach(t=>{let a=t.spec.name,o=r.variableState.get({name:a,source:i});o&&!o.overridden&&(n[a]=o)})}),n},(t,r)=>JSON.stringify(t)===JSON.stringify(r))}function O(t,r){return c(_(),n=>({state:n.variableState.get({name:t,source:r}),definition:((r?n.externalVariableDefinitions.find(t=>t.source===r)?.definitions:n.variableDefinitions)||[]).find(r=>r.spec.name===t)}))}function E(){let t=_();return(0,p.n)(t,t=>({setVariableValue:t.setVariableValue,setVariableLoading:t.setVariableLoading,setVariableOptions:t.setVariableOptions,setVariableDefinitions:t.setVariableDefinitions,setVariableDefaultValues:t.setVariableDefaultValues,getSavedVariablesStatus:t.getSavedVariablesStatus}),m.x)}function k(){return c(_(),t=>t.variableDefinitions)}function M(){return c(_(),t=>t.externalVariableDefinitions)}function P({children:t,builtinVariables:r}){let n=C(),o=k(),s=M(),{absoluteTimeRange:l}=(0,y.useTimeRange)(),u=(0,a.useMemo)(()=>{let t={};return Object.keys(n).forEach(r=>{let i={...n[r]};if("$__all"===i.value){let t=b(o,s).find(t=>t.spec.name===r);t?.kind==="ListVariable"&&t.spec.customAllValue?i.value=t.spec.customAllValue:i.value=i.options?.map(t=>t.value)??null}t[r]=i}),t},[n,o,s]),c=(0,a.useMemo)(()=>{let t=[{kind:"BuiltinVariable",spec:{name:"__from",value:()=>l.start.valueOf().toString(),source:"Dashboard",display:{name:"__from",description:"Start time of the current time range in unix millisecond epoch",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__to",value:()=>l.end.valueOf().toString(),source:"Dashboard",display:{name:"__to",description:"End time of the current time range in unix millisecond epoch",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range",value:()=>(0,v.a3)((0,v.$Z)(l)),source:"Dashboard",display:{name:"__range",description:"The range for the current dashboard in human readable format",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range_s",value:()=>((l.end.valueOf()-l.start.valueOf())/1e3).toString(),source:"Dashboard",display:{name:"__range_s",description:"The range for the current dashboard in second",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__range_ms",value:()=>(l.end.valueOf()-l.start.valueOf()).toString(),source:"Dashboard",display:{name:"__range_ms",description:"The range for the current dashboard in millisecond",hidden:!0}}}];return r?.forEach(r=>t.push(r)),t},[l,r]);return(0,i.jsx)(y.BuiltinVariableContext.Provider,{value:{variables:c},children:(0,i.jsx)(y.VariableContext.Provider,{value:{state:u},children:t})})}function D({initialVariableDefinitions:t=[],externalVariableDefinitions:r=[],queryParams:n}){var i;let a,o=(i=n?n[0]:{},a={},Object.keys(i).forEach(t=>{let r=i[t];r&&(a[t.replace(j,"")]=r)}),a);return(0,d.y)()((0,h.lt)((0,f.D)((i,a)=>({variableState:(0,x.F)(t,o,r),variableDefinitions:t,externalVariableDefinitions:r,setVariableDefinitions(t){i(n=>{n.variableDefinitions=t,n.variableState=(0,x.F)(t,o,r)},!1,"[Variables] setVariableDefinitions")},setVariableOptions(t,r,n){i(i=>{let a=i.variableState.get({name:t,source:n});a&&(a.options=r)},!1,"[Variables] setVariableOptions")},setVariableLoading(t,r,n){i(i=>{let a=i.variableState.get({name:t,source:n});a&&(a.loading=r)},!1,"[Variables] setVariableLoading")},setVariableValue:(t,r,a)=>i(i=>{let o=r,s=i.variableState.get({name:t,source:a});if(s){(Array.isArray(o)&&o.includes("$__all")&&(o="$__all"===o.at(-1)?"$__all":o.filter(t=>"$__all"!==t)),n)&&(0,n[1])({[`${j}${t}`]:o});s.value=o}},!1,"[Variables] setVariableValue"),setVariableDefaultValues:()=>{let t=a().variableDefinitions,r=a().variableState,n=(0,g.produce)(t,t=>{t.forEach((n,i)=>{let a=n.spec.name;if("ListVariable"===n.kind){let o=r.get({name:a});o?.value!==void 0&&(t[i]={kind:"ListVariable",spec:(0,g.produce)(n.spec,t=>{t.defaultValue=o.value})})}else if("TextVariable"===n.kind){let o=r.get({name:a}),s="string"==typeof o?.value?o.value:"";o?.value!==void 0&&(t[i]={kind:"TextVariable",spec:(0,g.produce)(n.spec,t=>{t.value=s})})}})});return i(t=>{t.variableDefinitions=n},!1,"[Variables] setVariableDefaultValues"),n},getSavedVariablesStatus:()=>(function(t,r){let n=!1,i=[];for(let a of t){let t=a.spec.name;if("ListVariable"===a.kind){let o=r.get({name:t});o?.value!==null&&o?.value!==a.spec.defaultValue&&(i.push(t),n=!0)}else if("TextVariable"===a.kind){let o=r.get({name:t}),s="string"==typeof o?.value?o.value:"";a.spec.value!==s&&(i.push(t),n=!0)}}return{isSavedVariableModified:n,modifiedVariableNames:i}})(a().variableDefinitions,a().variableState)}))))}function R({children:t,initialVariableDefinitions:r=[],externalVariableDefinitions:n=[],builtinVariableDefinitions:o=[]}){let[s]=(0,a.useState)(()=>D({initialVariableDefinitions:r,externalVariableDefinitions:n}));return(0,i.jsx)(A.Provider,{value:s,children:(0,i.jsx)(P,{builtinVariables:o,children:t})})}function N({children:t,initialVariableDefinitions:r=[],externalVariableDefinitions:n=[],builtinVariableDefinitions:o=[]}){let s,l=(s={},b(r,n).forEach(t=>{var r;s[r=t.spec.name,`${j}${r}`]=S}),(0,w.useQueryParams)(s,{updateType:"replaceIn"})),[u]=(0,a.useState)(()=>D({initialVariableDefinitions:r,externalVariableDefinitions:n,queryParams:l}));return(0,i.jsx)(A.Provider,{value:u,children:(0,i.jsx)(P,{builtinVariables:o,children:t})})}},53109:function(t,r,n){"use strict";n.d(r,{F:()=>o});var i=n(4978);function a(t,r){let n={value:null,loading:!1,overriding:!1,overridden:!1};switch(t.kind){case"TextVariable":n.value=r??t.spec.value;break;case"ListVariable":if(n.options=[],n.value=r??t.spec.defaultValue??null,n.options.length>0&&!n.value){let r=n.options[0]?.value??null;null!==r&&(n.value=t.spec.allowMultiple?[r]:r)}Array.isArray(n.value)&&1===n.value.length&&"$__all"===n.value[0]&&(n.value="$__all")}return n}function o(t,r,n=[]){let s=new i.VariableStoreStateMap,l={};t.forEach(t=>{l[t.spec.name]=!0},{});let u={};return n.forEach(t=>{let n=t.source;t.definitions.forEach(t=>{let i=t.spec.name,o=r[i];s.set({source:n,name:i},{...a(t,o||null),overridden:!!l[i]}),l[i]=!0,u[t.spec.name]=!0})},{}),t.forEach(t=>{let n=t.spec.name,i=r[n];s.set({name:n},{...a(t,i||null),overriding:!!u[n]})}),l={},n.slice().reverse().forEach(t=>{let r=t.source;t.definitions.forEach(t=>{let n=t.spec.name,i=s.get({source:r,name:n});i&&(i.overriding=!!l[n]),l[n]=!0})}),s}},45767:function(t,r,n){"use strict";let i;n.r(r),n.d(r,{ListVariableListBoxProvider:()=>ai,DashboardDiscardChangesConfirmationDialog:()=>ax,VariableName:()=>rR,usePanelGroupIds:()=>B,EditDatasourcesButton:()=>iQ,Panel:()=>tH,PanelGroupDialog:()=>a$,QuerySummaryTable:()=>aq,EditJsonDialog:()=>aj,RepeatGridLayout:()=>t2,useDeletePanelDialog:()=>eo,AddGroupButton:()=>eb,HeaderIconButton:()=>tj,Row:()=>tX,createPanelDefinition:()=>_,usePanelActions:()=>er,useViewPanel:()=>ec,useDashboardDuration:()=>el,EmptyDashboard:()=>rL,DatasourceStoreProvider:()=>aQ.O,DashboardStickyToolbar:()=>am,DashboardProvider:()=>T,useDashboardStore:()=>N,GridTitle:()=>tY,DashboardToolbar:()=>ag,VariableListItem:()=>ah,SaveChangesConfirmationDialog:()=>aW,PanelEditorContext:()=>aP,PanelPluginLoader:()=>e4,Prompt:()=>aC,useEditJsonDialog:()=>ev,useExternalVariableDefinitions:()=>t4.RL,AddPanelButton:()=>ew,useListPanelGroups:()=>H,GridItemContent:()=>tQ,useSaveChangesConfirmationDialog:()=>eh,VariableEditor:()=>rP,generateId:()=>A,usePanelGroup:()=>U,useVariableDefinitionStates:()=>t4.bs,Variable:()=>as,PanelPreview:()=>aR,DatasourceEditor:()=>iW,DashboardContext:()=>R,VariableProvider:()=>t4.mK,usePanel:()=>ee,LeaveDialog:()=>aO,EditJsonButton:()=>iG,useDeletePanelGroupDialog:()=>X,useViewPanelGroup:()=>ep,useListVariableState:()=>al,BuiltinVariableAccordions:()=>rk,DeletePanelDialog:()=>ay,DeletePanelGroupDialog:()=>ab,VariableProviderWithQueryParams:()=>t4.kS,DownloadButton:()=>iU,useListVariableListBoxContext:()=>an,Dashboard:()=>rF,useDiscardChangesConfirmationDialog:()=>eg,ListVariableListBox:()=>aa,GridLayout:()=>t1,usePanelGroupEditor:()=>J,PanelDrawer:()=>aV,GridContainer:()=>eB,VariableList:()=>af,useEditMode:()=>z,useVariableDefinitions:()=>t4.uR,useDashboard:()=>rK,useVariableDefinitionAndState:()=>t4.bq,ViewDashboard:()=>aJ,QueryViewerDialog:()=>tW,useDashboardActions:()=>F,useVariableDefinitionActions:()=>t4.eC,SaveDashboardButton:()=>iJ,useVariableDefinitionStoreCtx:()=>t4.NZ,usePanelEditor:()=>ei,usePanelGroupActions:()=>Q,EditVariablesButton:()=>rN});var a=n(62540),o=n(7013),s=n(2859),l=n(25086);let u="Add panel",c="Add panel group",d="Edit datasources",p="Edit variables",f={whiteSpace:"nowrap",minWidth:"auto","& .MuiButton-startIcon":{marginRight:.5}},h="header-actions-container";var m=n(70451),g=n.n(m),y=n(41469),v=n(77419),b=n(39100),x=n(86087),w=n(88408),j=n(4978),S=n(29261);function A(){return void 0===globalThis.dashboardStoreId&&(globalThis.dashboardStoreId=0),globalThis.dashboardStoreId++}function _(t,r){return{kind:"Panel",spec:{display:{name:"",description:void 0},plugin:{kind:t??"",spec:r??{}},queries:[]}}}function C(t){let r={},n=[];for(let i of t){let t=[],a={};for(let r of i.spec.items){let n=A().toString();t.push({i:n,w:r.width,h:r.height,x:r.x,y:r.y}),a[n]=(0,S.BX)(r.content)}let o=A();r[o]={id:o,isCollapsed:i.spec.display?.collapse?.open===!1,repeatVariable:i.spec.repeatVariable,title:i.spec.display?.title,itemLayouts:t,itemPanelKeys:a},n.push(o)}return{panelGroups:r,panelGroupOrder:n}}function O(){return{id:A(),title:void 0,isCollapsed:!1,itemLayouts:[],itemPanelKeys:{}}}function E(t,r){t.panelGroups[r.id]=r,t.panelGroupOrder.unshift(r.id)}let k={sm:24,xxs:2};function M(t){let r=0;for(let n of t.itemLayouts){let t=n.y+n.h;t>r&&(r=t)}return r}function P({x:t,y:r,w:n,h:i}){return{x1:t,x2:t+n,y1:r,y2:r+i}}let D=()=>{if(window.isSecureContext)return crypto.randomUUID().replaceAll("-","");let t=String(Date.now()),r=Math.random().toString(36).substring(2);return`${t}${r}`},R=(0,m.createContext)(void 0);function N(t){let r=(0,m.useContext)(R);if(void 0===r)throw Error("No DashboardContext found. Did you forget a Provider?");return(0,v.n)(r,t,w.x)}function T(t){let r=(0,m.useCallback)(I,[t]),[n]=(0,m.useState)(r(t)),{defaultPluginKinds:i}=(0,j.usePluginRegistry)(),o=i?.Panel??"",{data:s}=(0,j.usePlugin)("Panel",o);return(0,m.useEffect)(()=>{if(void 0===s)return;let t=s.createInitialOptions?s.createInitialOptions():{};n.setState({initialValues:{panelDefinition:_(o,t)}})},[s,n,o]),(0,a.jsx)(R.Provider,{value:n,children:t.children})}function I(t){let{initialState:{dashboardResource:r,isEditMode:n,viewPanelRef:i,setViewPanelRef:a}}=t,{kind:o,metadata:s,spec:{display:l,duration:u,refreshInterval:c="0s",datasources:d,layouts:p=[],panels:f={}}}=r,h="ttl"in r.spec?r.spec.ttl:void 0;return(0,y.y)()((0,x.D)((0,b.lt)((...t)=>{let[r]=t;return{...(function(t){let{panelGroups:r,panelGroupOrder:n}=C(t);return t=>({panelGroups:r,panelGroupOrder:n,swapPanelGroups(r,n){t(t=>{if(r<0||r>=t.panelGroupOrder.length||n<0||n>=t.panelGroupOrder.length)throw Error("index out of bound");let i=t.panelGroupOrder[r],a=t.panelGroupOrder[n];if(void 0===i||void 0===a)throw Error("panel group is undefined");[t.panelGroupOrder[r],t.panelGroupOrder[n]]=[a,i]})},updatePanelGroupLayouts(r,n){t(t=>{let i=t.panelGroups[r];if(void 0===i)throw Error(`Cannot find panel group ${r}`);i.itemLayouts=n})}})})(p)(...t),...((t,r)=>({panelGroupEditor:void 0,openAddPanelGroup:()=>{let r={mode:"Add",initialValues:{title:"",isCollapsed:!1,repeatVariable:""},applyChanges(r){let n=O();n.title=r.title,n.isCollapsed=r.isCollapsed,n.repeatVariable=r.repeatVariable,t(t=>{E(t,n)})},close(){t(t=>{t.panelGroupEditor=void 0})}};t(t=>{t.panelGroupEditor=r})},openEditPanelGroup:n=>{let i=r().panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} does not exist`);let a={mode:"Edit",initialValues:{title:i.title??"",isCollapsed:i.isCollapsed,repeatVariable:i.repeatVariable??""},applyChanges(r){t(t=>{let i=t.panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} does not exist`);i.title=r.title,i.isCollapsed=r.isCollapsed,i.repeatVariable=r.repeatVariable})},close(){t(t=>{t.panelGroupEditor=void 0})}};t(t=>{t.panelGroupEditor=a})}}))(...t),...((t,r)=>({deletePanelGroup(n){let{panelGroups:i,panelGroupOrder:a}=r(),o=i[n],s=a.findIndex(t=>t===n);if(void 0===o||-1===s)throw Error(`Panel group ${n} not found`);let l=Object.values(o.itemPanelKeys);t(t=>{delete t.panelGroups[n],t.panelGroupOrder.splice(s,1);let r=function(t){let r=new Set;for(let n of Object.values(t))for(let t of Object.values(n.itemPanelKeys))r.add(t);return r}(t.panelGroups);for(let n of l)r.has(n)||delete t.panels[n]})},openDeletePanelGroupDialog:n=>{let i=r().panelGroups[n];if(void 0===i)throw Error(`Panel group with Id ${n} not found`);t(t=>{t.deletePanelGroupDialog={panelGroupId:n,panelGroupName:i.title}})},closeDeletePanelGroupDialog:()=>t(t=>{t.deletePanelGroupDialog=void 0})}))(...t),...(()=>({panels:f}))(...t),...((t,r)=>({panelEditor:void 0,openEditPanel(n){let{panels:i,panelGroups:a}=r(),{panelGroupId:o,panelGroupItemLayoutId:s}=n,l=a[o]?.itemPanelKeys[s];if(void 0===l)throw Error(`Could not find Panel Group item ${n}`);let u=i[l];if(void 0===u)throw Error(`Cannot find Panel with key '${l}'`);let c={mode:"update",panelGroupItemId:n,initialValues:{groupId:n.panelGroupId,panelDefinition:u},applyChanges:r=>{t(t=>{if(t.panels[l]=r.panelDefinition,r.groupId===o)return;let n=t.panelGroups[o];if(void 0===n)throw Error(`Missing panel group ${o}`);let i=n.itemLayouts.findIndex(t=>t.i===s),a=n.itemLayouts[i],u=n.itemPanelKeys[s];if(-1===i||void 0===a||void 0===u)throw Error(`Missing panel group item ${s}`);n.itemLayouts.splice(i,1),delete n.itemPanelKeys[s];let c=t.panelGroups[r.groupId];if(void 0===c)throw Error(`Could not find new group ${r.groupId}`);c.itemLayouts.push({i:a.i,x:0,y:M(c),w:a.w,h:a.h}),c.itemPanelKeys[a.i]=u})},close:()=>{t(t=>{t.panelEditor=void 0})}};t(t=>{t.panelEditor=c})},openAddPanel(n){let i;void 0===(n??=r().panelGroupOrder[0])&&((i=O()).title="Panel Group",n=i.id);let a={mode:"create",initialValues:{groupId:n,panelDefinition:r().initialValues?.panelDefinition??_()},applyChanges:r=>{let n=D();t(t=>{t.panels[n]=r.panelDefinition;let i=t.panelGroups[r.groupId];if(void 0===i)throw Error(`Missing panel group ${r.groupId}`);let a={i:A().toString(),x:0,y:M(i),w:12,h:6};i.itemLayouts.push(a),i.itemPanelKeys[a.i]=n})},close:()=>{t(t=>{t.panelEditor=void 0})}};t(t=>{void 0!==i&&E(t,i),t.panelEditor=a})}}))(...t),...((t,r)=>({deletePanel(r){t(t=>{let{panelGroupId:n,panelGroupItemLayoutId:i}=r,a=t.panelGroups[n];if(void 0===a)throw Error(`Missing panel group ${n}`);let o=a.itemLayouts.findIndex(t=>t.i===i),s=a.itemPanelKeys[i];if(-1===o||void 0===s)throw Error(`Missing panel group item ${i}`);a.itemLayouts.splice(o,1),delete a.itemPanelKeys[i],!1===function(t,r){for(let n of Object.values(t))if(void 0!==Object.values(n.itemPanelKeys).find(t=>t===r))return!0;return!1}(t.panelGroups,s)&&delete t.panels[s]})},openDeletePanelDialog(n){let{panelGroupId:i,panelGroupItemLayoutId:a}=n,{panels:o,panelGroups:s}=r(),l=s[i];if(void 0===l)throw Error(`Panel group not found ${i}`);let u=l.itemPanelKeys[a];if(void 0===u)throw Error(`Could not find Panel Group item ${a}`);let c=o[u];if(void 0===c)throw Error(`Could not find panel ${u}`);t(t=>{t.deletePanelDialog={panelGroupItemId:n,panelName:c.spec.display.name,panelGroupName:l.title??""}})},closeDeletePanelDialog(){t(t=>{t.deletePanelDialog=void 0})}}))(...t),...(t=>({duplicatePanel(r){t(t=>{let n=t.panels,{panelGroupId:i,panelGroupItemLayoutId:a}=r,o=t.panelGroups[i];if(void 0===o)throw Error(`Missing panel group ${i}`);let s=o.itemPanelKeys[a];if(void 0===s)throw Error(`Could not find Panel Group item ${r}`);let l=n[s];if(void 0===l)throw Error(`Cannot find Panel with key '${s}'`);let u=o.itemLayouts.find(t=>t.i===a);if(void 0===u)throw Error(`Cannot find layout for Panel with key '${s}'`);let c=D();t.panels[c]=l;let d={i:A().toString(),w:u.w,h:u.h};o.itemLayouts=function(t,r,n){let i=k.sm,a=P(r),o=[],s=[],l=[];n.forEach(t=>{let r=P(t);r.y2<=a.y1?o.push(t):r.y1>=a.y2?l.push(t):s.push(t)}),s.sort((t,r)=>t.x-r.x);let u=s.findIndex(t=>t.i===r.i);if(u===s.length-1){if(a.x2+t.w<=i)return[...o,...s,{...t,x:a.x2,y:a.y1},...l]}else if(u>=0){let r=s[u+1];if(r&&P(r).x1-a.x2>=t.w)return s.splice(u+1,0,{...t,x:a.x2,y:a.y1}),[...o,...s,...l]}return[...o,...s,{x:a.x1,y:a.y2,...t},...l.map(r=>({...r,y:r.y+t.h}))]}(d,u,o.itemLayouts),o.itemPanelKeys[d.i]=c})}}))(...t),...((t,r)=>({viewPanel:{panelGroupItemId:void 0,panelRef:i},getViewPanel:()=>{var t,n,i;return t=r().panelGroups,n=r().viewPanel.panelGroupItemId,i=r().viewPanel.panelRef,n||(i?function(t,r){for(let n of Object.values(t)){let t=Object.entries(n.itemPanelKeys??[]).find(([t,n])=>n===r.ref);if(t){let[i]=t;return{panelGroupId:n.id,panelGroupItemLayoutId:i,repeatVariable:r.repeatVariable}}}}(t,i):void 0)},setViewPanel(n){t(t=>{t.viewPanel={panelRef:void 0,panelGroupItemId:n};let i=function(t,r){if(!r)return;let n=t[r.panelGroupId];if(n){let t=n.itemPanelKeys[r.panelGroupItemLayoutId];if(t)return{ref:t,repeatVariable:r.repeatVariable}}}(r().panelGroups,n);a&&a(i)})}}))(...t),...(t=>({isOpen:!1,openDiscardChangesConfirmationDialog(r){t(t=>{t.discardChangesConfirmationDialog=r})},closeDiscardChangesConfirmationDialog(){t(t=>{t.discardChangesConfirmationDialog=void 0})}}))(...t),...(t=>({openEditJsonDialog(){t(t=>{t.editJsonDialog={isOpen:!0}})},closeEditJsonDialog(){t(t=>{t.editJsonDialog={isOpen:!1}})}}))(...t),...(t=>({isOpen:!1,openSaveChangesConfirmationDialog(r){t(t=>{t.saveChangesConfirmationDialog=r},!1,"openSaveChangesConfirmationDialog")},closeSaveChangesConfirmationDialog(){t(t=>{t.saveChangesConfirmationDialog=void 0},!1,"closeSaveChangesConfirmationDialog")}}))(...t),kind:o,metadata:s,display:l,duration:u,refreshInterval:c,datasources:d,ttl:h,isEditMode:!!n,setEditMode:t=>{r({isEditMode:t})},setDashboard:({kind:t,metadata:n,spec:{display:i,panels:a={},layouts:o=[],duration:s,refreshInterval:l,datasources:u={}}})=>{r(r=>{r.kind=t,r.metadata=n,r.display=i,r.panels=a;let{panelGroups:c,panelGroupOrder:d}=C(o);r.panelGroups=c,r.panelGroupOrder=d,r.duration=s,r.refreshInterval=l??"0s",r.datasources=u})}}})))}let V=({isEditMode:t,setEditMode:r})=>({isEditMode:t,setEditMode:r});function z(){return N(V)}let L=({setDashboard:t,openAddPanelGroup:r,openAddPanel:n})=>({setDashboard:t,openAddPanelGroup:r,openAddPanel:n});function F(){let{setDashboard:t,openAddPanelGroup:r,openAddPanel:n}=N(L);return{setDashboard:t,openAddPanelGroup:()=>r(),openAddPanel:()=>n()}}let $=t=>t.panelGroupOrder;function B(){return N($)}let q=t=>t.panelGroups;function H(){let t=B(),r=N(q);return(0,m.useMemo)(()=>t.map(t=>{let n=r[t];if(void 0===n)throw Error(`Invalid panel group Id found ${t}`);return n}),[t,r])}function U(t){let r=N((0,m.useCallback)(r=>r.panelGroups[t],[t]));if(void 0===r)throw Error(`Panel group with Id ${t} was not found`);return r}let W=({openEditPanelGroup:t,deletePanelGroup:r,openAddPanel:n,updatePanelGroupLayouts:i})=>({openEditPanelGroup:t,deletePanelGroup:r,openAddPanel:n,updatePanelGroupLayouts:i});function Q(t){let{moveUp:r,moveDown:n}=function(t){let r=N((0,m.useCallback)(r=>r.panelGroupOrder.findIndex(r=>r===t),[t])),n=N(G),i=N(Z);if(r<0)throw Error(`Could not find panel group with Id ${t} in order array`);return{moveUp:r>0?()=>i(r,r-1):void 0,moveDown:r<n-1?()=>i(r,r+1):void 0}}(t),{openEditPanelGroup:i,deletePanelGroup:a,openAddPanel:o,updatePanelGroupLayouts:s}=N(W);return{openEditPanelGroup:()=>i(t),deletePanelGroup:()=>a(t),openAddPanel:()=>o(t),moveUp:r,moveDown:n,updatePanelGroupLayouts:r=>s(t,r)}}let Z=t=>t.swapPanelGroups,G=t=>t.panelGroupOrder.length,K=t=>t.panelGroupEditor;function J(){return N(K)}let Y=({deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i})=>({deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i});function X(){let{deletePanelGroupDialog:t,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:n,deletePanelGroup:i}=N(Y);return{deletePanelGroupDialog:t,deletePanelGroup:i,openDeletePanelGroupDialog:r,closeDeletePanelGroupDialog:()=>n()}}function ee(t){let{panelGroupId:r,panelGroupItemLayoutId:n}=t,i=N((0,m.useCallback)(t=>{let i=t.panelGroups[r]?.itemPanelKeys[n];if(void 0!==i)return t.panels[i]},[r,n]));if(void 0===i)throw Error(`Could not find panel for Id ${t}`);return i}let et=({openEditPanel:t,openDeletePanelDialog:r,duplicatePanel:n,setViewPanel:i})=>({openEditPanel:t,openDeletePanelDialog:r,duplicatePanel:n,setViewPanel:i});function er(t){let{openEditPanel:r,openDeletePanelDialog:n,duplicatePanel:i,setViewPanel:a}=N(et);return{openEditPanel:()=>r(t),openDeletePanelDialog:()=>n(t),duplicatePanel:()=>i(t),viewPanel:t=>a(t)}}let en=t=>t.panelEditor;function ei(){return N(en)}let ea=({deletePanelDialog:t,deletePanel:r,closeDeletePanelDialog:n})=>({deletePanelDialog:t,deletePanel:r,closeDeletePanelDialog:n});function eo(){return N(ea)}let es=t=>t.duration;function el(){return N(es)}let eu=t=>({setViewPanel:t.setViewPanel,getViewPanel:t.getViewPanel,viewPanelId:t.getViewPanel()});function ec(){return N(eu)}let ed=t=>t.getViewPanel();function ep(){return N(ed)}let ef=({saveChangesConfirmationDialog:t,openSaveChangesConfirmationDialog:r,closeSaveChangesConfirmationDialog:n})=>({saveChangesConfirmationDialog:t,openSaveChangesConfirmationDialog:r,closeSaveChangesConfirmationDialog:n});function eh(){return N(ef)}let em=({discardChangesConfirmationDialog:t,openDiscardChangesConfirmationDialog:r,closeDiscardChangesConfirmationDialog:n})=>({discardChangesConfirmationDialog:t,openDiscardChangesConfirmationDialog:r,closeDiscardChangesConfirmationDialog:n});function eg(){return N(em)}let ey=({editJsonDialog:t,openEditJsonDialog:r,closeEditJsonDialog:n})=>({editJsonDialog:t,openEditJsonDialog:r,closeEditJsonDialog:n});function ev(){return N(ey)}let eb=()=>{let{openAddPanelGroup:t}=F();return(0,a.jsx)(l.InfoTooltip,{description:c,children:(0,a.jsx)(o.A,{startIcon:(0,a.jsx)(s.default,{}),onClick:t,"aria-label":c,sx:f,children:"Panel Group"})})};var ex=n(69525);let ew=({variant:t="text",color:r="primary",label:n="Panel",fullWidth:i})=>{let{openAddPanel:s}=F();return(0,a.jsx)(l.InfoTooltip,{description:u,children:(0,a.jsx)(o.A,{startIcon:(0,a.jsx)(ex.default,{}),onClick:s,"aria-label":u,variant:t,color:r,fullWidth:i,sx:f,children:n})})};var ej=n(74628),eS=n(56599),eA=n(11750),e_=n(46477),eC=n(3725),eO=n(81023),eE=n(77308),ek=n(23434),eM=n(72052),eP=n(48927),eD=n(32494),eR=n(29424),eN=n(29009),eT=n(46733);function eI(t){return(0,eT.Ay)("MuiCollapse",t)}(0,eN.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);let eV=(0,eE.A)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[n.orientation],"entered"===n.state&&r.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&r.hidden]}})((0,ek.A)(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>"exited"===t.state&&!t.in&&"0px"===t.collapsedSize,style:{visibility:"hidden"}}]}))),ez=(0,eE.A)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),eL=(0,eE.A)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),eF=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:l="0px",component:u,easing:c,in:d,onEnter:p,onEntered:f,onEntering:h,onExit:g,onExited:y,onExiting:v,orientation:b="vertical",style:x,timeout:w=eP.p0.standard,TransitionComponent:j=e_.Ay,...S}=n,A={...n,orientation:b,collapsedSize:l},_=(t=>{let{orientation:r,classes:n}=t,i={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return(0,eO.A)(i,eI,n)})(A),C=(0,eS.A)(),O=(0,eC.A)(),E=m.useRef(null),k=m.useRef(),M="number"==typeof l?`${l}px`:l,P="horizontal"===b,D=P?"width":"height",R=m.useRef(null),N=(0,eR.A)(r,R),T=t=>r=>{if(t){let n=R.current;void 0===r?t(n):t(n,r)}},I=()=>E.current?E.current[P?"clientWidth":"clientHeight"]:0,V=T((t,r)=>{E.current&&P&&(E.current.style.position="absolute"),t.style[D]=M,p&&p(t,r)}),z=T((t,r)=>{let n=I();E.current&&P&&(E.current.style.position="");let{duration:i,easing:a}=(0,eD.c)({style:x,timeout:w,easing:c},{mode:"enter"});if("auto"===w){let r=C.transitions.getAutoHeightDuration(n);t.style.transitionDuration=`${r}ms`,k.current=r}else t.style.transitionDuration="string"==typeof i?i:`${i}ms`;t.style[D]=`${n}px`,t.style.transitionTimingFunction=a,h&&h(t,r)}),L=T((t,r)=>{t.style[D]="auto",f&&f(t,r)}),F=T(t=>{t.style[D]=`${I()}px`,g&&g(t)}),$=T(y),B=T(t=>{let r=I(),{duration:n,easing:i}=(0,eD.c)({style:x,timeout:w,easing:c},{mode:"exit"});if("auto"===w){let n=C.transitions.getAutoHeightDuration(r);t.style.transitionDuration=`${n}ms`,k.current=n}else t.style.transitionDuration="string"==typeof n?n:`${n}ms`;t.style[D]=M,t.style.transitionTimingFunction=i,v&&v(t)});return(0,a.jsx)(j,{in:d,onEnter:V,onEntered:L,onEntering:z,onExit:F,onExited:$,onExiting:B,addEndListener:t=>{"auto"===w&&O.start(k.current||0,t),i&&i(R.current,t)},nodeRef:R,timeout:"auto"===w?null:w,...S,children:(t,{ownerState:r,...n})=>(0,a.jsx)(eV,{as:u,className:(0,eA.A)(_.root,s,{entered:_.entered,exited:!d&&"0px"===M&&_.hidden}[t]),style:{[P?"minWidth":"minHeight"]:M,...x},ref:N,ownerState:{...A,state:t},...n,children:(0,a.jsx)(ez,{ownerState:{...A,state:t},className:_.wrapper,ref:E,children:(0,a.jsx)(eL,{ownerState:{...A,state:t},className:_.wrapperInner,children:o})})})})});eF&&(eF.muiSupportAuto=!0);var e$=n(12548);function eB(t){let[r,n]=(0,m.useState)(!0);return(0,m.useEffect)(()=>{r&&n(!1)},[r]),(0,a.jsx)(eq,{sx:[{"& + &":{marginTop:1},"& .react-grid-item.cssTransforms":{transitionProperty:r?"none":"transform"}},...Array.isArray(t.sx)?t.sx:[t.sx]],"data-testid":"panel-group",children:t.children})}let eq=(0,eE.A)("section")(({theme:t})=>({"& .react-grid-layout":{position:"relative",transition:"height 200ms ease"},"& .react-grid-item":{transition:"all 200ms ease",transitionProperty:"left, top"},"& .react-grid-item img":{pointerEvents:"none",userSelect:"none"},"& .react-grid-item.cssTransforms":{transitionProperty:"transform"},"& .react-grid-item.resizing":{zIndex:1,willChange:"width, height"},"& .react-grid-item.react-draggable-dragging":{transition:"none",zIndex:3,willChange:"transform"},"& .react-grid-item.dropping":{visibility:"hidden"},"& .react-grid-item.react-grid-placeholder":{background:t.palette.primary.main,opacity:.2,transitionDuration:"100ms",zIndex:2,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none"},"& .react-grid-item > .react-resizable-handle":{position:"absolute",width:"20px",height:"20px"},"& .react-grid-item > .react-resizable-handle::after":{content:'""',position:"absolute",right:"3px",bottom:"3px",width:"5px",height:"5px",borderRight:`2px solid ${t.palette.text.secondary}`,borderBottom:`2px solid ${t.palette.text.secondary}`},"& .react-resizable-hide > .react-resizable-handle":{display:"none"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-sw":{bottom:"0",left:"0",cursor:"sw-resize",transform:"rotate(90deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-se":{bottom:"0",right:"0",cursor:"se-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-nw":{top:"0",left:"0",cursor:"nw-resize",transform:"rotate(180deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-ne":{top:"0",right:"0",cursor:"ne-resize",transform:"rotate(270deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-w, &.react-grid-item > .react-resizable-handle.react-resizable-handle-e":{top:"50%",marginTop:"-10px",cursor:"ew-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-w":{left:"0",transform:"rotate(135deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-e":{right:"0",transform:"rotate(315deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-n, &.react-grid-item > .react-resizable-handle.react-resizable-handle-s":{left:"50%",marginLeft:"-10px",cursor:"ns-resize"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-n":{top:"0",transform:"rotate(225deg)"},"& .react-grid-item > .react-resizable-handle.react-resizable-handle-s":{bottom:"0",transform:"rotate(45deg)"},"& .react-resizable":{position:"relative"},"& .react-resizable-handle":{position:"absolute",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundOrigin:"content-box",boxSizing:"border-box",backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+')",backgroundPosition:"bottom right",padding:"0 3px 3px 0"},"& .react-resizable-handle-sw":{bottom:"0",left:"0",cursor:"sw-resize",transform:"rotate(90deg)"},"& .react-resizable-handle-se":{bottom:"0",right:"0",cursor:"se-resize"},"& .react-resizable-handle-nw":{top:"0",left:"0",cursor:"nw-resize",transform:"rotate(180deg)"},"& .react-resizable-handle-ne":{top:"0",right:"0",cursor:"ne-resize",transform:"rotate(270deg)"},"& .react-resizable-handle-w, .react-resizable-handle-e":{top:"50%",marginTop:"-10px",cursor:"ew-resize"},"& .react-resizable-handle-w":{left:"0",transform:"rotate(135deg)"},"& .react-resizable-handle-e":{right:"0",transform:"rotate(315deg)"},"& .react-resizable-handle-n, .react-resizable-handle-s":{left:"50%",marginLeft:"-10px",cursor:"ns-resize"},"& .react-resizable-handle-n":{top:"0",transform:"rotate(225deg)"},"& .react-resizable-handle-s":{bottom:"0",transform:"rotate(45deg)"}}));var eH=Object.defineProperty,eU=new Map,eW=new WeakMap,eQ=0,eZ=void 0;m.Component;var eG=n(12244),eK=n(68150);function eJ(t){return(0,eT.Ay)("MuiCardContent",t)}(0,eN.A)("MuiCardContent",["root"]);let eY=(0,eE.A)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),eX=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...s}=n,l={...n,component:o},u=(t=>{let{classes:r}=t;return(0,eO.A)({root:["root"]},eJ,r)})(l);return(0,a.jsx)(eY,{as:o,className:(0,eA.A)(u.root,i),ownerState:l,ref:r,...s})});var e0=n(26422),e1=n.n(e0),e2=n(33313);function e4(t){let{kind:r,spec:n,contentDimensions:i,definition:o,queryResults:s}=t,{data:l,isLoading:u}=(0,j.usePlugin)("Panel",r,{useErrorBoundary:!0}),c=l?.PanelComponent,d=l?.supportedQueryTypes||[],p=d.length>0?s:[];if(u)return(0,a.jsx)(e2.A,{variant:"rectangular",width:i?.width,height:i?.height,"aria-label":"Loading..."});if(void 0===c)throw Error(`Missing PanelComponent from panel plugin for kind '${r}'`);for(let t of p)if(!d.includes(t.definition.kind))throw Error(`This panel does not support queries of type '${t.definition.kind}'. Supported query types: ${d.join(", ")}.`);return(0,a.jsx)(c,{spec:n,contentDimensions:i,definition:o,queryResults:p})}function e9(t){let{panelPluginKind:r,definition:n,queryResults:i,spec:o,contentDimensions:s}=t,{data:l,isLoading:u}=(0,j.usePlugin)("Panel",r,{useErrorBoundary:!0});if(u)return(0,a.jsx)(e2.A,{variant:"rectangular",width:s?.width,height:s?.height,"aria-label":"Loading..."});let c=i.flatMap(t=>t.data?[{data:t.data,definition:t.definition}]:[]);if(c.length>0||0===i.length)return(0,a.jsx)(e4,{kind:r,spec:o,contentDimensions:s,definition:n,queryResults:c});if(i.some(t=>t.isFetching))return(0,a.jsx)(e3,{plugin:l,spec:o,definition:n,contentDimensions:s});let d=i.find(t=>t.error);if(d)throw d.error;return(0,a.jsx)(e3,{plugin:l,spec:o,definition:n,contentDimensions:s})}function e3({plugin:t,spec:r,definition:n,contentDimensions:i}){return t?.LoadingComponent?(0,a.jsx)(t.LoadingComponent,{spec:r,contentDimensions:i,definition:n,queryResults:[]}):(0,a.jsx)(l.LoadingOverlay,{})}var e5=n(47599),e7=n(88091);function e8(t){return(0,eT.Ay)("MuiCardHeader",t)}let e6=(0,eN.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var te=n(73397);let tt=(0,eE.A)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,r)=>[{[`& .${e6.title}`]:r.title},{[`& .${e6.subheader}`]:r.subheader},r.root]})({display:"flex",alignItems:"center",padding:16}),tr=(0,eE.A)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,r)=>r.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),tn=(0,eE.A)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,r)=>r.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ti=(0,eE.A)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,r)=>r.content})({flex:"1 1 auto",[`.${e5.A.root}:where(& .${e6.title})`]:{display:"block"},[`.${e5.A.root}:where(& .${e6.subheader})`]:{display:"block"}}),ta=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiCardHeader"}),{action:i,avatar:o,component:s="div",disableTypography:l=!1,subheader:u,subheaderTypographyProps:c,title:d,titleTypographyProps:p,slots:f={},slotProps:h={},...m}=n,g={...n,component:s,disableTypography:l},y=(t=>{let{classes:r}=t;return(0,eO.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},e8,r)})(g),v={slots:f,slotProps:{title:p,subheader:c,...h}},b=d,[x,w]=(0,te.A)("title",{className:y.title,elementType:e7.A,externalForwardedProps:v,ownerState:g,additionalProps:{variant:o?"body2":"h5",component:"span"}});null==b||b.type===e7.A||l||(b=(0,a.jsx)(x,{...w,children:b}));let j=u,[S,A]=(0,te.A)("subheader",{className:y.subheader,elementType:e7.A,externalForwardedProps:v,ownerState:g,additionalProps:{variant:o?"body2":"body1",color:"textSecondary",component:"span"}});null==j||j.type===e7.A||l||(j=(0,a.jsx)(S,{...A,children:j}));let[_,C]=(0,te.A)("root",{ref:r,className:y.root,elementType:tt,externalForwardedProps:{...v,...m,component:s},ownerState:g}),[O,E]=(0,te.A)("avatar",{className:y.avatar,elementType:tr,externalForwardedProps:v,ownerState:g}),[k,M]=(0,te.A)("content",{className:y.content,elementType:ti,externalForwardedProps:v,ownerState:g}),[P,D]=(0,te.A)("action",{className:y.action,elementType:tn,externalForwardedProps:v,ownerState:g});return(0,a.jsxs)(_,{...C,children:[o&&(0,a.jsx)(O,{...E,children:o}),(0,a.jsxs)(k,{...M,children:[b,j]}),i&&(0,a.jsx)(P,{...D,children:i})]})});var to=n(315),ts=n(65211),tl=n(25742),tu=n(91823),tc=n(72795),td=n(35050),tp=n(53493),tf=n(59909),th=n(86067),tm=n(61318),tg=n(50172),ty=n(14637),tv=n(4178),tb=n(74830),tx=n(17366),tw=n(47095);let tj=(0,eE.A)(tw.A)(({theme:t})=>({borderRadius:t.shape.borderRadius,padding:"4px"}));var tS=n(30145),tA=n(97653),t_=n(59238),tC=n(93399),tO=n(24726),tE=n(26952),tk=n(82561),tM=n(95279);let tP={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},tD=(0,eE.A)(e7.A,{name:"MuiLink",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[`underline${(0,tO.A)(n.underline)}`],"button"===n.component&&r.button]}})((0,ek.A)(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:r})=>"always"===t&&"inherit"!==r.color,style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter((0,tE.A)()).map(([r])=>({props:{underline:"always",color:r},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.4)`:(0,t_.X4)(t.palette[r].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,t_.X4)(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:(0,t_.X4)(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tk.A.focusVisible}`]:{outline:"auto"}}}]}))),tR=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiLink"}),i=(0,eS.A)(),{className:o,color:s="primary",component:l="a",onBlur:u,onFocus:c,TypographyClasses:d,underline:p="always",variant:f="inherit",sx:h,...g}=n,[y,v]=m.useState(!1),b={...n,color:s,component:l,focusVisible:y,underline:p,variant:f},x=(t=>{let{classes:r,component:n,focusVisible:i,underline:a}=t,o={root:["root",`underline${(0,tO.A)(a)}`,"button"===n&&"button",i&&"focusVisible"]};return(0,eO.A)(o,tk.t,r)})(b);return(0,a.jsx)(tD,{color:s,className:(0,eA.A)(x.root,o),classes:d,component:l,onBlur:t=>{(0,tC.A)(t.target)||v(!1),u&&u(t)},onFocus:t=>{(0,tC.A)(t.target)&&v(!0),c&&c(t)},ref:r,ownerState:b,variant:f,...g,sx:[...void 0===tP[s]?[{color:s}]:[],...Array.isArray(h)?h:[h]],style:{...g.style,..."always"===p&&"inherit"!==s&&!tP[s]&&{"--Link-underlineColor":(({theme:t,ownerState:r})=>{let n=r.color,i=(0,tM.Yn)(t,`palette.${n}.main`,!1)||(0,tM.Yn)(t,`palette.${n}`,!1)||r.color,a=(0,tM.Yn)(t,`palette.${n}.mainChannel`)||(0,tM.Yn)(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:(0,t_.X4)(i,.4)})({theme:i,ownerState:b})}}})});var tN=n(65241);function tT({links:t}){let[r,n]=(0,m.useState)(null);if(1===t.length&&t[0]){let r=t[0];return(0,a.jsx)(tI,{link:r})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:`${t.length} links`,enterDelay:100,children:(0,a.jsx)(tw.A,{"aria-label":"Panel links",size:"small",onClick:t=>{n(t.currentTarget)},sx:t=>({borderRadius:t.shape.borderRadius,padding:"4px"}),children:(0,a.jsx)(tN.default,{"aria-describedby":"links-icon",fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})}),(0,a.jsx)(tS.A,{anchorEl:r,open:!!r,onClose:()=>{n(null)},MenuListProps:{"aria-labelledby":"panel-links"},children:t.map(t=>(0,a.jsx)(tV,{link:t},t.url))})]})}function tI({link:t}){let{url:r,name:n,tooltip:i,targetBlank:o}=tz(t);return(0,a.jsx)(l.InfoTooltip,{description:i??r,enterDelay:100,children:(0,a.jsx)(tw.A,{"aria-label":n??r,size:"small",href:r,target:o?"_blank":"_self",sx:t=>({borderRadius:t.shape.borderRadius,padding:"4px"}),children:(0,a.jsx)(tN.default,{fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})})}function tV({link:t}){let{url:r,name:n,tooltip:i,targetBlank:o}=tz(t);return(0,a.jsx)(l.InfoTooltip,{description:i??r,enterDelay:100,children:(0,a.jsx)(tA.A,{component:tR,href:r,target:o?"_blank":"_self",children:n??r})})}function tz(t){let r=(0,j.useReplaceVariablesInString)(t.url)??t.url,n=(0,j.useReplaceVariablesInString)(t.name),i=(0,j.useReplaceVariablesInString)(t.tooltip);return!1===t.renderVariables?t:{...t,url:r,name:n,tooltip:i}}let tL={error:(0,a.jsx)(tb.default,{color:"error"}),warning:(0,a.jsx)(tv.default,{fontSize:"inherit",color:"warning"}),info:(0,a.jsx)(tx.default,{fontSize:"inherit",color:"info"})},tF=(0,eE.A)(ej.A)({display:"none",alignItems:"center",flexGrow:1,justifyContent:"flex-end"}),t$=({editHandlers:t,readHandlers:r,viewQueriesHandler:n,extra:i,title:o,description:s,descriptionTooltipId:u,links:c,queryResults:d,pluginActions:p=[],showIcons:f})=>{let g=(0,m.useMemo)(()=>{if(s&&s.trim().length>0)return(0,a.jsx)(l.InfoTooltip,{id:u,description:s,enterDelay:100,children:(0,a.jsx)(tj,{"aria-label":"panel description",size:"small",children:(0,a.jsx)(tx.default,{"aria-describedby":"info-tooltip","aria-hidden":!1,fontSize:"inherit",sx:{color:t=>t.palette.text.secondary}})})})},[u,s]),y=c&&c.length>0&&(0,a.jsx)(tT,{links:c}),v=void 0===t&&i,b=(0,m.useMemo)(()=>{let t=d.some(t=>t.data),r=d.some(t=>t.isFetching),n=d.filter(t=>t.error);if(r&&t)return(0,a.jsx)(tl.A,{"aria-label":"loading",size:"1.125rem"});if(n.length>0){let t=n.map(t=>t.error).map(t=>t.message).join("\n");return(0,a.jsx)(l.InfoTooltip,{description:t,children:(0,a.jsx)(tj,{"aria-label":"panel errors",size:"small",children:(0,a.jsx)(tv.default,{fontSize:"inherit",sx:{color:t=>t.palette.error.main}})})})}},[d]),x=(0,m.useMemo)(()=>{let t=d.flatMap(t=>t.data?.metadata?.notices??[]);if(t.length>0){let r=t[t.length-1];return(0,a.jsx)(l.InfoTooltip,{description:r.message,children:(0,a.jsx)(tj,{"aria-label":"panel notices",size:"small",children:tL[r.type]})})}},[d]),w=(0,m.useMemo)(()=>{if(void 0!==r){let t;return(0,a.jsx)(l.InfoTooltip,{description:"Toggle View Mode",children:(0,a.jsx)(tj,{"aria-label":(t=o,`toggle panel ${t} view mode`),size:"small",onClick:r.onViewPanelClick,children:r.isPanelViewed?(0,a.jsx)(td.default,{fontSize:"inherit"}):(0,a.jsx)(tp.default,{fontSize:"inherit"})})})}},[r,o]),j=(0,m.useMemo)(()=>{let t;return n?.onClick?(0,a.jsx)(l.InfoTooltip,{description:"Open query view",children:(0,a.jsx)(tj,{"aria-label":(t=o,`open query view for panel ${t}`),size:"small",onClick:n.onClick,children:(0,a.jsx)(tc.default,{fontSize:"inherit"})})}):null},[n,o]),S=(0,m.useMemo)(()=>{if(void 0!==t){let r,n,i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:"Edit",children:(0,a.jsx)(tj,{"aria-label":(r=o,`edit panel ${r}`),size:"small",onClick:t.onEditPanelClick,children:(0,a.jsx)(tf.default,{fontSize:"inherit"})})}),(0,a.jsx)(l.InfoTooltip,{description:"Duplicate",children:(0,a.jsx)(tj,{"aria-label":(n=o,`duplicate panel ${n}`),size:"small",onClick:t.onDuplicatePanelClick,children:(0,a.jsx)(tg.default,{fontSize:"inherit",sx:{transform:"scale(0.925)"}})})}),(0,a.jsx)(l.InfoTooltip,{description:"Delete",children:(0,a.jsx)(tj,{"aria-label":(i=o,`delete panel ${i}`),size:"small",onClick:t.onDeletePanelClick,children:(0,a.jsx)(th.default,{fontSize:"inherit"})})})]})}},[t,o]),A=(0,m.useMemo)(()=>{if(S&&!r?.isPanelViewed){let t;return(0,a.jsx)(l.InfoTooltip,{description:"Move",children:(0,a.jsx)(tj,{"aria-label":(t=o,`move panel ${t}`),size:"small",children:(0,a.jsx)(tm.default,{className:"drag-handle",sx:{cursor:"grab"},fontSize:"inherit"})})})}},[S,r,o]),_=(0,a.jsx)(ej.A,{sx:{flexGrow:1}}),C=({children:t})=>"hover"===f?(0,a.jsx)(ej.A,{sx:{display:"var(--panel-hover, none)"},children:t}):(0,a.jsx)(a.Fragment,{children:t});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(tF,{sx:t=>({[t.containerQueries(h).between(0,170)]:{display:"flex"}}),children:[_,(0,a.jsxs)(C,{children:[(0,a.jsxs)(tB,{title:o,children:[g," ",y," ",b," ",x," ",v," ",j,w," ",p,S]}),A]})]}),(0,a.jsxs)(tF,{sx:t=>({[t.containerQueries(h).between(170,220)]:{display:"flex"}}),children:[(0,a.jsxs)(C,{children:[g," ",y]}),_," ",b,x,(0,a.jsxs)(C,{children:[v,w,(0,a.jsxs)(tB,{title:o,children:[S," ",j," ",p]}),A]})]}),(0,a.jsxs)(tF,{sx:t=>({display:"flex",[t.containerQueries(h).down(220)]:{display:"none"}}),children:[(0,a.jsxs)(C,{children:[g," ",y]}),_," ",b,x,(0,a.jsxs)(C,{children:[v,j,w," ",S,p.length<=1?p:(0,a.jsx)(tB,{title:o,children:p}),A]})]})]})},tB=({children:t,title:r})=>{let n,[i,o]=(0,m.useState)();if(!((0,m.isValidElement)(t)||Array.isArray(t)&&t.some(m.isValidElement)))return null;let s=()=>{o(void 0)},l=!!i,u=l?"actions-menu":void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tj,{className:"show-actions","aria-describedby":u,onClick:t=>{o(t.currentTarget.getBoundingClientRect())},"aria-label":(n=r,`show panel actions for ${n}`),size:"small",children:(0,a.jsx)(ty.default,{fontSize:"inherit"})}),(0,a.jsx)(tu.Ay,{id:u,open:l,anchorReference:"anchorPosition",anchorPosition:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsx)(to.A,{direction:"row",alignItems:"center",sx:{padding:1},onClick:s,children:t})})]})};function tq({id:t,title:r,description:n,links:i,queryResults:o,readHandlers:s,editHandlers:u,sx:c,extra:d,pluginActions:p,showIcons:f,viewQueriesHandler:g,dimension:y,...v}){let b=`${t}-title`,x=`${t}-description`,w=(0,j.useReplaceVariablesInString)(r),S=(0,j.useReplaceVariablesInString)(n),A=(0,m.useRef)(null),_=!!(A.current&&y?.width)&&A.current.scrollWidth>A.current.clientWidth;return(0,a.jsx)(ta,{id:t,component:"header","aria-labelledby":b,"aria-describedby":x,disableTypography:!0,title:(0,a.jsxs)(to.A,{direction:"row",alignItems:"center",height:"var(--panel-header-height, 30px)",children:[(0,a.jsx)(ts.A,{title:w,disableHoverListener:!_,children:(0,a.jsx)(e7.A,{id:b,variant:"subtitle1",ref:A,sx:{lineHeight:"24px",minHeight:"26px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w})}),(0,a.jsx)(t$,{title:w,description:S,descriptionTooltipId:x,links:i,readHandlers:s,editHandlers:u,viewQueriesHandler:g,extra:d,queryResults:o,pluginActions:p,showIcons:f})]}),sx:(0,l.combineSx)(t=>({containerType:"inline-size",containerName:h,padding:t.spacing(1),borderBottom:`solid 1px ${t.palette.divider}`,".MuiCardHeader-content":{overflow:"hidden"}}),c),...v})}let tH=(0,m.memo)(function(t){let{definition:r,readHandlers:n,editHandlers:i,onMouseEnter:o,onMouseLeave:s,sx:u,panelOptions:c,panelGroupItemId:d,viewQueriesHandler:p,...f}=t,h=(0,l.useId)("Panel"),g=`${h}-header`,[y,v]=(0,m.useState)(null),{width:b,height:x}=e1()({ref:y}),w=(0,m.useMemo)(()=>{if(void 0!==b&&void 0!==x)return{width:b,height:x}},[b,x]),{queryResults:S}=(0,j.useDataQueriesContext)(),{getPlugin:A}=(0,j.usePluginRegistry)(),_=(0,m.useMemo)(()=>({spec:r.spec.plugin.spec,queryResults:S.map(t=>({definition:t.definition,data:t.data})),contentDimensions:w,definition:r}),[r,w,S]),[C,O]=(0,m.useState)([]);(0,m.useEffect)(()=>{let t=!1,n=async()=>{let n=r.spec.plugin.kind;if(!n||!_){t||O([]);return}try{if(!A||"function"!=typeof A){t||O([]);return}let r=await A("Panel",n);if(t)return;if(!r||"object"!=typeof r||!r.actions||!Array.isArray(r.actions)||0===r.actions.length){t||O([]);return}let i=r.actions.filter(t=>!t.location||"header"===t.location).map((t,r)=>{let n=t.component;try{return(0,a.jsx)(n,{..._},`plugin-action-${r}`)}catch(t){return console.warn(`Failed to render plugin action ${r}:`,t),null}}).filter(t=>!!t);t||O(i)}catch(r){t||(console.warn("Failed to load plugin actions:",r),O([]))}},i=setTimeout(()=>{n()},0);return()=>{t=!0,clearTimeout(i)}},[r.spec.plugin.kind,_,A]);let E=c?.showIcons??(i||n?.isPanelViewed?"always":"hover");return(0,a.jsxs)(eK.A,{component:"section",sx:(0,l.combineSx)({width:"100%",height:"100%",display:"flex",flexFlow:"column nowrap",":hover":{"--panel-hover":"block"}},u),variant:"outlined",onMouseEnter:t=>{o?.(t)},onMouseLeave:t=>{s?.(t)},"aria-labelledby":g,"aria-describedby":g,"data-testid":"panel",...f,children:[!c?.hideHeader&&(0,a.jsx)(tq,{extra:c?.extra?.({panelDefinition:r,panelGroupItemId:d}),id:g,title:r.spec.display.name,description:r.spec.display.description,queryResults:S,readHandlers:n,editHandlers:i,viewQueriesHandler:p,links:r.spec.links,pluginActions:C,showIcons:E,sx:{py:"2px",pl:"8px",pr:"2px"},dimension:w}),(0,a.jsx)(eX,{component:"figure",sx:{position:"relative",overflow:"hidden",flexGrow:1,margin:0,padding:0,":last-child":{padding:0}},ref:v,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,resetKeys:[r.spec,S],children:(0,a.jsx)(e9,{definition:r,panelPluginKind:r.spec.plugin.kind,spec:r.spec.plugin.spec,contentDimensions:w,queryResults:S})})})]})});var tU=n(6227);function tW({open:t,queryDefinitions:r,onClose:n}){let i=(0,m.useMemo)(()=>{if(!r?.length)return null;let t=[];return r.forEach((n,i)=>{n?.spec?.plugin?.kind&&n?.kind&&t.push((0,a.jsxs)(g().Fragment,{children:[(0,a.jsx)(j.PluginSpecEditor,{value:n.spec.plugin.spec,pluginSelection:{kind:n.spec.plugin.kind,type:n.kind},onChange:()=>{},isReadonly:!0}),i<r.length-1&&(0,a.jsx)(tU.A,{sx:{my:2}})]},`query-${i}`))}),t},[r]);return(0,a.jsxs)(l.Dialog,{open:t,onClose:n,maxWidth:"lg",fullWidth:!0,children:[(0,a.jsx)(l.Dialog.Header,{children:"Query Viewer"}),(0,a.jsx)(l.Dialog.Content,{children:i}),(0,a.jsx)(l.Dialog.Actions,{children:(0,a.jsx)(o.A,{variant:"outlined",color:"secondary",onClick:n,children:"Close"})})]})}function tQ(t){let r,{panelGroupItemId:n,width:i}=t,o=ee(n),{spec:{queries:s}}=o,{isEditMode:l}=z(),{openEditPanel:u,openDeletePanelDialog:c,duplicatePanel:d,viewPanel:p}=er(n),f=ep(),{ref:h,inView:g}=function({threshold:t,delay:r,trackVisibility:n,rootMargin:i,root:a,triggerOnce:o,skip:s,initialInView:l,fallbackInView:u,onChange:c}={}){var d;let[p,f]=m.useState(null),h=m.useRef(c),[g,y]=m.useState({inView:!!l,entry:void 0});h.current=c,m.useEffect(()=>{let l;if(!s&&p)return l=function(t,r,n={},i=eZ){if(void 0===window.IntersectionObserver&&void 0!==i){let a=t.getBoundingClientRect();return r(i,{isIntersecting:i,target:t,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}let{id:a,observer:o,elements:s}=function(t){let r=Object.keys(t).sort().filter(r=>void 0!==t[r]).map(r=>{var n;return`${r}_${"root"===r?!(n=t.root)?"0":(eW.has(n)||(eQ+=1,eW.set(n,eQ.toString())),eW.get(n)):t[r]}`}).toString(),n=eU.get(r);if(!n){let i,a=new Map,o=new IntersectionObserver(r=>{r.forEach(r=>{var n;let o=r.isIntersecting&&i.some(t=>r.intersectionRatio>=t);t.trackVisibility&&void 0===r.isVisible&&(r.isVisible=o),null==(n=a.get(r.target))||n.forEach(t=>{t(o,r)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:r,observer:o,elements:a},eU.set(r,n)}return n}(n),l=s.get(t)||[];return s.has(t)||s.set(t,l),l.push(r),o.observe(t),function(){l.splice(l.indexOf(r),1),0===l.length&&(s.delete(t),o.unobserve(t)),0===s.size&&(o.disconnect(),eU.delete(a))}}(p,(t,r)=>{y({inView:t,entry:r}),h.current&&h.current(t,r),r.isIntersecting&&o&&l&&(l(),l=void 0)},{root:a,rootMargin:i,threshold:t,trackVisibility:n,delay:r},u),()=>{l&&l()}},[Array.isArray(t)?t.toString():t,p,a,i,o,s,n,u,r]);let v=null==(d=g.entry)?void 0:d.target,b=m.useRef(void 0);p||!v||o||s||b.current===v||(b.current=v,y({inView:!!l,entry:void 0}));let x=[f,g.inView,g.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}({threshold:.2,initialInView:!1,triggerOnce:!0}),[y,v]=(0,m.useState)(!1),b=(0,m.useMemo)(()=>l||!s?.length?void 0:{onClick:()=>{v(!0)}},[l,s]),x={isPanelViewed:(0,eG.a)(f,n),onViewPanelClick:function(){void 0===f?p(n):p(void 0)}};l&&(r={onEditPanelClick:u,onDuplicatePanelClick:d,onDeletePanelClick:c});let w=(0,j.useSuggestedStepMs)(i),{data:S}=(0,j.usePlugin)("Panel",o.spec.plugin.kind),A=s??[],_=A.map(t=>({kind:t.spec.plugin.kind,spec:t.spec.plugin.spec})),C="function"==typeof S?.queryOptions?S?.queryOptions(o.spec.plugin.spec):S?.queryOptions;return(0,a.jsxs)(ej.A,{ref:h,sx:{width:"100%",height:"100%"},children:[(0,a.jsx)(j.DataQueriesProvider,{definitions:_,options:{suggestedStepMs:w,...C},queryOptions:{enabled:g},children:g&&(0,a.jsx)(tH,{definition:o,readHandlers:x,editHandlers:r,viewQueriesHandler:b,panelOptions:t.panelOptions,panelGroupItemId:n})}),(0,a.jsx)(tW,{open:y,queryDefinitions:A,onClose:()=>v(!1)})]})}var tZ=n(87275),tG=n(11061),tK=n(65168),tJ=n(46001);function tY(t){let r,n,i,o,s,{panelGroupId:u,title:c,collapse:d}=t,p=(0,j.useReplaceVariablesInString)(c),{openAddPanel:f,openEditPanelGroup:h,moveUp:m,moveDown:g}=Q(u),{openDeletePanelGroupDialog:y}=X(),{isEditMode:v}=z(),b=(0,a.jsx)(e7.A,{variant:"h2",children:p});return(0,a.jsx)(ej.A,{onClick:d?.onToggleOpen,sx:{display:"flex",justifyContent:"start",alignItems:"center",cursor:d?"pointer":"auto",backgroundColor:({palette:t})=>t.background.paper},"data-testid":"panel-group-header",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tw.A,{sx:{marginRight:1},"aria-label":`${d.isOpen?"collapse":"expand"} group ${p}`,children:d.isOpen?(0,a.jsx)(tZ.default,{}):(0,a.jsx)(tG.default,{})}),b,v&&(0,a.jsxs)(to.A,{direction:"row",marginLeft:"auto",children:[(0,a.jsx)(l.InfoTooltip,{description:"Add panel to group",children:(0,a.jsx)(tw.A,{"aria-label":(r=p,`add panel to group ${r}`),onClick:t=>{t.stopPropagation(),f()},children:(0,a.jsx)(ex.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:"Edit group",children:(0,a.jsx)(tw.A,{"aria-label":(n=p,`edit group ${n}`),onClick:t=>{t.stopPropagation(),h()},children:(0,a.jsx)(tf.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:"Delete group",children:(0,a.jsx)(tw.A,{"aria-label":(i=p,`delete group ${i}`),onClick:t=>{t.stopPropagation(),y(u)},children:(0,a.jsx)(th.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:"Move group down",children:(0,a.jsx)(tw.A,{"aria-label":(o=p,`move group ${o} down`),disabled:void 0===g,onClick:t=>{t.stopPropagation(),g?.()},children:(0,a.jsx)(tJ.default,{})})}),(0,a.jsx)(l.InfoTooltip,{description:"Move group up",children:(0,a.jsx)(tw.A,{"aria-label":(s=p,`move group ${s} up`),disabled:void 0===m,onClick:t=>{t.stopPropagation(),m?.()},children:(0,a.jsx)(tK.default,{})})})]})]}):b})}function tX({panelGroupId:t,groupDefinition:r,gridColWidth:n,panelFullHeight:i,panelOptions:o,isEditMode:s=!1,onLayoutChange:u,onWidthChange:c,repeatVariable:d}){let p=(0,m.useMemo)(()=>(0,e$.WidthProvider)(e$.Responsive),[]),f=(0,eS.A)(),h=ep(),[g,y]=(0,m.useState)(!r.isCollapsed),v=h?.panelGroupId===t&&h.repeatVariable?.[0]===d?.[0]&&h.repeatVariable?.[1]===d?.[1],b=h?.panelGroupItemLayoutId,x=!h||v;(0,m.useEffect)(()=>{v&&y(!0)},[v]);let w=(0,m.useMemo)(()=>b?r.itemLayouts.map(t=>t.i===b?{h:Math.round(((i??window.innerHeight)-48)/40),i:b,w:48,x:0,y:0}:t):r.itemLayouts,[r.itemLayouts,b,i]);return(0,a.jsxs)(eB,{sx:{display:x?"block":"none",height:b?`${i}px`:"unset",overflow:b?"hidden":"unset"},children:[r.title&&(0,a.jsx)(tY,{panelGroupId:t,title:r.title,collapse:void 0===r.isCollapsed?void 0:{isOpen:g,onToggleOpen:()=>y(t=>!t)}}),(0,a.jsx)(eF,{in:g,unmountOnExit:!0,appear:!1,"data-testid":"panel-group-content",children:(0,a.jsx)(p,{className:"layout",breakpoints:{sm:f.breakpoints.values.sm,xxs:0},cols:k,rowHeight:30,draggableHandle:".drag-handle",resizeHandles:["se"],isDraggable:s&&!v,isResizable:s&&!v,margin:[10,10],containerPadding:[0,10],layouts:{sm:w},onLayoutChange:u,onWidthChange:c,allowOverlap:v,children:w.map(({i:r,w:i})=>(0,a.jsx)("div",{style:{display:b?b===r?"unset":"none":"unset"},children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(tQ,{panelOptions:o,panelGroupItemId:{panelGroupId:t,panelGroupItemLayoutId:r,repeatVariable:d},width:t0(i,n)})})},r))})})]})}let t0=(t,r)=>Number.isFinite(t)?Math.round(r*t+10*Math.max(0,t-1)):t;function t1(t){let{panelGroupId:r,panelOptions:n,panelFullHeight:i}=t,o=U(r),{updatePanelGroupLayouts:s}=Q(r),l=ep(),{isEditMode:u}=z(),[c,d]=(0,m.useState)(0),p=l?.panelGroupId===r,f=(t,r)=>{let n=r.sm;n&&!p&&s(n)},h=(t,r,n,i)=>{d((t-r[0]*(n-1)-2*i[0])/n)};return(0,a.jsx)(a.Fragment,{children:o.repeatVariable?(0,a.jsx)(t2,{repeatVariableName:o.repeatVariable,panelGroupId:r,groupDefinition:o,gridColWidth:c,panelFullHeight:i,panelOptions:n,isEditMode:u,onLayoutChange:f,onWidthChange:h}):(0,a.jsx)(tX,{panelGroupId:r,groupDefinition:o,gridColWidth:c,panelFullHeight:i,panelOptions:n,isEditMode:u,onLayoutChange:f,onWidthChange:h})})}function t2({repeatVariableName:t,panelGroupId:r,groupDefinition:n,gridColWidth:i,panelFullHeight:o,panelOptions:s,isEditMode:l=!1,onLayoutChange:u,onWidthChange:c}){let d=(0,j.useVariableValues)(),p=d[t];return void 0!==p&&Array.isArray(p.value)&&0!==p.value.length?(0,a.jsx)(a.Fragment,{children:p.value.map(p=>(0,a.jsx)(j.VariableContext.Provider,{value:{state:{...d,[t]:{value:p,loading:!1}}},children:(0,a.jsx)(tX,{panelGroupId:r,groupDefinition:n,gridColWidth:i,panelFullHeight:o,panelOptions:s,isEditMode:l,onLayoutChange:u,onWidthChange:c,repeatVariable:[t,p]})},`${t}-${p}`))}):(0,a.jsx)(tX,{panelGroupId:r,groupDefinition:n,gridColWidth:i,panelFullHeight:o,panelOptions:s,isEditMode:l,onLayoutChange:u,onWidthChange:c})}var t4=n(90824),t9=n(34007),t3=n(347),t5=n(91394),t7=n(70561),t8=n(3399),t6=n(5139),re=n(68003),rt=n(11502);let rr=m.createContext({});var rn=n(2203);function ri(t){return(0,eT.Ay)("MuiAccordion",t)}let ra=(0,eN.A)("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),ro=(0,eE.A)(rt.A,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[{[`& .${ra.region}`]:r.region},r.root,!n.square&&r.rounded,!n.disableGutters&&r.gutters]}})((0,ek.A)(({theme:t})=>{let r={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],r),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${ra.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${ra.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(0,ek.A)(({theme:t})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${ra.expanded}`]:{margin:"16px 0"}}}]}))),rs=(0,eE.A)("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(t,r)=>r.heading})({all:"unset"}),rl=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:l=!1,disableGutters:u=!1,expanded:c,onChange:d,square:p=!1,slots:f={},slotProps:h={},TransitionComponent:g,TransitionProps:y,...v}=n,[b,x]=(0,rn.A)({controlled:c,default:s,name:"Accordion",state:"expanded"}),w=m.useCallback(t=>{x(!b),d&&d(t,!b)},[b,d,x]),[j,...S]=m.Children.toArray(i),A=m.useMemo(()=>({expanded:b,disabled:l,disableGutters:u,toggle:w}),[b,l,u,w]),_={...n,square:p,disabled:l,disableGutters:u,expanded:b},C=(t=>{let{classes:r,square:n,expanded:i,disabled:a,disableGutters:o}=t;return(0,eO.A)({root:["root",!n&&"rounded",i&&"expanded",a&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},ri,r)})(_),O={slots:{transition:g,...f},slotProps:{transition:y,...h}},[E,k]=(0,te.A)("root",{elementType:ro,externalForwardedProps:{...O,...v},className:(0,eA.A)(C.root,o),shouldForwardComponentProp:!0,ownerState:_,ref:r,additionalProps:{square:p}}),[M,P]=(0,te.A)("heading",{elementType:rs,externalForwardedProps:O,className:C.heading,ownerState:_}),[D,R]=(0,te.A)("transition",{elementType:eF,externalForwardedProps:O,ownerState:_});return(0,a.jsxs)(E,{...k,children:[(0,a.jsx)(M,{...P,children:(0,a.jsx)(rr.Provider,{value:A,children:j})}),(0,a.jsx)(D,{in:b,timeout:"auto",...R,children:(0,a.jsx)("div",{"aria-labelledby":j.props.id,id:j.props["aria-controls"],role:"region",className:C.region,children:S})})]})});var ru=n(1337);function rc(t){return(0,eT.Ay)("MuiAccordionSummary",t)}let rd=(0,eN.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),rp=(0,eE.A)(ru.A,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,r)=>r.root})((0,ek.A)(({theme:t})=>{let r={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${rd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${rd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${rd.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${rd.expanded}`]:{minHeight:64}}}]}})),rf=(0,eE.A)("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,r)=>r.content})((0,ek.A)(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${rd.expanded}`]:{margin:"20px 0"}}}]}))),rh=(0,eE.A)("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,r)=>r.expandIconWrapper})((0,ek.A)(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${rd.expanded}`]:{transform:"rotate(180deg)"}}))),rm=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:l,onClick:u,slots:c,slotProps:d,...p}=n,{disabled:f=!1,disableGutters:h,expanded:g,toggle:y}=m.useContext(rr),v={...n,expanded:g,disabled:f,disableGutters:h},b=(t=>{let{classes:r,expanded:n,disabled:i,disableGutters:a}=t;return(0,eO.A)({root:["root",n&&"expanded",i&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},rc,r)})(v),x={slots:c,slotProps:d},[w,j]=(0,te.A)("root",{ref:r,shouldForwardComponentProp:!0,className:(0,eA.A)(b.root,o),elementType:rp,externalForwardedProps:{...x,...p},ownerState:v,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:f,"aria-expanded":g,focusVisibleClassName:(0,eA.A)(b.focusVisible,l)},getSlotProps:t=>({...t,onClick:r=>{t.onClick?.(r),y&&y(r),u&&u(r)}})}),[S,A]=(0,te.A)("content",{className:b.content,elementType:rf,externalForwardedProps:x,ownerState:v}),[_,C]=(0,te.A)("expandIconWrapper",{className:b.expandIconWrapper,elementType:rh,externalForwardedProps:x,ownerState:v});return(0,a.jsxs)(w,{...j,children:[(0,a.jsx)(S,{...A,children:i}),s&&(0,a.jsx)(_,{...C,children:s})]})});function rg(t){return(0,eT.Ay)("MuiAccordionDetails",t)}(0,eN.A)("MuiAccordionDetails",["root"]);let ry=(0,eE.A)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,r)=>r.root})((0,ek.A)(({theme:t})=>({padding:t.spacing(1,2,2)}))),rv=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiAccordionDetails"}),{className:i,...o}=n,s=(t=>{let{classes:r}=t;return(0,eO.A)({root:["root"]},rg,r)})(n);return(0,a.jsx)(ry,{className:(0,eA.A)(s.root,i),ref:r,ownerState:n,...o})});var rb=n(45271),rx=n(86742),rw=n(43513);function rj(t){var r=(0,m.useState)(function(){return(0,rw.freeze)("function"==typeof t?t():t,!0)}),n=r[1];return[r[0],(0,m.useCallback)(function(t){n("function"==typeof t?(0,rw.produce)(t):(0,rw.freeze)(t))},[])]}var rS=n(49603),rA=n(4150),r_=n(30576),rC=n(10571),rO=n(38990),rE=n(53109);function rk({builtinVariableDefinitions:t}){let r=(0,m.useMemo)(()=>{let r={};for(let n of t){let t=r[n.spec.source];if(t){t.push(n);continue}r[n.spec.source]=[n]}return r},[t]),n=(0,m.useMemo)(()=>{let t=[];for(let n in r)t.includes(n)||t.push(n);return t},[r]);return(0,a.jsx)(a.Fragment,{children:n.map(t=>(0,a.jsxs)(rl,{sx:t=>({".MuiAccordionSummary-root":{backgroundColor:t.palette.background.lighter},".MuiAccordionDetails-root":{backgroundColor:t.palette.background.lighter}}),children:[(0,a.jsx)(rm,{expandIcon:(0,a.jsx)(rO.default,{}),"aria-controls":"builtin",id:"builtin",children:(0,a.jsx)(e7.A,{variant:"h2",children:(0,a.jsx)(l.InfoTooltip,{title:`${t} Built-in Variables`,description:"Variables computed during dashboard rendering.",children:(0,a.jsxs)("span",{children:[t," Built-in Variables"]})})})}),(0,a.jsx)(rv,{children:(0,a.jsx)(t3.A,{children:(0,a.jsxs)(t5.A,{sx:{minWidth:650},"aria-label":"table of external variables",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:"Name"}),(0,a.jsx)(rb.A,{children:"Description"})]})}),(0,a.jsx)(t6.A,{children:(r[t]??[]).map(r=>(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:r.spec.name}),(0,a.jsx)(rb.A,{children:r.spec.display?.description??""})]},t+"-"+r.spec.name))})]})})})]},t))})}function rM(t){return j.VARIABLE_TYPES.find(r=>r.kind===t)?.label}function rP(t){let[r,n]=rj(t.variableDefinitions),[i,s]=(0,m.useState)(null),[u,c]=(0,m.useState)("update"),d=t.externalVariableDefinitions,p=t.builtinVariableDefinitions,f=(0,m.useMemo)(()=>{let t,n,i;return t=[],i=new Set(n=r.map(t=>t.spec.name)),n.length!==i.size&&t.push("Variable names must be unique"),{errors:t,isValid:0===t.length}},[r]),[h]=(0,m.useMemo)(()=>[(0,rE.F)(r,{},d)],[d,r]),g="number"==typeof i&&r[i],{openDiscardChangesConfirmationDialog:y,closeDiscardChangesConfirmationDialog:v}=eg(),b=t=>{n(r=>{r.splice(t,1)})},x=(t,r)=>{n(n=>{if("up"===r){let r=n[t-1],i=n[t];0!==t&&r&&i&&(n[t-1]=i,n[t]=r)}else{let r=n[t+1],i=n[t];if(t===n.length-1||!r||!i)return;n[t+1]=i,n[t]=r}})};return(0,a.jsxs)(a.Fragment,{children:[g&&(0,a.jsx)(j.ValidationProvider,{children:(0,a.jsx)(j.VariableEditorForm,{initialVariableDefinition:g,action:u,isDraft:!0,onActionChange:c,onSave:t=>{n(r=>{r[i]=t,s(null)})},onClose:()=>{"create"===u&&b(i),s(null)}})}),!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ej.A,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsx)(e7.A,{variant:"h2",children:"Edit Dashboard Variables"}),(0,a.jsxs)(to.A,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.A,{disabled:t.variableDefinitions===r||!f.isValid,variant:"contained",onClick:()=>{t.onChange(r)},children:"Apply"}),(0,a.jsx)(o.A,{color:"secondary",variant:"outlined",onClick:()=>{JSON.stringify(t.variableDefinitions)!==JSON.stringify(r)?y({onDiscardChanges:()=>{v(),t.onCancel()},onCancel:()=>{v()},description:"You have unapplied changes. Are you sure you want to discard these changes? Changes cannot be recovered."}):t.onCancel()},children:"Cancel"})]})]}),(0,a.jsx)(ej.A,{padding:2,sx:{overflowY:"scroll"},children:(0,a.jsxs)(to.A,{spacing:2,children:[(0,a.jsxs)(to.A,{spacing:2,children:[!f.isValid&&f.errors.map(t=>(0,a.jsx)(t9.A,{severity:"error",children:t},t)),(0,a.jsx)(t3.A,{children:(0,a.jsxs)(t5.A,{sx:{minWidth:650},"aria-label":"table of variables",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rD,{children:"Visibility"}),(0,a.jsx)(rD,{children:"Name"}),(0,a.jsx)(rD,{children:"Type"}),(0,a.jsx)(rD,{children:"Description"}),(0,a.jsx)(rD,{align:"right",children:"Actions"})]})}),(0,a.jsx)(t6.A,{children:r.map((t,i)=>(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rD,{component:"th",scope:"row",children:(0,a.jsx)(re.A,{checked:t.spec.display?.hidden!==!0,onChange:t=>{var r;r=t.target.checked,n(t=>{let n=t[i];n&&(n.spec.display||(n.spec.display={name:n.spec.name,hidden:!1}),n.spec.display.hidden=!1===r)})}})}),(0,a.jsx)(rD,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:(0,a.jsx)(rR,{name:t.spec.name,state:h.get({name:t.spec.name})})}),(0,a.jsx)(rD,{children:rM(t.kind)??t.kind}),(0,a.jsx)(rD,{children:t.spec.display?.description??""}),(0,a.jsxs)(rD,{align:"right",sx:{whiteSpace:"nowrap"},children:[(0,a.jsx)(tw.A,{onClick:()=>x(i,"up"),disabled:0===i,children:(0,a.jsx)(tK.default,{})}),(0,a.jsx)(tw.A,{onClick:()=>x(i,"down"),disabled:i===r.length-1,children:(0,a.jsx)(tJ.default,{})}),(0,a.jsx)(tw.A,{onClick:()=>{c("update"),s(i)},children:(0,a.jsx)(rS.default,{})}),(0,a.jsx)(tw.A,{onClick:()=>b(i),children:(0,a.jsx)(rA.default,{})})]})]},t.spec.name))})]})}),(0,a.jsx)(ej.A,{display:"flex",children:(0,a.jsx)(o.A,{variant:"contained",startIcon:(0,a.jsx)(rx.default,{}),sx:{marginLeft:"auto"},onClick:()=>{c("create"),n(t=>{t.push({kind:"TextVariable",spec:{name:"NewVariable",value:""}})}),s(r.length)},children:"Add Variable"})})]}),d&&!d.every(t=>0===t.definitions.length)&&d.map((t,r)=>t.definitions.length>0&&(0,a.jsxs)(rl,{sx:t=>({".MuiAccordionSummary-root":{backgroundColor:t.palette.background.lighter},".MuiAccordionDetails-root":{backgroundColor:t.palette.background.lighter}}),children:[(0,a.jsx)(rm,{expandIcon:(0,a.jsx)(rO.default,{}),"aria-controls":t.source,id:t.source,children:(0,a.jsx)(to.A,{flexDirection:"row",alignItems:"center",justifyContent:"start",children:(0,a.jsxs)(a.Fragment,{children:[t.tooltip?(0,a.jsx)(e7.A,{variant:"h2",children:(0,a.jsx)(l.InfoTooltip,{title:t.tooltip.title||"",description:t.tooltip.description||"",children:(0,a.jsxs)("span",{children:[(0,tO.A)(t.source)," Variables"]})})}):(0,a.jsxs)(e7.A,{variant:"h2",children:[(0,tO.A)(t.source)," Variables"]}),t.editLink&&(0,a.jsx)(tw.A,{href:t.editLink,target:"_blank",children:(0,a.jsx)(rC.default,{fontSize:"small"})})]})})}),(0,a.jsx)(rv,{children:(0,a.jsx)(t3.A,{children:(0,a.jsxs)(t5.A,{sx:{minWidth:650},"aria-label":"table of external variables",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rD,{children:"Visibility"}),(0,a.jsx)(rD,{children:"Name"}),(0,a.jsx)(rD,{children:"Type"}),(0,a.jsx)(rD,{children:"Description"}),(0,a.jsx)(rD,{align:"right",children:"Actions"})]})}),(0,a.jsx)(t6.A,{children:t.definitions.map(r=>(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rD,{component:"th",scope:"row",children:(0,a.jsx)(re.A,{checked:r.spec.display?.hidden!==!0,disabled:!0})}),(0,a.jsx)(rD,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:(0,a.jsx)(rR,{name:r.spec.name,state:h.get({name:r.spec.name,source:t.source})})}),(0,a.jsx)(rD,{children:rM(r.kind)??r.kind}),(0,a.jsx)(rD,{children:r.spec.display?.description??""}),(0,a.jsxs)(rD,{align:"right",children:[(0,a.jsx)(ts.A,{title:"Override",children:(0,a.jsx)(tw.A,{onClick:()=>{n(t=>{t.push(r)})},disabled:!!h.get({name:r.spec.name}),children:(0,a.jsx)(r_.default,{})})}),(0,a.jsx)(tw.A,{disabled:!0,children:(0,a.jsx)(tK.default,{})}),(0,a.jsx)(tw.A,{disabled:!0,children:(0,a.jsx)(tJ.default,{})}),(0,a.jsx)(tw.A,{disabled:!0,children:(0,a.jsx)(rS.default,{})}),(0,a.jsx)(tw.A,{disabled:!0,children:(0,a.jsx)(rA.default,{})})]})]},r.spec.name))})]})})})]},r)),p&&(0,a.jsx)(rk,{builtinVariableDefinitions:p})]})})]})]})}let rD=(0,eE.A)(rb.A)(({theme:t})=>({borderBottom:`solid 1px ${t.palette.divider}`}));function rR(t){let{name:r,state:n}=t;return(0,a.jsxs)(a.Fragment,{children:[!n?.overridden&&`${r} `,!n?.overridden&&n?.overriding&&(0,a.jsx)(ej.A,{fontWeight:"normal",color:t=>t.palette.primary.main,children:"(overriding)"}),n?.overridden&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ej.A,{color:t=>t.palette.grey[500],children:r}),(0,a.jsx)(ej.A,{fontWeight:"normal",color:t=>t.palette.grey[500],children:"(overridden)"})]})]})}function rN({variant:t="text",label:r="Variables",color:n="primary",fullWidth:i}){let[s,u]=(0,m.useState)(!1),c=(0,t4.uR)(),d=(0,t4.RL)(),h=(0,j.useBuiltinVariableDefinitions)(),{setVariableDefinitions:g}=(0,t4.eC)(),y=()=>{u(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:p,children:(0,a.jsx)(o.A,{startIcon:(0,a.jsx)(tf.default,{}),onClick:()=>{u(!0)},"aria-label":p,variant:t,color:n,fullWidth:i,sx:f,children:r})}),(0,a.jsx)(l.Drawer,{isOpen:s,onClose:y,PaperProps:{sx:{width:"50%"}},"data-testid":"variable-editor",children:(0,a.jsx)(rP,{variableDefinitions:c,externalVariableDefinitions:d,builtinVariableDefinitions:h,onCancel:y,onChange:t=>{g(t),u(!1)}})})]})}let rT=({label:t="Edit",onClick:r})=>(0,a.jsx)(o.A,{onClick:r,startIcon:(0,a.jsx)(tf.default,{}),variant:"outlined",color:"secondary",sx:{whiteSpace:"nowrap",minWidth:"auto"},children:t}),rI="Let's get started",rV={variant:"outlined",color:"secondary"},rz=({actions:t,isEditMode:r,onEditButtonClick:n})=>t&&"boolean"!=typeof t?t:!1===t?null:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ew,{variant:"outlined",color:"secondary",label:"Add Panel",fullWidth:!0}),(0,a.jsx)(rN,{variant:"outlined",color:"secondary",label:"Add Variables",fullWidth:!0})]}):n?(0,a.jsx)(rT,{...rV,label:"Edit Dashboard",onClick:n}):null,rL=({title:t=rI,image:r,description:n,additionalText:i,actions:o,onEditButtonClick:s})=>{let{isEditMode:l}=z(),u=l?"We currently support time series charts, gauge charts, stat charts and more!":"This dashboard is currently empty. Get started by clicking the edit button.",c=(0,a.jsx)(rz,{actions:o,onEditButtonClick:s,isEditMode:l});return(0,a.jsxs)(ej.A,{sx:{width:"500px",textAlign:"center",margin:"0 auto"},children:[(0,a.jsxs)(ej.A,{sx:{width:"289px",margin:"0 auto"},children:[!!r&&r,(0,a.jsx)(e7.A,{variant:"h2",gutterBottom:!0,children:t}),(0,a.jsx)(e7.A,{variant:"body1",children:n??u}),c&&(0,a.jsx)(ej.A,{sx:{display:"flex",gap:2,marginTop:1,justifyContent:"center"},children:c})]}),i&&(0,a.jsx)(e7.A,{variant:"subtitle1",sx:{marginTop:12},children:i})]})};function rF({emptyDashboardProps:t,panelOptions:r,...n}){let i=B(),o=(0,m.useRef)(null),s=!i.length,u=o.current?.getBoundingClientRect().top??165,c=window.innerHeight-u-window.scrollY;return(0,a.jsx)(ej.A,{...n,sx:{height:"100%"},ref:o,children:(0,a.jsxs)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:[s&&(0,a.jsx)(ej.A,{sx:{height:"100%",display:"flex",alignItems:"center"},children:(0,a.jsx)(rL,{...t})}),!s&&i.map(t=>(0,a.jsx)(t1,{panelGroupId:t,panelOptions:r,panelFullHeight:c},t))]})})}var r$=n(8072),rB=n(95591),rq=n(83183),rH=n(10713),rU=n(30443);function rW(t){return t.substring(2).toLowerCase()}function rQ(t){let{children:r,disableReactTree:n=!1,mouseEvent:i="onClick",onClickAway:a,touchEvent:o="onTouchEnd"}=t,s=m.useRef(!1),l=m.useRef(null),u=m.useRef(!1),c=m.useRef(!1);m.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);let d=(0,rB.A)((0,rU.A)(r),l),p=(0,rq.A)(t=>{let r=c.current;c.current=!1;let i=(0,rH.A)(l.current);if(!(!u.current||!l.current||"clientX"in t&&(i.documentElement.clientWidth<t.clientX||i.documentElement.clientHeight<t.clientY))){if(s.current){s.current=!1;return}(t.composedPath?t.composedPath().includes(l.current):!i.documentElement.contains(t.target)||l.current.contains(t.target))||!n&&r||a(t)}}),f=t=>n=>{c.current=!0;let i=r.props[t];i&&i(n)},h={ref:d};return!1!==o&&(h[o]=f(o)),m.useEffect(()=>{if(!1!==o){let t=rW(o),r=(0,rH.A)(l.current),n=()=>{s.current=!0};return r.addEventListener(t,p),r.addEventListener("touchmove",n),()=>{r.removeEventListener(t,p),r.removeEventListener("touchmove",n)}}},[p,o]),!1!==i&&(h[i]=f(i)),m.useEffect(()=>{if(!1!==i){let t=rW(i),r=(0,rH.A)(l.current);return r.addEventListener(t,p),()=>{r.removeEventListener(t,p)}}},[p,i]),m.cloneElement(r,h)}var rZ=n(19557),rG=n(97090);function rK(){var t;let r,{panels:n,panelGroups:i,panelGroupOrder:a,setDashboard:o,kind:s,metadata:l,display:u,duration:c,refreshInterval:d,datasources:p,ttl:f}=N(({panels:t,panelGroups:r,panelGroupOrder:n,setDashboard:i,kind:a,metadata:o,display:s,duration:l,refreshInterval:u,datasources:c,ttl:d})=>({panels:t,panelGroups:r,panelGroupOrder:n,setDashboard:i,kind:a,metadata:o,display:s,duration:l,refreshInterval:u,datasources:c,ttl:d})),{setVariableDefinitions:h}=(0,t4.eC)(),m=(0,t4.uR)(),g=(t=i,r=[],a.map(n=>{let i,a=t[n];if(void 0===a)throw Error("panel group not found");let{title:o,isCollapsed:s,repeatVariable:l,itemLayouts:u,itemPanelKeys:c}=a;(o||void 0!==s)&&(i={title:o??"",collapse:{open:!s}});let d={kind:"Grid",spec:{display:i,items:u.map(t=>{let r=c[t.i];if(void 0===r)throw Error(`Missing panel key of layout ${t.i}`);return{x:t.x,y:t.y,width:t.w,height:t.h,content:(0,S.YI)(r)}}),repeatVariable:l}};r.push(d)}),r);return{dashboard:"Dashboard"===s?{kind:s,metadata:l,spec:{display:u,panels:n,layouts:g,variables:m,duration:c,refreshInterval:d,datasources:p}}:{kind:s,metadata:l,spec:{display:u,panels:n,layouts:g,variables:m,duration:c,refreshInterval:d,datasources:p,ttl:f}},setDashboard:t=>{h(t.spec.variables),o(t)}}}let rJ=Symbol.for("yaml.alias"),rY=Symbol.for("yaml.document"),rX=Symbol.for("yaml.map"),r0=Symbol.for("yaml.pair"),r1=Symbol.for("yaml.scalar"),r2=Symbol.for("yaml.seq"),r4=Symbol.for("yaml.node.type"),r9=t=>!!t&&"object"==typeof t&&t[r4]===rJ,r3=t=>!!t&&"object"==typeof t&&t[r4]===rY,r5=t=>!!t&&"object"==typeof t&&t[r4]===rX,r7=t=>!!t&&"object"==typeof t&&t[r4]===r0,r8=t=>!!t&&"object"==typeof t&&t[r4]===r1,r6=t=>!!t&&"object"==typeof t&&t[r4]===r2;function ne(t){if(t&&"object"==typeof t)switch(t[r4]){case rX:case r2:return!0}return!1}function nt(t){if(t&&"object"==typeof t)switch(t[r4]){case rJ:case rX:case r1:case r2:return!0}return!1}let nr=Symbol("break visit"),nn=Symbol("skip children"),ni=Symbol("remove node");function na(t,r){let n=nu(r);r3(t)?no(null,t.contents,n,Object.freeze([t]))===ni&&(t.contents=null):no(null,t,n,Object.freeze([]))}function no(t,r,n,i){let a=nc(t,r,n,i);if(nt(a)||r7(a))return nd(t,i,a),no(t,a,n,i);if("symbol"!=typeof a){if(ne(r)){i=Object.freeze(i.concat(r));for(let t=0;t<r.items.length;++t){let a=no(t,r.items[t],n,i);if("number"==typeof a)t=a-1;else{if(a===nr)return nr;a===ni&&(r.items.splice(t,1),t-=1)}}}else if(r7(r)){i=Object.freeze(i.concat(r));let t=no("key",r.key,n,i);if(t===nr)return nr;t===ni&&(r.key=null);let a=no("value",r.value,n,i);if(a===nr)return nr;a===ni&&(r.value=null)}}return a}async function ns(t,r){let n=nu(r);r3(t)?await nl(null,t.contents,n,Object.freeze([t]))===ni&&(t.contents=null):await nl(null,t,n,Object.freeze([]))}async function nl(t,r,n,i){let a=await nc(t,r,n,i);if(nt(a)||r7(a))return nd(t,i,a),nl(t,a,n,i);if("symbol"!=typeof a){if(ne(r)){i=Object.freeze(i.concat(r));for(let t=0;t<r.items.length;++t){let a=await nl(t,r.items[t],n,i);if("number"==typeof a)t=a-1;else{if(a===nr)return nr;a===ni&&(r.items.splice(t,1),t-=1)}}}else if(r7(r)){i=Object.freeze(i.concat(r));let t=await nl("key",r.key,n,i);if(t===nr)return nr;t===ni&&(r.key=null);let a=await nl("value",r.value,n,i);if(a===nr)return nr;a===ni&&(r.value=null)}}return a}function nu(t){return"object"==typeof t&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function nc(t,r,n,i){return"function"==typeof n?n(t,r,i):r5(r)?n.Map?.(t,r,i):r6(r)?n.Seq?.(t,r,i):r7(r)?n.Pair?.(t,r,i):r8(r)?n.Scalar?.(t,r,i):r9(r)?n.Alias?.(t,r,i):void 0}function nd(t,r,n){let i=r[r.length-1];if(ne(i))i.items[t]=n;else if(r7(i))"key"===t?i.key=n:i.value=n;else if(r3(i))i.contents=n;else{let t=r9(i)?"alias":"scalar";throw Error(`Cannot replace node with ${t} parent`)}}na.BREAK=nr,na.SKIP=nn,na.REMOVE=ni,ns.BREAK=nr,ns.SKIP=nn,ns.REMOVE=ni;let np={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},nf=t=>t.replace(/[!,[\]{}]/g,t=>np[t]);class nh{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},nh.defaultYaml,t),this.tags=Object.assign({},nh.defaultTags,r)}clone(){let t=new nh(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new nh(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:nh.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},nh.defaultTags)}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:nh.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},nh.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(2!==n.length&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[t,i]=n;return this.tags[t]=i,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return r(0,"%YAML directive should contain exactly one part"),!1;let[t]=n;if("1.1"===t||"1.2"===t)return this.yaml.version=t,!0;{let n=/^\d+\.\d+$/.test(t);return r(6,`Unsupported YAML version ${t}`,n),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if("!"===t)return"!";if("!"!==t[0])return r(`Not a valid tag: ${t}`),null;if("<"===t[1]){let n=t.slice(2,-1);return"!"===n||"!!"===n?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&r("Verbatim tags must end with a >"),n)}let[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r(`The ${t} tag has no suffix`);let a=this.tags[n];if(a)try{return a+decodeURIComponent(i)}catch(t){return r(String(t)),null}return"!"===n?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+nf(t.substring(n.length));return"!"===t[0]?t:`!<${t}>`}toString(t){let r,n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags);if(t&&i.length>0&&nt(t.contents)){let n={};na(t.contents,(t,r)=>{nt(r)&&r.tag&&(n[r.tag]=!0)}),r=Object.keys(n)}else r=[];for(let[a,o]of i)("!!"!==a||"tag:yaml.org,2002:"!==o)&&(!t||r.some(t=>t.startsWith(o)))&&n.push(`%TAG ${a} ${o}`);return n.join("\n")}}function nm(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=JSON.stringify(t);throw Error(`Anchor must not contain whitespace or control characters: ${r}`)}return!0}function ng(t){let r=new Set;return na(t,{Value(t,n){n.anchor&&r.add(n.anchor)}}),r}function ny(t,r){for(let n=1;;++n){let i=`${t}${n}`;if(!r.has(i))return i}}function nv(t,r,n,i){if(i&&"object"==typeof i)if(Array.isArray(i))for(let r=0,n=i.length;r<n;++r){let n=i[r],a=nv(t,i,String(r),n);void 0===a?delete i[r]:a!==n&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let n=i.get(r),a=nv(t,i,r,n);void 0===a?i.delete(r):a!==n&&i.set(r,a)}else if(i instanceof Set)for(let r of Array.from(i)){let n=nv(t,i,r,r);void 0===n?i.delete(r):n!==r&&(i.delete(r),i.add(n))}else for(let[r,n]of Object.entries(i)){let a=nv(t,i,r,n);void 0===a?delete i[r]:a!==n&&(i[r]=a)}return t.call(r,n,i)}function nb(t,r,n){if(Array.isArray(t))return t.map((t,r)=>nb(t,String(r),n));if(t&&"function"==typeof t.toJSON){if(!n||!((r8(t)||ne(t))&&t.anchor))return t.toJSON(r,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=t=>{i.res=t,delete n.onCreate};let a=t.toJSON(r,n);return n.onCreate&&n.onCreate(a),a}return"bigint"!=typeof t||n?.keep?t:Number(t)}nh.defaultYaml={explicit:!1,version:"1.2"},nh.defaultTags={"!!":"tag:yaml.org,2002:"};class nx{constructor(t){Object.defineProperty(this,r4,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:a}={}){if(!r3(t))throw TypeError("A document argument is required");let o={anchors:new Map,doc:t,keep:!0,mapAsMap:!0===r,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},s=nb(this,"",o);if("function"==typeof i)for(let{count:t,res:r}of o.anchors.values())i(r,t);return"function"==typeof a?nv(a,{"":s},"",s):s}}class nw extends nx{constructor(t){super(rJ),this.source=t,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(t){let r;return na(t,{Node:(t,n)=>{if(n===this)return na.BREAK;n.anchor===this.source&&(r=n)}}),r}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:a}=r,o=this.resolve(i);if(!o)throw ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let s=n.get(o);if(s||(nb(o,null,r),s=n.get(o)),!s||void 0===s.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(a>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=function t(r,n,i){if(r9(n)){let t=n.resolve(r),a=i&&t&&i.get(t);return a?a.count*a.aliasCount:0}if(ne(n)){let a=0;for(let o of n.items){let n=t(r,o,i);n>a&&(a=n)}return a}return r7(n)?Math.max(t(r,n.key,i),t(r,n.value,i)):1}(i,o,n)),s.count*s.aliasCount>a))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(nm(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source))throw Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(t.implicitKey)return`${i} `}return i}}let nj=t=>!t||"function"!=typeof t&&"object"!=typeof t;class nS extends nx{constructor(t){super(r1),this.value=t}toJSON(t,r){return r?.keep?this.value:nb(this.value,t,r)}toString(){return String(this.value)}}function nA(t,r,n){let i;if(r3(t)&&(t=t.contents),nt(t))return t;if(r7(t)){let r=n.schema[rX].createNode?.(n.schema,null,n);return r.items.push(t),r}(t instanceof String||t instanceof Number||t instanceof Boolean||"undefined"!=typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:a,onAnchor:o,onTagObj:s,schema:l,sourceObjects:u}=n;if(a&&t&&"object"==typeof t){if(i=u.get(t))return i.anchor||(i.anchor=o(t)),new nw(i.anchor);i={anchor:null,node:null},u.set(t,i)}r?.startsWith("!!")&&(r="tag:yaml.org,2002:"+r.slice(2));let c=function(t,r,n){if(r){let t=n.filter(t=>t.tag===r),i=t.find(t=>!t.format)??t[0];if(!i)throw Error(`Tag ${r} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}(t,r,l.tags);if(!c){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){let r=new nS(t);return i&&(i.node=r),r}c=t instanceof Map?l[rX]:Symbol.iterator in Object(t)?l[r2]:l[rX]}s&&(s(c),delete n.onTagObj);let d=c?.createNode?c.createNode(n.schema,t,n):"function"==typeof c?.nodeClass?.from?c.nodeClass.from(n.schema,t,n):new nS(t);return r?d.tag=r:c.default||(d.tag=c.tag),i&&(i.node=d),d}function n_(t,r,n){let i=n;for(let t=r.length-1;t>=0;--t){let n=r[t];if("number"==typeof n&&Number.isInteger(n)&&n>=0){let t=[];t[n]=i,i=t}else i=new Map([[n,i]])}return nA(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}nS.BLOCK_FOLDED="BLOCK_FOLDED",nS.BLOCK_LITERAL="BLOCK_LITERAL",nS.PLAIN="PLAIN",nS.QUOTE_DOUBLE="QUOTE_DOUBLE",nS.QUOTE_SINGLE="QUOTE_SINGLE";let nC=t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done;class nO extends nx{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(r=>nt(r)||r7(r)?r.clone(t):r),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(nC(t))this.add(r);else{let[n,...i]=t,a=this.get(n,!0);if(ne(a))a.addIn(i,r);else if(void 0===a&&this.schema)this.set(n,n_(this.schema,i,r));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(0===n.length)return this.delete(r);let i=this.get(r,!0);if(ne(i))return i.deleteIn(n);throw Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,a=this.get(n,!0);return 0===i.length?!r&&r8(a)?a.value:a:ne(a)?a.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!r7(r))return!1;let n=r.value;return null==n||t&&r8(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(0===n.length)return this.has(r);let i=this.get(r,!0);return!!ne(i)&&i.hasIn(n)}setIn(t,r){let[n,...i]=t;if(0===i.length)this.set(n,r);else{let t=this.get(n,!0);if(ne(t))t.setIn(i,r);else if(void 0===t&&this.schema)this.set(n,n_(this.schema,i,r));else throw Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}}let nE=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function nk(t,r){return/^\n+$/.test(t)?t.substring(1):r?t.replace(/^(?! *$)/gm,r):t}let nM=(t,r,n)=>t.endsWith("\n")?nk(n,r):n.includes("\n")?"\n"+nk(n,r):(t.endsWith(" ")?"":" ")+n,nP="block",nD="quoted";function nR(t,r,n="flow",{indentAtStart:i,lineWidth:a=80,minContentWidth:o=20,onFold:s,onOverflow:l}={}){let u,c,d;if(!a||a<0)return t;a<o&&(o=0);let p=Math.max(1+o,1+a-r.length);if(t.length<=p)return t;let f=[],h={},m=a-r.length;"number"==typeof i&&(i>a-Math.max(2,o)?f.push(0):m=a-i);let g=!1,y=-1,v=-1,b=-1;for(n===nP&&-1!==(y=nN(t,y,r.length))&&(m=y+p);d=t[y+=1];){if(n===nD&&"\\"===d){switch(v=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if("\n"===d)n===nP&&(y=nN(t,y,r.length)),m=y+r.length+p,u=void 0;else{if(" "===d&&c&&" "!==c&&"\n"!==c&&"	"!==c){let r=t[y+1];r&&" "!==r&&"\n"!==r&&"	"!==r&&(u=y)}if(y>=m)if(u)f.push(u),m=u+p,u=void 0;else if(n===nD){for(;" "===c||"	"===c;)c=d,d=t[y+=1],g=!0;let r=y>b+1?y-2:v-1;if(h[r])return t;f.push(r),h[r]=!0,m=r+p,u=void 0}else g=!0}c=d}if(g&&l&&l(),0===f.length)return t;s&&s();let x=t.slice(0,f[0]);for(let i=0;i<f.length;++i){let a=f[i],o=f[i+1]||t.length;0===a?x=`
${r}${t.slice(0,o)}`:(n===nD&&h[a]&&(x+=`${t[a]}\\`),x+=`
${r}${t.slice(a+1,o)}`)}return x}function nN(t,r,n){let i=r,a=r+1,o=t[a];for(;" "===o||"	"===o;)if(r<a+n)o=t[++r];else{do o=t[++r];while(o&&"\n"!==o);i=r,o=t[a=r+1]}return i}let nT=(t,r)=>({indentAtStart:r?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth});function nI(t,r){let n=JSON.stringify(t);if(r.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=r,a=r.options.doubleQuotedMinMultiLineLength,o=r.indent||(/^(%|---|\.\.\.)/m.test(t)?"  ":""),s="",l=0;for(let t=0,r=n[t];r;r=n[++t])if(" "===r&&"\\"===n[t+1]&&"n"===n[t+2]&&(s+=n.slice(l,t)+"\\ ",t+=1,l=t,r="\\"),"\\"===r)switch(n[t+1]){case"u":{s+=n.slice(l,t);let r=n.substr(t+2,4);switch(r){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===r.substr(0,2)?s+="\\x"+r.substr(2):s+=n.substr(t,6)}t+=5,l=t+1}break;case"n":if(i||'"'===n[t+2]||n.length<a)t+=1;else{for(s+=n.slice(l,t)+"\n\n";"\\"===n[t+2]&&"n"===n[t+3]&&'"'!==n[t+4];)s+="\n",t+=2;s+=o," "===n[t+2]&&(s+="\\"),t+=1,l=t+1}break;default:t+=1}return s=l?s+n.slice(l):n,i?s:nR(s,o,"quoted",nT(r,!1))}function nV(t,r){if(!1===r.options.singleQuote||r.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return nI(t,r);let n=r.indent||(/^(%|---|\.\.\.)/m.test(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return r.implicitKey?i:nR(i,n,"flow",nT(r,!1))}function nz(t,r){let n,{singleQuote:i}=r.options;if(!1===i)n=nI;else{let r=t.includes('"'),a=t.includes("'");n=r&&!a?nV:a&&!r?nI:i?nV:nI}return n(t,r)}try{i=RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{i=/\n+(?!\n|$)/g}function nL({comment:t,type:r,value:n},a,o,s){let l,u,c,d,{blockQuote:p,commentString:f,lineWidth:h}=a.options;if(!p||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return nz(n,a);let m=a.indent||(a.forceBlockIndent||(d=n,/^(%|---|\.\.\.)/m.test(d))?"  ":""),g="literal"===p||"folded"!==p&&r!==nS.BLOCK_FOLDED&&(r===nS.BLOCK_LITERAL||!function(t,r,n){if(!r||r<0)return!1;let i=r-n,a=t.length;if(a<=i)return!1;for(let r=0,n=0;r<a;++r)if("\n"===t[r]){if(r-n>i)return!0;if(a-(n=r+1)<=i)return!1}return!0}(n,h,m.length));if(!n)return g?"|\n":">\n";for(u=n.length;u>0;--u){let t=n[u-1];if("\n"!==t&&"	"!==t&&" "!==t)break}let y=n.substring(u),v=y.indexOf("\n");-1===v?l="-":n===y||v!==y.length-1?(l="+",s&&s()):l="",y&&(n=n.slice(0,-y.length),"\n"===y[y.length-1]&&(y=y.slice(0,-1)),y=y.replace(i,`$&${m}`));let b=!1,x=-1;for(c=0;c<n.length;++c){let t=n[c];if(" "===t)b=!0;else if("\n"===t)x=c;else break}let w=n.substring(0,x<c?x+1:c);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${m}`));let j=m?"2":"1",S=(b?j:"")+l;if(t&&(S+=" "+f(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!g){let t=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`),i=!1,o=nT(a,!0);"folded"!==p&&r!==nS.BLOCK_FOLDED&&(o.onOverflow=()=>{i=!0});let s=nR(`${w}${t}${y}`,m,"block",o);if(!i)return`>${S}
${m}${s}`}return n=n.replace(/\n+/g,`$&${m}`),`|${S}
${m}${w}${n}${y}`}function nF(t,r,n,i){let{implicitKey:a,inFlow:o}=r,s="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)}),{type:l}=t;l!==nS.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(l=nS.QUOTE_DOUBLE);let u=t=>{switch(t){case nS.BLOCK_FOLDED:case nS.BLOCK_LITERAL:return a||o?nz(s.value,r):nL(s,r,n,i);case nS.QUOTE_DOUBLE:return nI(s.value,r);case nS.QUOTE_SINGLE:return nV(s.value,r);case nS.PLAIN:return function(t,r,n,i){let{type:a,value:o}=t,{actualString:s,implicitKey:l,indent:u,indentStep:c,inFlow:d}=r;if(l&&o.includes("\n")||d&&/[[\]{},]/.test(o))return nz(o,r);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||d||!o.includes("\n")?nz(o,r):nL(t,r,n,i);if(!l&&!d&&a!==nS.PLAIN&&o.includes("\n"))return nL(t,r,n,i);if(/^(%|---|\.\.\.)/m.test(o)){if(""===u)return r.forceBlockIndent=!0,nL(t,r,n,i);else if(l&&u===c)return nz(o,r)}let p=o.replace(/\n+/g,`$&
${u}`);if(s){let t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(p),{compat:n,tags:i}=r.doc.schema;if(i.some(t)||n?.some(t))return nz(o,r)}return l?p:nR(p,u,"flow",nT(r,!1))}(s,r,n,i);default:return null}},c=u(l);if(null===c){let{defaultKeyType:t,defaultStringType:n}=r.options,i=a&&t||n;if(null===(c=u(i)))throw Error(`Unsupported default string type ${i}`)}return c}function n$(t,r){let n,i=Object.assign({blockQuote:!0,commentString:nE,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,r);switch(i.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,flowCollectionPadding:i.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof i.indent?" ".repeat(i.indent):"  ",inFlow:n,options:i}}function nB(t,r,n,i){let a;if(r7(t))return t.toString(r,n,i);if(r9(t)){if(r.doc.directives)return t.toString(r);if(r.resolvedAliases?.has(t))throw TypeError("Cannot stringify circular structure without alias nodes");r.resolvedAliases?r.resolvedAliases.add(t):r.resolvedAliases=new Set([t]),t=t.resolve(r.doc)}let o=nt(t)?t:r.doc.createNode(t,{onTagObj:t=>a=t});a||(a=function(t,r){let n,i;if(r.tag){let n=t.filter(t=>t.tag===r.tag);if(n.length>0)return n.find(t=>t.format===r.format)??n[0]}if(r8(r)){n=r.value;let a=t.filter(t=>t.identify?.(n));if(a.length>1){let t=a.filter(t=>t.test);t.length>0&&(a=t)}i=a.find(t=>t.format===r.format)??a.find(t=>!t.format)}else n=r,i=t.find(t=>t.nodeClass&&n instanceof t.nodeClass);if(!i){let t=n?.constructor?.name??typeof n;throw Error(`Tag not resolved for ${t} value`)}return i}(r.doc.schema.tags,o));let s=function(t,r,{anchors:n,doc:i}){if(!i.directives)return"";let a=[],o=(r8(t)||ne(t))&&t.anchor;o&&nm(o)&&(n.add(o),a.push(`&${o}`));let s=t.tag?t.tag:r.default?null:r.tag;return s&&a.push(i.directives.tagString(s)),a.join(" ")}(o,a,r);s.length>0&&(r.indentAtStart=(r.indentAtStart??0)+s.length+1);let l="function"==typeof a.stringify?a.stringify(o,r,n,i):r8(o)?nF(o,r,n,i):o.toString(r,n,i);return s?r8(o)||"{"===l[0]||"["===l[0]?`${s} ${l}`:`${s}
${r.indent}${l}`:l}let nq={identify:t=>"<<"===t||"symbol"==typeof t&&"<<"===t.description,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new nS(Symbol("<<")),{addToJSMap:nH}),stringify:()=>"<<"};function nH(t,r,n){if(r6(n=t&&r9(n)?n.resolve(t.doc):n))for(let i of n.items)nU(t,r,i);else if(Array.isArray(n))for(let i of n)nU(t,r,i);else nU(t,r,n)}function nU(t,r,n){let i=t&&r9(n)?n.resolve(t.doc):n;if(!r5(i))throw Error("Merge sources must be maps or map aliases");for(let[n,a]of i.toJSON(null,t,Map))r instanceof Map?r.has(n)||r.set(n,a):r instanceof Set?r.add(n):Object.prototype.hasOwnProperty.call(r,n)||Object.defineProperty(r,n,{value:a,writable:!0,enumerable:!0,configurable:!0});return r}function nW(t,r,{key:n,value:i}){if(nt(n)&&n.addToJSMap)n.addToJSMap(t,r,i);else if((nq.identify(n)||r8(n)&&(!n.type||n.type===nS.PLAIN)&&nq.identify(n.value))&&t?.doc.schema.tags.some(t=>t.tag===nq.tag&&t.default))nH(t,r,i);else{let a=nb(n,"",t);if(r instanceof Map)r.set(a,nb(i,a,t));else if(r instanceof Set)r.add(a);else{let o=function(t,r,n){if(null===r)return"";if("object"!=typeof r)return String(r);if(nt(t)&&n?.doc){let r=n$(n.doc,{});for(let t of(r.anchors=new Set,n.anchors.keys()))r.anchors.add(t.anchor);r.inFlow=!0,r.inStringifyKey=!0;let o=t.toString(r);if(!n.mapKeyWarned){var i,a;let t=JSON.stringify(o);t.length>40&&(t=t.substring(0,36)+'..."'),i=n.doc.options.logLevel,a=`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`,("debug"===i||"warn"===i)&&console.warn(a),n.mapKeyWarned=!0}return o}return JSON.stringify(r)}(n,a,t),s=nb(i,o,t);o in r?Object.defineProperty(r,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):r[o]=s}}return r}function nQ(t,r,n){return new nZ(nA(t,void 0,n),nA(r,void 0,n))}class nZ{constructor(t,r=null){Object.defineProperty(this,r4,{value:r0}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return nt(r)&&(r=r.clone(t)),nt(n)&&(n=n.clone(t)),new nZ(r,n)}toJSON(t,r){let n=r?.mapAsMap?new Map:{};return nW(r,n,this)}toString(t,r,n){return t?.doc?function({key:t,value:r},n,i,a){let o,s,l,{allNullValues:u,doc:c,indent:d,indentStep:p,options:{commentString:f,indentSeq:h,simpleKeys:m}}=n,g=nt(t)&&t.comment||null;if(m){if(g)throw Error("With simple keys, key nodes cannot have comments");if(ne(t)||!nt(t)&&"object"==typeof t)throw Error("With simple keys, collection cannot be used as a key value")}let y=!m&&(!t||g&&null==r&&!n.inFlow||ne(t)||(r8(t)?t.type===nS.BLOCK_FOLDED||t.type===nS.BLOCK_LITERAL:"object"==typeof t));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(m||!u),indent:d+p});let v=!1,b=!1,x=nB(t,n,()=>v=!0,()=>b=!0);if(!y&&!n.inFlow&&x.length>1024){if(m)throw Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(u||null==r)return v&&i&&i(),""===x?"?":y?`? ${x}`:x}else if(u&&!m||null==r&&y)return x=`? ${x}`,g&&!v?x+=nM(x,n.indent,f(g)):b&&a&&a(),x;v&&(g=null),y?(g&&(x+=nM(x,n.indent,f(g))),x=`? ${x}
${d}:`):(x=`${x}:`,g&&(x+=nM(x,n.indent,f(g)))),nt(r)?(o=!!r.spaceBefore,s=r.commentBefore,l=r.comment):(o=!1,s=null,l=null,r&&"object"==typeof r&&(r=c.createNode(r))),n.implicitKey=!1,!y&&!g&&r8(r)&&(n.indentAtStart=x.length+1),b=!1,!(!h&&p.length>=2&&!n.inFlow&&!y&&r6(r))||r.flow||r.tag||r.anchor||(n.indent=n.indent.substring(2));let w=!1,j=nB(r,n,()=>w=!0,()=>b=!0),S=" ";if(g||o||s){if(S=o?"\n":"",s){let t=f(s);S+=`
${nk(t,n.indent)}`}""!==j||n.inFlow?S+=`
${n.indent}`:"\n"===S&&(S="\n\n")}else if(!y&&ne(r)){let t=j[0],i=j.indexOf("\n"),a=-1!==i,o=n.inFlow??r.flow??0===r.items.length;if(a||!o){let r=!1;if(a&&("&"===t||"!"===t)){let n=j.indexOf(" ");"&"===t&&-1!==n&&n<i&&"!"===j[n+1]&&(n=j.indexOf(" ",n+1)),(-1===n||i<n)&&(r=!0)}r||(S=`
${n.indent}`)}}else(""===j||"\n"===j[0])&&(S="");return x+=S+j,n.inFlow?w&&i&&i():l&&!w?x+=nM(x,n.indent,f(l)):b&&a&&a(),x}(this,t,r,n):JSON.stringify(this)}}function nG(t,r,n){return(r.inFlow??t.flow?function({items:t},r,{flowChars:n,itemIndent:i}){let{indent:a,indentStep:o,flowCollectionPadding:s,options:{commentString:l}}=r,u=Object.assign({},r,{indent:i+=o,inFlow:!0,type:null}),c=!1,d=0,p=[];for(let n=0;n<t.length;++n){let a=t[n],o=null;if(nt(a))a.spaceBefore&&p.push(""),nK(r,p,a.commentBefore,!1),a.comment&&(o=a.comment);else if(r7(a)){let t=nt(a.key)?a.key:null;t&&(t.spaceBefore&&p.push(""),nK(r,p,t.commentBefore,!1),t.comment&&(c=!0));let n=nt(a.value)?a.value:null;n?(n.comment&&(o=n.comment),n.commentBefore&&(c=!0)):null==a.value&&t?.comment&&(o=t.comment)}o&&(c=!0);let s=nB(a,u,()=>o=null);n<t.length-1&&(s+=","),o&&(s+=nM(s,i,l(o))),!c&&(p.length>d||s.includes("\n"))&&(c=!0),p.push(s),d=p.length}let{start:f,end:h}=n;if(0===p.length)return f+h;if(!c){let t=p.reduce((t,r)=>t+r.length+2,2);c=r.options.lineWidth>0&&t>r.options.lineWidth}if(!c)return`${f}${s}${p.join(" ")}${s}${h}`;{let t=f;for(let r of p)t+=r?`
${o}${a}${r}`:"\n";return`${t}
${a}${h}`}}:function({comment:t,items:r},n,{blockItemPrefix:i,flowChars:a,itemIndent:o,onChompKeep:s,onComment:l}){let u,{indent:c,options:{commentString:d}}=n,p=Object.assign({},n,{indent:o,type:null}),f=!1,h=[];for(let t=0;t<r.length;++t){let a=r[t],s=null;if(nt(a))!f&&a.spaceBefore&&h.push(""),nK(n,h,a.commentBefore,f),a.comment&&(s=a.comment);else if(r7(a)){let t=nt(a.key)?a.key:null;t&&(!f&&t.spaceBefore&&h.push(""),nK(n,h,t.commentBefore,f))}f=!1;let l=nB(a,p,()=>s=null,()=>f=!0);s&&(l+=nM(l,o,d(s))),f&&s&&(f=!1),h.push(i+l)}if(0===h.length)u=a.start+a.end;else{u=h[0];for(let t=1;t<h.length;++t){let r=h[t];u+=r?`
${c}${r}`:"\n"}}return t?(u+="\n"+nk(d(t),c),l&&l()):f&&s&&s(),u})(t,r,n)}function nK({indent:t,options:{commentString:r}},n,i,a){if(i&&a&&(i=i.replace(/^\n+/,"")),i){let a=nk(r(i),t);n.push(a.trimStart())}}function nJ(t,r){let n=r8(r)?r.value:r;for(let i of t)if(r7(i)&&(i.key===r||i.key===n||r8(i.key)&&i.key.value===n))return i}class nY extends nO{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(rX,t),this.items=[]}static from(t,r,n){let{keepUndefined:i,replacer:a}=n,o=new this(t),s=(t,s)=>{if("function"==typeof a)s=a.call(r,t,s);else if(Array.isArray(a)&&!a.includes(t))return;(void 0!==s||i)&&o.items.push(nQ(t,s,n))};if(r instanceof Map)for(let[t,n]of r)s(t,n);else if(r&&"object"==typeof r)for(let t of Object.keys(r))s(t,r[t]);return"function"==typeof t.sortMapEntries&&o.items.sort(t.sortMapEntries),o}add(t,r){let n;n=r7(t)?t:t&&"object"==typeof t&&"key"in t?new nZ(t.key,t.value):new nZ(t,t?.value);let i=nJ(this.items,n.key),a=this.schema?.sortMapEntries;if(i){if(!r)throw Error(`Key ${n.key} already set`);r8(i.value)&&nj(n.value)?i.value.value=n.value:i.value=n.value}else if(a){let t=this.items.findIndex(t=>0>a(n,t));-1===t?this.items.push(n):this.items.splice(t,0,n)}else this.items.push(n)}delete(t){let r=nJ(this.items,t);return!!r&&this.items.splice(this.items.indexOf(r),1).length>0}get(t,r){let n=nJ(this.items,t),i=n?.value;return(!r&&r8(i)?i.value:i)??void 0}has(t){return!!nJ(this.items,t)}set(t,r){this.add(new nZ(t,r),!0)}toJSON(t,r,n){let i=n?new n:r?.mapAsMap?new Map:{};for(let t of(r?.onCreate&&r.onCreate(i),this.items))nW(r,i,t);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let t of this.items)if(!r7(t))throw Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),nG(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}let nX={collection:"map",default:!0,nodeClass:nY,tag:"tag:yaml.org,2002:map",resolve:(t,r)=>(r5(t)||r("Expected a mapping for this tag"),t),createNode:(t,r,n)=>nY.from(t,r,n)};class n0 extends nO{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(r2,t),this.items=[]}add(t){this.items.push(t)}delete(t){let r=n1(t);return"number"==typeof r&&this.items.splice(r,1).length>0}get(t,r){let n=n1(t);if("number"!=typeof n)return;let i=this.items[n];return!r&&r8(i)?i.value:i}has(t){let r=n1(t);return"number"==typeof r&&r<this.items.length}set(t,r){let n=n1(t);if("number"!=typeof n)throw Error(`Expected a valid index, not ${t}.`);let i=this.items[n];r8(i)&&nj(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let t of this.items)n.push(nb(t,String(i++),r));return n}toString(t,r,n){return t?nG(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){let{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r)){let t=0;for(let o of r){if("function"==typeof i){let n=r instanceof Set?o:String(t++);o=i.call(r,n,o)}a.items.push(nA(o,void 0,n))}}return a}}function n1(t){let r=r8(t)?t.value:t;return r&&"string"==typeof r&&(r=Number(r)),"number"==typeof r&&Number.isInteger(r)&&r>=0?r:null}let n2={collection:"seq",default:!0,nodeClass:n0,tag:"tag:yaml.org,2002:seq",resolve:(t,r)=>(r6(t)||r("Expected a sequence for this tag"),t),createNode:(t,r,n)=>n0.from(t,r,n)},n4={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:(t,r,n,i)=>nF(t,r=Object.assign({actualString:!0},r),n,i)},n9={identify:t=>null==t,createNode:()=>new nS(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new nS(null),stringify:({source:t},r)=>"string"==typeof t&&n9.test.test(t)?t:r.options.nullStr},n3={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new nS("t"===t[0]||"T"===t[0]),stringify:({source:t,value:r},n)=>t&&n3.test.test(t)&&r===("t"===t[0]||"T"===t[0])?t:r?n.options.trueStr:n.options.falseStr};function n5({format:t,minFractionDigits:r,tag:n,value:i}){if("bigint"==typeof i)return String(i);let a="number"==typeof i?i:Number(i);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let o=JSON.stringify(i);if(!t&&r&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let t=o.indexOf(".");t<0&&(t=o.length,o+=".");let n=r-(o.length-t-1);for(;n-- >0;)o+="0"}return o}let n7={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?-1/0:1/0,stringify:n5},n8={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let r=Number(t.value);return isFinite(r)?r.toExponential():n5(t)}},n6={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let r=new nS(parseFloat(t)),n=t.indexOf(".");return -1!==n&&"0"===t[t.length-1]&&(r.minFractionDigits=t.length-n-1),r},stringify:n5},ie=t=>"bigint"==typeof t||Number.isInteger(t),it=(t,r,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(r),n);function ir(t,r,n){let{value:i}=t;return ie(i)&&i>=0?n+i.toString(r):n5(t)}let ii={identify:t=>ie(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,r,n)=>it(t,2,8,n),stringify:t=>ir(t,8,"0o")},ia={identify:ie,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,r,n)=>it(t,0,10,n),stringify:n5},io={identify:t=>ie(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,r,n)=>it(t,2,16,n),stringify:t=>ir(t,16,"0x")},is=[nX,n2,n4,n9,n3,ii,ia,io,n7,n8,n6];function il(t){return"bigint"==typeof t||Number.isInteger(t)}let iu=({value:t})=>JSON.stringify(t),ic=[nX,n2].concat([{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:iu},{identify:t=>null==t,createNode:()=>new nS(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:iu},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>"true"===t,stringify:iu},{identify:il,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>il(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:iu}],{default:!0,tag:"",test:/^/,resolve:(t,r)=>(r(`Unresolved plain scalar ${JSON.stringify(t)}`),t)}),id={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,r){if("function"!=typeof atob)return r("This environment does not support reading binary tags; either Buffer or atob is required"),t;{let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let t=0;t<r.length;++t)n[t]=r.charCodeAt(t);return n}},stringify({comment:t,type:r,value:n},i,a,o){let s;if("function"==typeof btoa){let t="";for(let r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);s=btoa(t)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(r||(r=nS.BLOCK_LITERAL),r!==nS.QUOTE_DOUBLE){let t=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),n=Math.ceil(s.length/t),a=Array(n);for(let r=0,i=0;r<n;++r,i+=t)a[r]=s.substr(i,t);s=a.join(r===nS.BLOCK_LITERAL?"\n":" ")}return nF({comment:t,type:r,value:s},i,a,o)}};function ip(t,r){if(r6(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!r7(i)){if(r5(i)){i.items.length>1&&r("Each pair must have its own sequence indicator");let t=i.items[0]||new nZ(new nS(null));if(i.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${i.commentBefore}
${t.key.commentBefore}`:i.commentBefore),i.comment){let r=t.value??t.key;r.comment=r.comment?`${i.comment}
${r.comment}`:i.comment}i=t}t.items[n]=r7(i)?i:new nZ(i)}}else r("Expected a sequence for this tag");return t}function ih(t,r,n){let{replacer:i}=n,a=new n0(t);a.tag="tag:yaml.org,2002:pairs";let o=0;if(r&&Symbol.iterator in Object(r))for(let t of r){let s,l;if("function"==typeof i&&(t=i.call(r,String(o++),t)),Array.isArray(t))if(2===t.length)s=t[0],l=t[1];else throw TypeError(`Expected [key, value] tuple: ${t}`);else if(t&&t instanceof Object){let r=Object.keys(t);if(1===r.length)l=t[s=r[0]];else throw TypeError(`Expected tuple with one key, not ${r.length} keys`)}else s=t;a.items.push(nQ(s,l,n))}return a}let im={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ip,createNode:ih};class ig extends n0{constructor(){super(),this.add=nY.prototype.add.bind(this),this.delete=nY.prototype.delete.bind(this),this.get=nY.prototype.get.bind(this),this.has=nY.prototype.has.bind(this),this.set=nY.prototype.set.bind(this),this.tag=ig.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;for(let t of(r?.onCreate&&r.onCreate(n),this.items)){let i,a;if(r7(t)?(i=nb(t.key,"",r),a=nb(t.value,i,r)):i=nb(t,"",r),n.has(i))throw Error("Ordered maps must not include duplicate keys");n.set(i,a)}return n}static from(t,r,n){let i=ih(t,r,n),a=new this;return a.items=i.items,a}}ig.tag="tag:yaml.org,2002:omap";let iy={collection:"seq",identify:t=>t instanceof Map,nodeClass:ig,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,r){let n=ip(t,r),i=[];for(let{key:t}of n.items)r8(t)&&(i.includes(t.value)?r(`Ordered maps must not include duplicate keys: ${t.value}`):i.push(t.value));return Object.assign(new ig,n)},createNode:(t,r,n)=>ig.from(t,r,n)};function iv({value:t,source:r},n){return r&&(t?ib:ix).test.test(r)?r:t?n.options.trueStr:n.options.falseStr}let ib={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new nS(!0),stringify:iv},ix={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new nS(!1),stringify:iv},iw=t=>"bigint"==typeof t||Number.isInteger(t);function ij(t,r,n,{intAsBigInt:i}){let a=t[0];if(("-"===a||"+"===a)&&(r+=1),t=t.substring(r).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}let r=BigInt(t);return"-"===a?BigInt(-1)*r:r}let o=parseInt(t,n);return"-"===a?-1*o:o}function iS(t,r,n){let{value:i}=t;if(iw(i)){let t=i.toString(r);return i<0?"-"+n+t.substr(1):n+t}return n5(t)}class iA extends nY{constructor(t){super(t),this.tag=iA.tag}add(t){let r;r=r7(t)?t:t&&"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new nZ(t.key,null):new nZ(t,null),nJ(this.items,r.key)||this.items.push(r)}get(t,r){let n=nJ(this.items,t);return!r&&r7(n)?r8(n.key)?n.key.value:n.key:n}set(t,r){if("boolean"!=typeof r)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=nJ(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new nZ(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw Error("Set items must all have null values")}static from(t,r,n){let{replacer:i}=n,a=new this(t);if(r&&Symbol.iterator in Object(r))for(let t of r)"function"==typeof i&&(t=i.call(r,t,t)),a.items.push(nQ(t,null,n));return a}}iA.tag="tag:yaml.org,2002:set";let i_={collection:"map",identify:t=>t instanceof Set,nodeClass:iA,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,r,n)=>iA.from(t,r,n),resolve(t,r){if(r5(t))if(t.hasAllNullValues(!0))return Object.assign(new iA,t);else r("Set items must all have null values");else r("Expected a mapping for this tag");return t}};function iC(t,r){let n=t[0],i="-"===n||"+"===n?t.substring(1):t,a=t=>r?BigInt(t):Number(t),o=i.replace(/_/g,"").split(":").reduce((t,r)=>t*a(60)+a(r),a(0));return"-"===n?a(-1)*o:o}function iO(t){let{value:r}=t,n=t=>t;if("bigint"==typeof r)n=t=>BigInt(t);else if(isNaN(r)||!isFinite(r))return n5(t);let i="";r<0&&(i="-",r*=n(-1));let a=n(60),o=[r%a];return r<60?o.unshift(0):(r=(r-o[0])/a,o.unshift(r%a),r>=60&&(r=(r-o[0])/a,o.unshift(r))),i+o.map(t=>String(t).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}let iE={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,r,{intAsBigInt:n})=>iC(t,n),stringify:iO},ik={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>iC(t,!1),stringify:iO},iM={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let r=t.match(iM.test);if(!r)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,a,o,s,l]=r.map(Number),u=Date.UTC(n,i-1,a,o||0,s||0,l||0,r[7]?Number((r[7]+"00").substr(1,3)):0),c=r[8];if(c&&"Z"!==c){let t=iC(c,!1);30>Math.abs(t)&&(t*=60),u-=6e4*t}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},iP=[nX,n2,n4,n9,ib,ix,{identify:iw,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,r,n)=>ij(t,2,2,n),stringify:t=>iS(t,2,"0b")},{identify:iw,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,r,n)=>ij(t,1,8,n),stringify:t=>iS(t,8,"0")},{identify:iw,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,r,n)=>ij(t,0,10,n),stringify:n5},{identify:iw,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,r,n)=>ij(t,2,16,n),stringify:t=>iS(t,16,"0x")},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?-1/0:1/0,stringify:n5},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let r=Number(t.value);return isFinite(r)?r.toExponential():n5(t)}},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let r=new nS(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(-1!==n){let i=t.substring(n+1).replace(/_/g,"");"0"===i[i.length-1]&&(r.minFractionDigits=i.length)}return r},stringify:n5},id,nq,iy,im,i_,iE,ik,iM],iD=new Map([["core",is],["failsafe",[nX,n2,n4]],["json",ic],["yaml11",iP],["yaml-1.1",iP]]),iR={binary:id,bool:n3,float:n6,floatExp:n8,floatNaN:n7,floatTime:ik,int:ia,intHex:io,intOct:ii,intTime:iE,map:nX,merge:nq,null:n9,omap:iy,pairs:im,seq:n2,set:i_,timestamp:iM},iN={"tag:yaml.org,2002:binary":id,"tag:yaml.org,2002:merge":nq,"tag:yaml.org,2002:omap":iy,"tag:yaml.org,2002:pairs":im,"tag:yaml.org,2002:set":i_,"tag:yaml.org,2002:timestamp":iM};function iT(t,r,n){let i=iD.get(r);if(i&&!t)return n&&!i.includes(nq)?i.concat(nq):i.slice();let a=i;if(!a)if(Array.isArray(t))a=[];else{let t=Array.from(iD.keys()).filter(t=>"yaml11"!==t).map(t=>JSON.stringify(t)).join(", ");throw Error(`Unknown schema "${r}"; use one of ${t} or define customTags array`)}if(Array.isArray(t))for(let r of t)a=a.concat(r);else"function"==typeof t&&(a=t(a.slice()));return n&&(a=a.concat(nq)),a.reduce((t,r)=>{let n="string"==typeof r?iR[r]:r;if(!n){let t=JSON.stringify(r),n=Object.keys(iR).map(t=>JSON.stringify(t)).join(", ");throw Error(`Unknown custom tag ${t}; use one of ${n}`)}return t.includes(n)||t.push(n),t},[])}let iI=(t,r)=>t.key<r.key?-1:+(t.key>r.key);class iV{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:a,sortMapEntries:o,toStringDefaults:s}){this.compat=Array.isArray(t)?iT(t,"compat"):t?iT(null,t):null,this.name="string"==typeof a&&a||"core",this.knownTags=i?iN:{},this.tags=iT(r,this.name,n),this.toStringOptions=s??null,Object.defineProperty(this,rX,{value:nX}),Object.defineProperty(this,r1,{value:n4}),Object.defineProperty(this,r2,{value:n2}),this.sortMapEntries="function"==typeof o?o:!0===o?iI:null}clone(){let t=Object.create(iV.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}class iz{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,r4,{value:rY});let i=null;"function"==typeof r||Array.isArray(r)?i=r:void 0===n&&r&&(n=r,r=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=a;let{version:o}=a;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new nh({version:o}),this.setSchema(o,n),this.contents=void 0===t?null:this.createNode(t,i,n)}clone(){let t=Object.create(iz.prototype,{[r4]:{value:rY}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=nt(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){iL(this.contents)&&this.contents.add(t)}addIn(t,r){iL(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=ng(this);t.anchor=!r||n.has(r)?ny(r||"a",n):r}return new nw(t.anchor)}createNode(t,r,n){var i,a;let o,s,l,u;if("function"==typeof r)t=r.call({"":t},"",t),o=r;else if(Array.isArray(r)){let t=r.filter(t=>"number"==typeof t||t instanceof String||t instanceof Number).map(String);t.length>0&&(r=r.concat(t)),o=r}else void 0===n&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:c,anchorPrefix:d,flow:p,keepUndefined:f,onTagObj:h,tag:m}=n??{},{onAnchor:g,setAnchors:y,sourceObjects:v}=(i=this,a=d||"a",s=[],l=new Map,u=null,{onAnchor:t=>{s.push(t),u||(u=ng(i));let r=ny(a,u);return u.add(r),r},setAnchors:()=>{for(let t of s){let r=l.get(t);if("object"==typeof r&&r.anchor&&(r8(r.node)||ne(r.node)))r.node.anchor=r.anchor;else{let r=Error("Failed to resolve repeated object (this should not happen)");throw r.source=t,r}}},sourceObjects:l}),b={aliasDuplicateObjects:c??!0,keepUndefined:f??!1,onAnchor:g,onTagObj:h,replacer:o,schema:this.schema,sourceObjects:v},x=nA(t,m,b);return p&&ne(x)&&(x.flow=!0),y(),x}createPair(t,r,n={}){return new nZ(this.createNode(t,null,n),this.createNode(r,null,n))}delete(t){return!!iL(this.contents)&&this.contents.delete(t)}deleteIn(t){return nC(t)?null!=this.contents&&(this.contents=null,!0):!!iL(this.contents)&&this.contents.deleteIn(t)}get(t,r){return ne(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return nC(t)?!r&&r8(this.contents)?this.contents.value:this.contents:ne(this.contents)?this.contents.getIn(t,r):void 0}has(t){return!!ne(this.contents)&&this.contents.has(t)}hasIn(t){return nC(t)?void 0!==this.contents:!!ne(this.contents)&&this.contents.hasIn(t)}set(t,r){null==this.contents?this.contents=n_(this.schema,[t],r):iL(this.contents)&&this.contents.set(t,r)}setIn(t,r){nC(t)?this.contents=r:null==this.contents?this.contents=n_(this.schema,Array.from(t),r):iL(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){let n;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new nh({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new nh({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let r=JSON.stringify(t);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new iV(Object.assign(n,r));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:a,reviver:o}={}){let s={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100},l=nb(this.contents,r??"",s);if("function"==typeof a)for(let{count:t,res:r}of s.anchors.values())a(r,t);return"function"==typeof o?nv(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||0>=Number(t.indent))){let r=JSON.stringify(t.indent);throw Error(`"indent" option must be a positive integer, not ${r}`)}return function(t,r){let n=[],i=!0===r.directives;if(!1!==r.directives&&t.directives){let r=t.directives.toString(t);r?(n.push(r),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let a=n$(t,r),{commentString:o}=a.options;if(t.commentBefore){1!==n.length&&n.unshift("");let r=o(t.commentBefore);n.unshift(nk(r,""))}let s=!1,l=null;if(t.contents){if(nt(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let r=o(t.contents.commentBefore);n.push(nk(r,""))}a.forceBlockIndent=!!t.comment,l=t.contents.comment}let r=l?void 0:()=>s=!0,u=nB(t.contents,a,()=>l=null,r);l&&(u+=nM(u,"",o(l))),("|"===u[0]||">"===u[0])&&"---"===n[n.length-1]?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(nB(t.contents,a));if(t.directives?.docEnd)if(t.comment){let r=o(t.comment);r.includes("\n")?(n.push("..."),n.push(nk(r,""))):n.push(`... ${r}`)}else n.push("...");else{let r=t.comment;r&&s&&(r=r.replace(/^\n+/,"")),r&&((!s||l)&&""!==n[n.length-1]&&n.push(""),n.push(nk(o(r),"")))}return n.join("\n")+"\n"}(this,t)}}function iL(t){if(ne(t))return!0;throw Error("Expected a YAML collection as document contents")}let iF=Symbol("break visit"),i$=Symbol("skip children"),iB=Symbol("remove item");function iq(t,r){"type"in t&&"document"===t.type&&(t={start:t.start,value:t.value}),function t(r,n,i){let a=i(n,r);if("symbol"==typeof a)return a;for(let o of["key","value"]){let s=n[o];if(s&&"items"in s){for(let n=0;n<s.items.length;++n){let a=t(Object.freeze(r.concat([[o,n]])),s.items[n],i);if("number"==typeof a)n=a-1;else{if(a===iF)return iF;a===iB&&(s.items.splice(n,1),n-=1)}}"function"==typeof a&&"key"===o&&(a=a(n,r))}}return"function"==typeof a?a(n,r):a}(Object.freeze([]),t,r)}function iH(t,r,n){let i=null;if("function"==typeof r||Array.isArray(r)?i=r:void 0===n&&r&&(n=r),"string"==typeof n&&(n=n.length),"number"==typeof n){let t=Math.round(n);n=t<1?void 0:t>8?{indent:8}:{indent:t}}if(void 0===t){let{keepUndefined:t}=n??r??{};if(!t)return}return r3(t)&&!i?t.toString(n):new iz(t,i,n).toString(n)}function iU(){let{dashboard:t}=rK(),r=(0,m.useRef)(null),[n,i]=g().useState(null),o=!!n,s=(n,a)=>()=>{i(null);let{contentType:o,content:s}=function(t,r,n){switch(r){case"json":return{contentType:"application/json",content:JSON.stringify(t,null,2)};case"yaml":let i;if("cr"===n){let r=t.metadata.name.toLowerCase().replace(/[^a-z0-9-]/g,"-");i=iH({apiVersion:"perses.dev/v1alpha1",kind:"PersesDashboard",metadata:{labels:{"app.kubernetes.io/name":"perses-dashboard","app.kubernetes.io/instance":r,"app.kubernetes.io/part-of":"perses-operator"},name:r,namespace:t.metadata.project},spec:t.spec},{schema:"yaml-1.1"})}else i=iH(t,{schema:"yaml-1.1"});return{contentType:"application/yaml",content:i}}}(t,n,a);if(!r||!r.current)return;let l=URL.createObjectURL(new Blob([s],{type:o}));r.current.download=`${t.metadata.name}${"cr"===a?"-cr":""}.${n}`,r.current.href=l,r.current.click(),URL.revokeObjectURL(l)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ToolbarIconButton,{id:"download-dashboard-button","aria-controls":o?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,onClick:t=>{i(t.currentTarget)},children:(0,a.jsx)(rG.default,{})}),(0,a.jsx)(tS.A,{id:"download-dashboard-formats",anchorEl:n,open:o,hideBackdrop:!0,onClose:()=>i(null),MenuListProps:{"aria-labelledby":"download-dashboard-button"},children:(0,a.jsx)("div",{children:(0,a.jsx)(rQ,{onClickAway:()=>i(null),children:(0,a.jsxs)(rZ.A,{children:[(0,a.jsx)(tA.A,{onClick:s("json"),children:"JSON"}),(0,a.jsx)(tA.A,{onClick:s("yaml"),children:"YAML"}),(0,a.jsx)(tA.A,{onClick:s("yaml","cr"),children:"YAML (CR)"})]})})})}),(0,a.jsx)("a",{ref:r,style:{display:"none"}})]})}function iW(t){let[r,n]=rj(t.datasources),[i,s]=(0,m.useState)("update"),[l,u]=(0,m.useState)(null),c={default:!1,plugin:{kind:"PrometheusDatasource",spec:{}}},{openDiscardChangesConfirmationDialog:d,closeDiscardChangesConfirmationDialog:p}=eg();return(0,a.jsx)(a.Fragment,{children:l?(0,a.jsx)(j.ValidationProvider,{children:(0,a.jsx)(j.DatasourceEditorForm,{initialDatasourceDefinition:l,action:i,isDraft:!0,onActionChange:s,onSave:t=>{n(r=>{delete r[l.name],r[t.name]=t.spec,u(null)})},onClose:()=>{u(null)}})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ej.A,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsx)(e7.A,{variant:"h2",children:"Edit Dashboard Datasources"}),(0,a.jsxs)(to.A,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.A,{disabled:t.datasources===r,variant:"contained",onClick:()=>{t.onChange(r)},children:"Apply"}),(0,a.jsx)(o.A,{color:"secondary",variant:"outlined",onClick:()=>{JSON.stringify(t.datasources)!==JSON.stringify(r)?d({onDiscardChanges:()=>{p(),t.onCancel()},onCancel:()=>{p()},description:"You have unapplied changes. Are you sure you want to discard these changes? Changes cannot be recovered."}):t.onCancel()},children:"Cancel"})]})]}),(0,a.jsx)(ej.A,{padding:2,sx:{overflowY:"scroll"},children:(0,a.jsx)(to.A,{spacing:2,children:(0,a.jsxs)(to.A,{spacing:2,children:[(0,a.jsx)(t3.A,{children:(0,a.jsxs)(t5.A,{sx:{minWidth:650},"aria-label":"table of datasources",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:"Name"}),(0,a.jsx)(rb.A,{children:"Type"}),(0,a.jsx)(rb.A,{children:"Description"}),(0,a.jsx)(rb.A,{align:"right",children:"Actions"})]})}),(0,a.jsx)(t6.A,{children:Object.entries(r).map(([t,i])=>(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{component:"th",scope:"row",sx:{fontWeight:"bold"},children:t}),(0,a.jsx)(rb.A,{children:i.plugin.kind}),(0,a.jsx)(rb.A,{children:i.display?.description??""}),(0,a.jsxs)(rb.A,{align:"right",sx:{whiteSpace:"nowrap"},children:[(0,a.jsx)(tw.A,{onClick:()=>{s("update"),u({name:t,spec:r[t]??c})},children:(0,a.jsx)(rS.default,{})}),(0,a.jsx)(tw.A,{onClick:()=>{n(r=>{delete r[t]})},children:(0,a.jsx)(rA.default,{})})]})]},t))})]})}),(0,a.jsx)(ej.A,{display:"flex",children:(0,a.jsx)(o.A,{variant:"contained",startIcon:(0,a.jsx)(rx.default,{}),sx:{marginLeft:"auto"},onClick:()=>{s("create"),u({name:"NewDatasource",spec:c})},children:"Add Datasource"})})]})})})]})})}function iQ(){let[t,r]=(0,m.useState)(!1),{getLocalDatasources:n,setLocalDatasources:i,getSavedDatasources:s,setSavedDatasources:u}=(0,j.useDatasourceStore)(),c=n(),p=s(),{dashboard:h,setDashboard:g}=rK(),y=()=>{r(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoTooltip,{description:d,children:(0,a.jsx)(o.A,{startIcon:(0,a.jsx)(tf.default,{}),onClick:()=>{r(!0)},"aria-label":d,variant:"text",color:"primary",sx:f,children:"Datasources"})}),(0,a.jsx)(l.Drawer,{isOpen:t,onClose:y,PaperProps:{sx:{width:"50%"}},"data-testid":"datasource-editor",children:(0,a.jsx)(iW,{datasources:c,onCancel:y,onChange:t=>{let n=Object.keys(t).filter(r=>{let n="directUrl"in(t[r]?.plugin?.spec??{}),i=!n&&!("directUrl"in(p[r]?.plugin?.spec??{}))&&t[r]?.plugin?.spec?.proxy===p[r]?.plugin?.spec?.proxy;return n||i}).reduce((r,n)=>(r[n]=t[n],r),{});g((h.kind,{...h,spec:{...h.spec,datasources:t}})),u(n),i(t),r(!1)}})})]})}iq.BREAK=iF,iq.SKIP=i$,iq.REMOVE=iB,iq.itemAtPath=(t,r)=>{let n=t;for(let[t,i]of r){let r=n?.[t];if(!r||!("items"in r))return;n=r.items[i]}return n},iq.parentCollection=(t,r)=>{let n=iq.itemAtPath(t,r.slice(0,-1)),i=r[r.length-1][0],a=n?.[i];if(a&&"items"in a)return a;throw Error("Parent collection not found")};var iZ=n(65707);let iG=t=>{let{isReadonly:r}=t,{openEditJsonDialog:n}=ev(),i=r?"View JSON":"Edit JSON";return(0,a.jsx)(l.InfoTooltip,{description:i,children:(0,a.jsx)(l.ToolbarIconButton,{"aria-label":i,variant:"outlined",onClick:()=>n(),children:(0,a.jsx)(iZ.default,{})})})};var iK=n(69791);let iJ=({onSave:t,isDisabled:r,variant:n="contained"})=>{let[i,s]=(0,m.useState)(!1),{dashboard:l,setDashboard:u}=rK(),{getSavedVariablesStatus:c,setVariableDefaultValues:d}=(0,t4.eC)(),{isSavedVariableModified:p}=c(),{timeRange:f,refreshInterval:h}=(0,j.useTimeRange)(),{setEditMode:g}=z(),{openSaveChangesConfirmationDialog:y,closeSaveChangesConfirmationDialog:v}=eh(),b=async()=>{if(t)try{s(!0),await t(l),v(),g(!1)}catch(t){throw Error(`An error occurred while saving the dashboard. ${t}`)}finally{s(!1)}else g(!1)};return(0,a.jsx)(o.A,{variant:n,onClick:()=>{let t=(0,iK.bB)(f)&&l.spec.duration!==f.pastDuration,r=l.spec.refreshInterval!==h;t||p||r?y({onSaveChanges:(t,n,i)=>{if((0,iK.bB)(f)&&t&&(l.spec.duration=f.pastDuration),i){let t=d();l.spec.variables=t}n&&r&&(l.spec.refreshInterval=h),u(l),b()},onCancel:()=>{v()},isSavedDurationModified:t,isSavedVariableModified:p,isSavedRefreshIntervalModified:r}):b()},disabled:r||i,children:"Save"})};function iY(t,r){let{disableHysteresis:n=!1,threshold:i=100,target:a}=r,o=t.current;return a&&(t.current=void 0!==a.pageYOffset?a.pageYOffset:a.scrollTop),(!!n||void 0===o||!(t.current<o))&&t.current>i}let iX="undefined"!=typeof window?window:null;function i0(t){return(0,eT.Ay)("MuiAppBar",t)}(0,eN.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);let i1=(t,r)=>t?`${t?.replace(")","")}, ${r})`:r,i2=(0,eE.A)(rt.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,r[`position${(0,tO.A)(n.position)}`],r[`color${(0,tO.A)(n.color)}`]]}})((0,ek.A)(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter((0,tE.A)(["contrastText"])).map(([r])=>({props:{color:r},style:{"--AppBar-background":(t.vars??t).palette[r].main,"--AppBar-color":(t.vars??t).palette[r].contrastText}})),{props:t=>!0===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>!1===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?i1(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?i1(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),i4=m.forwardRef(function(t,r){let n=(0,eM.b)({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed",...u}=n,c={...n,color:o,position:l,enableColorOnDark:s},d=(t=>{let{color:r,position:n,classes:i}=t,a={root:["root",`color${(0,tO.A)(r)}`,`position${(0,tO.A)(n)}`]};return(0,eO.A)(a,i0,i)})(c);return(0,a.jsx)(i2,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,eA.A)(d.root,i,"fixed"===l&&"mui-fixed"),ref:r,...u})});var i9=n(29917),i3=n(80154),i5=n(48865),i7=n(81227),i8=n(5611),i6=n(93648),ae=n(42927),at=n(47601);let ar=g().createContext(void 0);function an(){let t=(0,m.useContext)(ar);if(!t)throw Error("ListVariableListBoxContext not found");return t}function ai({value:t,children:r}){return(0,a.jsx)(ar.Provider,{value:t,children:r})}let aa=(0,m.forwardRef)(function(t,r){let{children:n,...i}=t,{options:o,selectedOptions:s,filteredOptions:l,allowAllValue:u,onChange:c}=an(),d=(0,m.useMemo)(()=>s.length,[s]),p=(0,m.useMemo)(()=>o.length>0&&d>0&&d!==o.length,[d,o]),f=(0,m.useMemo)(()=>o.length>0&&d===o.length,[d,o]);return(0,a.jsxs)("ul",{...i,ref:r,role:"listbox",children:[(0,a.jsxs)("li",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(ae.A,{indeterminate:p,checked:f,onChange:()=>{var t,r,n,i,a,d,h;return t=o,r=s,n=l,i=p,a=f,d=u,h=c,void(a?h(n.length!==t.length?r.filter(t=>!n.includes(t)):[]):i?h(d?n.length===t.length?r[0]?.value==="$__all"?t.filter(t=>"$__all"!==t.value):[{label:"$__all",value:"$__all"}]:n.every(t=>r.includes(t))?r.filter(t=>!n.includes(t)):[...r,...n.filter(t=>"$__all"!==t.value)]:n.length===t.length?t:n.every(t=>r.includes(t))?r.filter(t=>!n.includes(t)):[...r,...n]):h(n))}}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:d})," Selected"]})]}),(0,a.jsx)(tU.A,{}),n]})});function ao(t){return null===t?null:Array.isArray(t)?t.map(t=>t.value):t.value}function as({name:t,source:r}){let n=(0,t4.bq)(t,r),i=n.definition?.kind;switch(i){case"TextVariable":return(0,a.jsx)(ap,{name:t,source:r});case"ListVariable":return(0,a.jsx)(ad,{name:t,source:r})}return(0,a.jsxs)("div",{children:["Unsupported Variable Kind: $",i]})}function al(t,r,n){let i=t?.allowMultiple===!0,a=t?.allowAllValue===!0,o=t?.sort,s=(0,m.useMemo)(()=>n.isFetching??!1,[n.isFetching]),l=(0,m.useMemo)(()=>n.data??[],[n.data]),u=r?.value;i&&!Array.isArray(u)&&(u="string"==typeof u?[u]:[]);let c=(0,m.useMemo)(()=>{let t=l?[...l]:[];if(!o||"none"===o)return t;let r=j.SORT_METHODS[o];return r?r.sort(t):t},[l,o]),d=(0,m.useMemo)(()=>{let t=c;return a&&(t=[{value:"$__all",label:"All"},...t]),t},[a,c]),p=(0,m.useMemo)(()=>!!d.find(t=>i?u.includes(t.value):u===t.value),[d,u,i]);u=(0,m.useMemo)(()=>{let t=d?.[+!!a]?.value;return!t||p&&u&&0!==u.length?u:i?[t]:t},[d,u,p,i,a]);let f=(0,m.useMemo)(()=>Array.isArray(u)?d.filter(t=>u?.includes(t.value)):d.find(t=>u===t.value)??{value:"",label:""},[u,d]);return{value:u,loading:s,options:l,selectedOptions:f,viewOptions:d}}let au=t=>(0,a.jsx)(i5.A,{...t,sx:{minWidth:"fit-content"},placement:"bottom-start"}),ac=(t,r)=>{let n=(t.length+1)*8+40*("list"===r);return n<120?120:n>500?500:n};function ad({name:t,source:r}){let n=(0,t4.bq)(t,r),i=n.definition,o=(0,j.useListVariablePluginValues)(i),{setVariableValue:s,setVariableLoading:l,setVariableOptions:u}=(0,t4.eC)(),{selectedOptions:c,value:d,loading:p,options:f,viewOptions:h}=al(i?.spec,n.state,o),[g,y]=(0,m.useState)(120),[v,b]=(0,m.useState)(""),x=i?.spec.display?.name??t,w=i?.spec.allowMultiple===!0,S=i?.spec.allowAllValue===!0,A=(0,i7.Z)({}),_=(0,m.useMemo)(()=>A(h,{inputValue:v,getOptionLabel:t=>t.label}),[v,h,A]);(0,m.useEffect)(()=>{d&&s(t,d,r)},[s,t,d,r]),(0,m.useEffect)(()=>{l(t,p,r)},[l,t,p,r]),(0,m.useEffect)(()=>{f&&u(t,f,r)},[u,t,f,r]);let C=(0,m.useCallback)(n=>{s(t,ao(n),r)},[t,s,r]),O=(0,m.useMemo)(()=>({options:h,selectedOptions:c,filteredOptions:_,allowAllValue:S,onChange:C}),[S,_,C,c,h]),E=(0,m.useMemo)(()=>(0,a.jsx)(i8.A,{disablePortal:!0,loading:p,disableCloseOnSelect:w,multiple:w,fullWidth:!0,limitTags:3,size:"small",disableClearable:!0,slotProps:{listbox:{component:w?aa:void 0}},slots:{popper:au},sx:{"& .MuiInputBase-root":{minHeight:"38px"},"& .MuiAutocomplete-tag":{margin:"1px 2px"}},filterOptions:A,options:h,value:c,onChange:(n,i)=>{(null===i||Array.isArray(i)&&0===i.length)&&S?s(t,"$__all",r):s(t,ao(i),r)},inputValue:w?v:void 0,onInputChange:(t,r)=>{w||y(ac(r,"list"))},onBlur:()=>{w&&b("")},renderInput:t=>w?(0,a.jsx)(i6.A,{...t,label:x,onChange:t=>b(t.target.value)}):(0,a.jsx)(i6.A,{...t,label:x,style:{width:`${g}px`}}),renderOption:(t,r,{selected:n})=>{let{key:i,...o}=t;return(0,a.jsxs)("li",{...o,style:{padding:0},children:[(0,a.jsx)(ae.A,{style:{marginRight:8},checked:n}),r.label]},i)},renderTags:(t,r,n)=>{if(n.focused)return(0,a.jsx)(ej.A,{sx:{maxHeight:200,overflowY:"auto"},children:t.map((t,n)=>(0,m.createElement)(at.A,{...r({index:n}),key:n,label:t.label,size:"small"}))});let i=n.limitTags,o=t.length;return(0,a.jsxs)(a.Fragment,{children:[t.slice(0,i).map((t,n)=>(0,m.createElement)(at.A,{...r({index:n}),key:n,label:t.label,size:"small"})),i&&o>i&&` +${o-i}`]})}}),[S,w,A,v,g,p,t,c,s,r,x,h]);return w?(0,a.jsx)(ai,{value:O,children:E}):E}function ap({name:t,source:r}){let n=(0,t4.bq)(t,r),i=n.state,o=n.definition,[s,l]=(0,m.useState)(i?.value??""),[u,c]=(0,m.useState)(ac(s,"text")),{setVariableValue:d}=(0,t4.eC)();return(0,m.useEffect)(()=>{l(i?.value??"")},[i?.value]),(0,a.jsx)(i6.A,{title:s,value:s,onChange:t=>{l(t.target.value),c(ac(t.target.value,"text"))},onBlur:()=>d(t,s,r),placeholder:t,label:o?.spec.display?.name??t,slotProps:{input:{readOnly:o?.spec.constant??!1}},sx:{width:`${u}px`,"& .MuiInputBase-root":{minHeight:"38px"},"& .MuiInputBase-input":{textOverflow:"ellipsis"}}})}function af(){let t=(0,t4.uR)(),r=(0,t4.RL)();return(0,a.jsxs)(a.Fragment,{children:[r.slice().reverse().map(t=>t.definitions.map(r=>(0,a.jsx)(ah,{spec:r.spec,source:t.source},r.spec.name+t.source))),t.map(t=>(0,a.jsx)(ah,{spec:t.spec},t.spec.name))]})}function ah({spec:t,source:r}){let n=(0,t4.bq)(t.name,r);return n.state?.overridden?null:(0,a.jsx)(ej.A,{display:t.display?.hidden?"none":void 0,minWidth:"120px",maxWidth:"500px",flexShrink:0,"data-testid":"variable-"+t.name,children:(0,a.jsx)(as,{name:t.name,source:r},t.name+(r??""))},t.name+(r??""))}function am(t){let[r,n]=(0,m.useState)(t.initialVariableIsSticky),i=function(t={}){let{getTrigger:r=iY,target:n=iX,...i}=t,a=m.useRef(),[o,s]=m.useState(()=>r(a,i));return m.useEffect(()=>{if(null===n)return s(!1);let t=()=>{s(r(a,{target:n,...i}))};return t(),n.addEventListener("scroll",t,{passive:!0}),()=>{n.removeEventListener("scroll",t,{passive:!0})}},[n,r,JSON.stringify(i)]),o}({disableHysteresis:!0})&&t.initialVariableIsSticky&&r,o=(0,r$.A)((0,eS.A)().breakpoints.up("md"));return(0,a.jsx)(ej.A,{marginBottom:-1,"data-testid":"variable-list",children:(0,a.jsx)(i4,{color:"inherit",position:i?"fixed":"static",elevation:4*!!i,sx:{backgroundColor:"inherit",...t.sx},children:(0,a.jsxs)(ej.A,{display:"flex",justifyContent:"space-between",sx:{flexDirection:o?"row":"column"},children:[(0,a.jsxs)(ej.A,{display:"flex",flexWrap:!i&&o?"wrap":"nowrap",maxWidth:i||!o?"100vw":"100%",pt:1,pl:+!!i,mt:i&&o?.5:0,ml:i&&o?.5:0,sx:{overflowX:!i&&o?"hidden":"auto",scrollbarWidth:"thin","&::-webkit-scrollbar":{height:"8px",backgroundColor:t=>t.palette.grey["300"]},"&::-webkit-scrollbar-thumb":{background:t=>t.palette.grey["600"]}},gap:1,children:[(0,a.jsx)(af,{}),t.initialVariableIsSticky&&(0,a.jsx)(tw.A,{style:{width:"fit-content",height:"fit-content"},onClick:()=>n(!r),children:r?(0,a.jsx)(i9.default,{}):(0,a.jsx)(i3.default,{})})]}),i&&(0,a.jsx)(to.A,{m:o?1.5:1,mt:1.5*!!o,ml:o?1.5:"auto",direction:"row",justifyContent:"end",children:(0,a.jsx)(j.TimeRangeControls,{})})]})})})}let ag=t=>{let{dashboardName:r,dashboardTitleComponent:n,initialVariableIsSticky:i,isReadonly:s,isVariableEnabled:u,isDatasourceEnabled:c,onEditButtonClick:d,onCancelButtonClick:p,onSave:f}=t,{isEditMode:h}=z(),m=(0,r$.A)((0,eS.A)().breakpoints.up("sm")),g=(0,r$.A)((0,eS.A)().breakpoints.up("md")),y=n||(0,a.jsx)(e7.A,{variant:"h2",children:r});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(to.A,{"data-testid":"dashboard-toolbar",children:[(0,a.jsxs)(ej.A,{px:2,py:1.5,display:"flex",sx:{backgroundColor:t=>t.palette.primary.main+(h?"30":"0")},children:[y,h?(0,a.jsxs)(to.A,{direction:"row",gap:1,ml:"auto",children:[s&&(0,a.jsx)(t9.A,{severity:"warning",sx:{backgroundColor:"transparent",padding:0},children:"Dashboard managed via code only. Download JSON and commit changes to save."}),(0,a.jsxs)(to.A,{direction:"row",spacing:.5,ml:1,whiteSpace:"nowrap",children:[u&&(0,a.jsx)(rN,{}),c&&(0,a.jsx)(iQ,{}),(0,a.jsx)(ew,{}),(0,a.jsx)(eb,{})]}),(0,a.jsx)(iJ,{onSave:f,isDisabled:s}),(0,a.jsx)(o.A,{variant:"outlined",onClick:p,children:"Cancel"})]}):(0,a.jsx)(a.Fragment,{children:m&&(0,a.jsx)(to.A,{direction:"row",gap:1,ml:"auto",children:(0,a.jsx)(rT,{onClick:d})})})]}),(0,a.jsxs)(ej.A,{sx:{display:"flex",width:"100%",alignItems:"start",padding:t=>t.spacing(1,2,0,2),flexDirection:g?"row":"column",flexWrap:"nowrap",gap:1},children:[(0,a.jsx)(ej.A,{width:"100%",children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(am,{initialVariableIsSticky:i,sx:{backgroundColor:({palette:t})=>t.background.default}})})}),(0,a.jsx)(to.A,{direction:"row",ml:"auto",flexWrap:"wrap",justifyContent:"end",children:(0,a.jsxs)(to.A,{direction:"row",spacing:1,mt:1,ml:1,children:[(0,a.jsx)(j.TimeRangeControls,{}),(0,a.jsx)(iU,{}),(0,a.jsx)(iG,{isReadonly:!h})]})})]})]})})},ay=()=>{let{deletePanelDialog:t,closeDeletePanelDialog:r}=eo();return(0,a.jsxs)(l.Dialog,{open:void 0!==t,children:[(0,a.jsx)(l.Dialog.Header,{onClose:()=>r(),children:"Delete Panel"}),t&&(0,a.jsx)(av,{deletePanelDialog:t})]})},av=({deletePanelDialog:t})=>{let{deletePanel:r,closeDeletePanelDialog:n}=eo(),{setViewPanel:i}=ec();return(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault();let{panelGroupItemId:o}=t;r(o),n(),i(void 0)},children:[(0,a.jsxs)(l.Dialog.Content,{children:["Are you sure you want to delete ",t.panelName," from ",t.panelGroupName,"? This action cannot be undone."]}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(l.Dialog.PrimaryButton,{children:"Delete"}),(0,a.jsx)(l.Dialog.SecondaryButton,{onClick:()=>n(),children:"Cancel"})]})]})},ab=()=>{let{deletePanelGroupDialog:t,closeDeletePanelGroupDialog:r,deletePanelGroup:n}=X(),{setViewPanel:i}=ec(),s=t?.panelGroupId;return(0,a.jsxs)(l.Dialog,{open:void 0!==t,children:[(0,a.jsx)(l.Dialog.Header,{children:"Delete Panel Group"}),(0,a.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),void 0===s)throw Error("group index is undefined");n(s),r(),i(void 0)},children:[(0,a.jsxs)(l.Dialog.Content,{dividers:!0,sx:{width:"500px"},children:["Are you sure you want to delete ",t?.panelGroupName??"panel group","? This will delete all the panels within the group."]}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(o.A,{variant:"contained",type:"submit",children:"Delete"}),(0,a.jsx)(o.A,{variant:"outlined",color:"secondary",onClick:()=>r(),children:"Cancel"})]})]})]})},ax=()=>{let{discardChangesConfirmationDialog:t}=eg();return void 0===t?null:(0,a.jsx)(l.DiscardChangesConfirmationDialog,{description:t.description||"You have unsaved changes in this dashboard. Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:!0,onCancel:t.onCancel,onDiscardChanges:t.onDiscardChanges})};var aw=n(67987);let aj=t=>{let{isReadonly:r,disableMetadataEdition:n}=t,{editJsonDialog:i,closeEditJsonDialog:o}=ev();return(0,a.jsxs)(l.Dialog,{open:!!i?.isOpen,scroll:"paper",fullWidth:!0,maxWidth:"lg",children:[(0,a.jsxs)(l.Dialog.Header,{onClose:()=>o(),children:[!r&&"Edit "," Dashboard JSON"]}),i?.isOpen&&(0,a.jsx)(aS,{isReadonly:r,disableMetadataEdition:n})]})},aS=t=>{let{isReadonly:r,disableMetadataEdition:n}=t,{closeEditJsonDialog:i}=ev(),{setTimeRange:o,setRefreshInterval:s}=(0,j.useTimeRange)(),{dashboard:u,setDashboard:c}=rK(),{setLocalDatasources:d}=(0,j.useDatasourceStore)(),[p,f]=(0,m.useState)(u),h=t=>{t.preventDefault(),c(p),o({pastDuration:p.spec.duration}),s(p.spec.refreshInterval??"0s"),d(p.spec.datasources??{}),i()};return(0,a.jsxs)(l.Dialog.Form,{onSubmit:h,children:[(0,a.jsxs)(l.Dialog.Content,{sx:{width:"100%"},children:[n&&!r&&(0,a.jsx)(t9.A,{sx:{marginBottom:t=>t.spacing(1)},severity:"warning",children:"Metadata cannot be modified or saved."}),"EphemeralDashboard"===p.kind&&(0,a.jsx)(t9.A,{sx:{marginBottom:1},severity:"warning",children:"Time-to-live cannot be modified or saved from here. Go to the project view to modify it."}),(0,a.jsx)(aw.A,{fullWidth:!0,children:(0,a.jsx)(l.JSONEditor,{minHeight:"300px",maxHeight:"70vh",value:p,onChange:t=>(t=>{try{let r=JSON.parse(t??"{}");f(r)}catch(t){}})(t),readOnly:r})})]}),!r&&(0,a.jsx)(l.Dialog.Actions,{children:(0,a.jsx)(l.Dialog.PrimaryButton,{onClick:h,children:"Apply"})})]})};var aA=n(67435);let a_=t=>(t.preventDefault(),t.returnValue="","");function aC({isBlocked:t,message:r}){let n=(0,aA.KP)(t),i="blocked"===n.state,o="proceeding"===n.state;return(0,m.useEffect)(()=>(t?window.addEventListener("beforeunload",a_):window.removeEventListener("beforeunload",a_),()=>{window.removeEventListener("beforeunload",a_)}),[n,t,i]),(0,a.jsx)(l.DiscardChangesConfirmationDialog,{description:r,isOpen:i||o,onDiscardChanges:()=>n.proceed?.(),onCancel:()=>n.reset?.()})}function aO({original:t,current:r}){return(0,a.jsx)(aC,{isBlocked:n=>JSON.stringify(t)!==JSON.stringify(r)&&n.currentLocation.pathname!==n.nextLocation.pathname,message:"You have unsaved changes, are you sure you want to leave?"})}var aE=n(66395),ak=n(79215),aM=n(42338);let aP=(0,m.createContext)(void 0),aD=({children:t})=>{let[r,n]=(0,m.useState)(void 0),i=(0,m.useMemo)(()=>({preview:{previewPanelWidth:r,setPreviewPanelWidth:n}}),[r]);return(0,a.jsx)(aP.Provider,{value:i,children:t})};function aR({panelDefinition:t}){let r=(0,m.useRef)(null),n=840,i=(0,m.useContext)(aP);return(null!==r.current&&(n=r.current.getBoundingClientRect().width,i?.preview?.setPreviewPanelWidth?.(n)),""===t.spec.plugin.kind)?null:(0,a.jsx)(ej.A,{ref:r,height:300,children:(0,a.jsx)(tH,{definition:t})})}function aN({plugin:t,control:r,panelDefinition:n,onQueriesChange:i,onPluginSpecChange:o,onJSONChange:s}){let{data:u}=(0,j.usePlugin)("Panel",t.kind),c=(0,m.useContext)(aP),d=(0,j.useSuggestedStepMs)(c?.preview.previewPanelWidth),p=(0,m.useMemo)(()=>"function"==typeof u?.queryOptions?u?.queryOptions(n.spec.plugin.spec):u?.queryOptions,[n.spec.plugin.spec,u]),[f,h]=(0,m.useState)(()=>n.spec.queries?.map(t=>({kind:t.spec.plugin.kind,spec:t.spec.plugin.spec}))??[]),g=(0,m.useCallback)((t,r)=>{h(n=>{let i=[...n];return i[t]={kind:r.spec.plugin.kind,spec:r.spec.plugin.spec},i})},[]);return(0,a.jsxs)(j.DataQueriesProvider,{definitions:f,options:{suggestedStepMs:d,...p},children:[(0,a.jsxs)(aE.Ay,{item:!0,xs:12,children:[(0,a.jsx)(e7.A,{variant:"h4",marginBottom:1,children:"Preview"}),(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aR,{panelDefinition:n})})]}),(0,a.jsx)(aE.Ay,{item:!0,xs:12,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(j.PanelSpecEditor,{control:r,panelDefinition:n,onJSONChange:s,onQueriesChange:i,onQueryRun:g,onPluginSpecChange:o})})})]})}function aT(t){let{initialValues:r,initialAction:n,onSave:i,onClose:s}=t,u=H(),{panelDefinition:c,setName:d,setDescription:p,setLinks:f,setQueries:h,setPlugin:g,setPanelDefinition:y}=(t=>{let{display:r,plugin:n,queries:i,links:a}=t.spec,[o,s]=(0,m.useState)(r.name),[l,u]=(0,m.useState)(r.description),[c,d]=(0,m.useState)(a),[p,f]=(0,m.useState)(n),[h,g]=(0,m.useState)(i),[y,v]=(0,m.useState)(i),b=(0,m.useCallback)((t,r)=>{r?(g(y),v(void 0)):v(void 0===t?h:t)},[v,y,g,h]),x=(0,m.useCallback)(t=>{let{display:r,plugin:n,queries:i,links:a}=t.spec;s(r.name),u(r.description),d(a),f(n),b(i)},[s,u,d,f,b]);return(0,m.useMemo)(()=>({panelDefinition:{kind:"Panel",spec:{display:{name:o,description:l},plugin:p,queries:y,links:c}},setName:s,setDescription:u,setLinks:d,setQueries:b,setPlugin:f,setPanelDefinition:x}),[o,l,c,p,y,b,x])})(r.panelDefinition),{plugin:v}=c.spec,[b,x]=(0,m.useState)(!1),{panelEditorSchema:w}=(0,j.useValidationSchemas)(),S=(0,ak.useForm)({resolver:(0,aM.u)(w),mode:"onBlur",defaultValues:r}),A=(0,j.usePluginEditor)({pluginTypes:["Panel"],value:{selection:{kind:v.kind,type:"Panel"},spec:v.spec},onChange:t=>{S.setValue("panelDefinition.spec.plugin",{kind:t.selection.kind,spec:t.spec}),g({kind:t.selection.kind,spec:t.spec})},onHideQueryEditorChange:t=>{h(void 0,t)}}),_=(0,j.getTitleAction)(n,!0),C=(0,j.getSubmitText)(n,!0),O=(0,ak.useWatch)({control:S.control,name:"panelDefinition.spec.links"});(0,m.useEffect)(()=>{f(O)},[f,O]);let E=(0,m.useCallback)(t=>{i(t)},[i]),k=(0,ak.useWatch)({control:S.control,name:"panelDefinition.spec.display.name"}),M=(0,ak.useWatch)({control:S.control,name:"panelDefinition.spec.display.description"}),P=(0,ak.useWatch)({control:S.control,name:"panelDefinition.spec.plugin.kind"}),D=(0,m.useCallback)(()=>{S.handleSubmit(E)()},[S,E]);return(0,a.jsx)(ak.FormProvider,{...S,children:(0,a.jsxs)(aD,{children:[(0,a.jsxs)(ej.A,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,a.jsxs)(e7.A,{variant:"h2",children:[_," Panel"]}),(0,a.jsxs)(to.A,{direction:"row",spacing:1,marginLeft:"auto",children:[(0,a.jsx)(o.A,{variant:"contained",disabled:!S.formState.isValid,onClick:D,children:C}),(0,a.jsx)(o.A,{color:"secondary",variant:"outlined",onClick:function(){JSON.stringify(r)!==JSON.stringify(S.getValues())?x(!0):s()},children:"Cancel"})]})]}),(0,a.jsx)(ej.A,{id:aI,sx:{flex:1,overflowY:"scroll",padding:t=>t.spacing(2)},children:(0,a.jsxs)(aE.Ay,{container:!0,spacing:2,children:[(0,a.jsx)(aE.Ay,{item:!0,xs:8,children:(0,a.jsx)(ak.Controller,{control:S.control,name:"panelDefinition.spec.display.name",render:({field:t,fieldState:r})=>(0,a.jsx)(i6.A,{...t,required:!0,fullWidth:!0,label:"Name",error:!!r.error,helperText:r.error?.message,value:k??"",onChange:r=>{t.onChange(r),d(r.target.value)}})})}),(0,a.jsx)(aE.Ay,{item:!0,xs:4,children:(0,a.jsx)(ak.Controller,{control:S.control,name:"groupId",render:({field:t,fieldState:r})=>(0,a.jsx)(i6.A,{select:!0,...t,required:!0,fullWidth:!0,label:"Group",error:!!r.error,helperText:r.error?.message,onChange:r=>{t.onChange(r)},children:u.map((t,r)=>(0,a.jsx)(tA.A,{value:t.id,children:t.title??`Group ${r+1}`},t.id))})})}),(0,a.jsx)(aE.Ay,{item:!0,xs:8,children:(0,a.jsx)(ak.Controller,{control:S.control,name:"panelDefinition.spec.display.description",render:({field:t,fieldState:r})=>(0,a.jsx)(i6.A,{...t,fullWidth:!0,label:"Description",error:!!r.error,helperText:r.error?.message,value:M??"",onChange:r=>{t.onChange(r),p(r.target.value)}})})}),(0,a.jsx)(aE.Ay,{item:!0,xs:4,children:(0,a.jsx)(ak.Controller,{control:S.control,name:"panelDefinition.spec.plugin.kind",render:({field:t,fieldState:r})=>(0,a.jsx)(j.PluginKindSelect,{...t,pluginTypes:["Panel"],required:!0,fullWidth:!0,label:"Type",disabled:A.isLoading,error:!!A.error||!!r.error,helperText:A.error?.message??r.error?.message,value:{type:"Panel",kind:P},onChange:r=>{t.onChange(r.kind),A.onSelectionChange(r)}})})}),(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aN,{control:S.control,plugin:v,panelDefinition:c,onQueriesChange:t=>h(t),onPluginSpecChange:t=>{A.onSpecChange(t)},onJSONChange:t=>{let r=JSON.parse(t),{kind:n,spec:i}=r.spec.plugin;c.spec.plugin.kind!==n&&JSON.stringify(c.spec.plugin.spec)!==JSON.stringify(i)&&A.rememberCurrentSpecState(),y(r)}})})]})}),(0,a.jsx)(l.DiscardChangesConfirmationDialog,{description:"You have unapplied changes in this panel. Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:b,onCancel:()=>{x(!1)},onDiscardChanges:()=>{x(!1),s()}})]})})}let aI="panel-editor-form",aV=()=>{let t=ei(),[r,n]=(0,m.useState)(!1),i=void 0!==t&&!r,o=(0,m.useCallback)(r=>{if(void 0===t||void 0===r)throw Error("Cannot apply changes");t.applyChanges(r),n(!0)},[t]),s=()=>{n(!0)},u=(0,m.useCallback)(()=>{t?.close(),n(!1)},[t]),c=()=>{},d=(0,m.useMemo)(()=>(0,a.jsx)(l.Drawer,{isOpen:i,onClose:c,SlideProps:{onExited:u},"data-testid":"panel-editor",children:t&&(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aT,{initialAction:t.mode,initialValues:t.initialValues,onSave:o,onClose:s})})}),[u,o,i,t]);return t?.panelGroupItemId?.repeatVariable?(0,a.jsx)(az,{repeatVariable:t.panelGroupItemId.repeatVariable,children:d}):d};function az({repeatVariable:t,children:r}){let n=(0,j.useVariableValues)();return(0,a.jsx)(j.VariableContext.Provider,{value:{state:{...n,[t[0]]:{value:t[1],loading:!1}}},children:r})}function aL(t){let{initialValues:r,variables:n,onSubmit:i}=t,[o,s]=(0,m.useState)(r.title),[l,u]=(0,m.useState)(r.isCollapsed),[c,d]=(0,m.useState)(r.repeatVariable);return(0,a.jsxs)("form",{id:aF,onSubmit:t=>{t.preventDefault(),i({title:o,isCollapsed:l,repeatVariable:c})},children:[(0,a.jsx)(aw.A,{fullWidth:!0,margin:"normal",children:(0,a.jsx)(i6.A,{required:!0,label:"Name",variant:"outlined",value:o,onChange:t=>s(t.target.value),"data-testid":"panel-group-editor-name"})}),(0,a.jsxs)(aw.A,{fullWidth:!0,margin:"normal",children:[(0,a.jsxs)(i6.A,{select:!0,required:!0,label:"Collapse State",size:"small",value:l?"Closed":"Open",onChange:t=>u("Closed"===t.target.value),children:[(0,a.jsx)(tA.A,{value:"Open",children:"Open"}),(0,a.jsx)(tA.A,{value:"Closed",children:"Closed"})]}),(0,a.jsx)(aw.A,{fullWidth:!0,margin:"normal",children:(0,a.jsxs)(i6.A,{select:!0,label:"Repeat Variable",variant:"outlined",value:c??"",onChange:t=>d(""===t.target.value?void 0:t.target.value),children:[(0,a.jsx)(tA.A,{value:"",children:(0,a.jsx)(e7.A,{sx:{fontStyle:"italic"},children:"None"})}),n?.sort((t,r)=>t.localeCompare(r)).map(t=>(0,a.jsx)(tA.A,{value:t,children:t},t))]})})]})]})}let aF="panel-group-editor-form";function a$(){let t=J(),r=(0,j.useVariableValues)(),[n,i]=(0,m.useState)(!1),s=void 0!==t&&!1===n;return(0,a.jsx)(l.Dialog,{open:s,TransitionProps:{onExited:()=>{t?.close(),i(!1)}},children:void 0!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Dialog.Header,{children:[t.mode," Panel Group"]}),(0,a.jsx)(l.Dialog.Content,{dividers:!0,sx:{width:"500px"},children:(0,a.jsx)(aL,{initialValues:t.initialValues,variables:Object.keys(r),onSubmit:r=>{if(void 0===t)throw Error("Cannot apply changes");t.applyChanges(r),i(!0)}})}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(o.A,{variant:"contained",type:"submit",form:aF,children:"Edit"===t.mode?"Apply":"Add"}),(0,a.jsx)(o.A,{variant:"outlined",color:"secondary",onClick:t.close,children:"Cancel"})]})]})})}var aB=n(65098);function aq(t){let{showTotalQueries:r=!0}=t,n=(0,j.useDatasourceClient)({kind:"PrometheusDatasource"}),{absoluteTimeRange:i}=(0,j.useTimeRange)(),s=(0,aB.jE)().getQueryCache().findAll(),l=s.filter(t=>"loading"===t.state.status),u=s.filter(t=>"success"===t.state.status),c=(0,j.useActiveTimeSeriesQueries)();if(!0===n.isLoading)return null;let d=[];return c.forEach(t=>{let r=t.state.data;if(r&&r.metadata?.notices){let n=t.queryKey,i=r.metadata.notices[0]?.message;i&&d.push({query:String(n[0].spec.plugin.spec.query),summary:i})}}),(0,a.jsxs)(to.A,{spacing:1,mb:2,sx:{maxWidth:1e3},children:[(0,a.jsxs)(ej.A,{sx:{p:1},children:[(0,a.jsx)(e7.A,{variant:"h2",mb:1,children:"Query Summary"}),(0,a.jsx)(t3.A,{component:rt.A,children:(0,a.jsxs)(t5.A,{size:"small","aria-label":"query summary table",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:"Queries Loading"}),(0,a.jsx)(rb.A,{children:"Recent Time Series Queries"}),r&&(0,a.jsx)(rb.A,{children:"Total Queries"}),(0,a.jsx)(rb.A,{children:"Start Time"}),(0,a.jsx)(rb.A,{children:"End Time"})]})}),(0,a.jsx)(t6.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:l.length}),(0,a.jsx)(rb.A,{children:c.length}),r&&(0,a.jsx)(rb.A,{children:u.length}),(0,a.jsx)(rb.A,{children:i.start.toString()}),(0,a.jsx)(rb.A,{children:i.end.toString()})]})})]})})]}),d.length>0&&(0,a.jsxs)(ej.A,{sx:{p:1,m:0},children:[(0,a.jsx)(e7.A,{variant:"h3",mb:1,children:"Warnings"}),(0,a.jsx)(t3.A,{component:rt.A,sx:{mb:2},children:(0,a.jsxs)(t5.A,{size:"small","aria-label":"query warnings table",children:[(0,a.jsx)(t7.A,{children:(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:"Query"}),(0,a.jsx)(rb.A,{children:"Summary"})]})}),(0,a.jsx)(t6.A,{children:d.map((t,r)=>(0,a.jsxs)(t8.A,{children:[(0,a.jsx)(rb.A,{children:t.query}),(0,a.jsx)(rb.A,{children:t.summary})]},r))})]})}),(0,a.jsx)(o.A,{disabled:!0,variant:"outlined",children:"TODO: Action Button"})]})]})}var aH=n(45158),aU=n(10740);let aW=()=>{let{saveChangesConfirmationDialog:t}=eh(),r=t?.isSavedDurationModified??!0,n=t?.isSavedVariableModified??!0,i=t?.isSavedRefreshIntervalModified??!0,[o,s]=(0,m.useState)(r),[u,c]=(0,m.useState)(n),[d,p]=(0,m.useState)(i),{getSavedVariablesStatus:f}=(0,t4.eC)(),{modifiedVariableNames:h}=f(),g=void 0!==t,{timeRange:y,refreshInterval:v}=(0,j.useTimeRange)(),b=(0,iK.bB)(y)?`(Last ${y.pastDuration})`:"(Absolute time ranges can not be saved)",x=`Save current time range as new default ${b}`,w=`Save current variable values as new default (${h.length>0?h.join(", "):"No modified variables"})`,S=j.DEFAULT_REFRESH_INTERVAL_OPTIONS.some(t=>t.display===v)?v:j.DEFAULT_REFRESH_INTERVAL_OPTIONS.find(t=>t.value.pastDuration===v)?.display,A=`Save current refresh interval as new default ${S?`(${S})`:"refresh interval not modified"}`;return(0,a.jsx)(l.Dialog,{open:g,children:void 0!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Dialog.Header,{onClose:()=>t.onCancel(),children:"Save Dashboard"}),(0,a.jsxs)(l.Dialog.Content,{children:[(0,a.jsx)(e7.A,{marginBottom:2,children:t.description||"You have made changes to the time range or the variables values. Would you like to save these as defaults?"}),(0,a.jsxs)(aH.A,{children:[(0,a.jsx)(aU.A,{control:(0,a.jsx)(ae.A,{disabled:!r||!(0,iK.bB)(y),checked:o&&r&&(0,iK.bB)(y),onChange:t=>s(t.target.checked)}),label:x}),(0,a.jsx)(aU.A,{control:(0,a.jsx)(ae.A,{disabled:!i,checked:d&&i,onChange:t=>p(t.target.checked)}),label:A}),(0,a.jsx)(aU.A,{control:(0,a.jsx)(ae.A,{disabled:!n,checked:u&&n,onChange:t=>c(t.target.checked)}),label:w})]})]}),(0,a.jsxs)(l.Dialog.Actions,{children:[(0,a.jsx)(l.Dialog.PrimaryButton,{onClick:()=>t.onSaveChanges(o,d,u),children:"Save Changes"}),(0,a.jsx)(l.Dialog.SecondaryButton,{onClick:()=>t.onCancel(),children:"Cancel"})]})]})})};var aQ=n(50831),aZ=n(57348);function aG({children:t,initialState:r}){let[n,i]=(0,aZ.useQueryParam)("viewPanelRef",aZ.JsonParam);return(0,a.jsx)(T,{initialState:{...r,viewPanelRef:n??void 0,setViewPanelRef:i},children:t})}let aK=t=>{let{dashboardResource:r,emptyDashboardProps:n,isReadonly:i,isVariableEnabled:o,isDatasourceEnabled:s,isCreating:u,isInitialVariableSticky:c,isLeavingConfirmDialogEnabled:d,dashboardTitleComponent:p,onSave:f,onDiscard:h}=t,g=(0,l.useChartsTheme)(),{isEditMode:y,setEditMode:v}=z(),{dashboard:b,setDashboard:x}=rK(),[w,S]=(0,m.useState)(void 0),{setSavedDatasources:A}=(0,j.useDatasourceStore)(),{openDiscardChangesConfirmationDialog:_,closeDiscardChangesConfirmationDialog:C}=eg(),O=()=>{v(!0),S(b),A(b.spec.datasources??{})};return(0,a.jsxs)(ej.A,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,a.jsx)(ag,{dashboardName:r.metadata.name,dashboardTitleComponent:p,initialVariableIsSticky:c,onSave:f,isReadonly:i,isVariableEnabled:o,isDatasourceEnabled:s,onEditButtonClick:O,onCancelButtonClick:()=>{JSON.stringify(b)===JSON.stringify(w)?v(!1):_({onDiscardChanges:()=>{w&&x(w),v(!1),C(),h&&h(b)},onCancel:()=>{C()}})}}),(0,a.jsxs)(ej.A,{sx:{paddingTop:2,paddingX:2,height:"100%"},children:[(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(rF,{emptyDashboardProps:{onEditButtonClick:O,...n}})}),(0,a.jsx)(l.ChartsProvider,{chartsTheme:g,enablePinning:!1,enableSyncGrouping:!1,children:(0,a.jsx)(aV,{})}),(0,a.jsx)(a$,{}),(0,a.jsx)(ab,{}),(0,a.jsx)(ay,{}),(0,a.jsx)(ax,{}),(0,a.jsx)(aj,{isReadonly:!y,disableMetadataEdition:!u}),(0,a.jsx)(aW,{}),d&&y&&(0,a.jsx)(aO,{original:w,current:b})]})]})};function aJ(t){let{dashboardResource:r,datasourceApi:n,externalVariableDefinitions:i,emptyDashboardProps:o,isReadonly:s,isVariableEnabled:u,isDatasourceEnabled:c,isEditing:d,isCreating:p,isInitialVariableSticky:f,isLeavingConfirmDialogEnabled:h,dashboardTitleComponent:g,onSave:y,onDiscard:v,sx:b,...x}=t,{spec:w}=r,S=w.duration??"1h",A=w.refreshInterval??"0s",_=(0,j.useInitialTimeRange)(S),C=(0,j.useInitialRefreshInterval)(A),{data:O}=(0,j.usePluginBuiltinVariableDefinitions)(),E=(0,m.useMemo)(()=>{let t=[{kind:"BuiltinVariable",spec:{name:"__dashboard",value:()=>r.metadata.name,source:"Dashboard",display:{name:"__dashboard",description:"The name of the current dashboard",hidden:!0}}},{kind:"BuiltinVariable",spec:{name:"__project",value:()=>r.metadata.project,source:"Dashboard",display:{name:"__project",description:"The name of the current dashboard project",hidden:!0}}}];return O&&O.forEach(r=>t.push(r)),t},[r.metadata.name,r.metadata.project,O]);return(0,a.jsx)(aQ.O,{dashboardResource:r,datasourceApi:n,children:(0,a.jsx)(aG,{initialState:{isEditMode:!!d,dashboardResource:r},children:(0,a.jsx)(j.TimeRangeProviderWithQueryParams,{initialTimeRange:_,initialRefreshInterval:C,children:(0,a.jsx)(t4.kS,{initialVariableDefinitions:w.variables,externalVariableDefinitions:i,builtinVariableDefinitions:E,children:(0,a.jsx)(ej.A,{sx:(0,l.combineSx)({display:"flex",width:"100%",height:"100%",position:"relative",overflow:"hidden"},b),...x,children:(0,a.jsx)(l.ErrorBoundary,{FallbackComponent:l.ErrorAlert,children:(0,a.jsx)(aK,{dashboardResource:r,emptyDashboardProps:o,isReadonly:s,isVariableEnabled:u,isDatasourceEnabled:c,isCreating:p,isInitialVariableSticky:f,isLeavingConfirmDialogEnabled:h,dashboardTitleComponent:g,onSave:y,onDiscard:v})})})})})})})}},1379:function(t,r,n){"use strict";n.r(r),n.d(r,{ExploreManager:()=>O,ExploreToolbar:()=>C,explorerQueryConfig:()=>P,ExplorerManagerProvider:()=>f,ViewExplore:()=>k,ExplorerManagerProviderWithQueryParams:()=>g,useExplorerQueryParams:()=>D,useExplorerManagerContext:()=>h});var i=n(62540),a=n(74628),o=n(4978),s=n(25086),l=n(50831),u=n(90824),c=n(70451),d=n(57348);let p=(0,c.createContext)(void 0);function f({children:t,store:r}){let[n,a]=(0,c.useState)({}),o=(0,c.useState)({explorer:void 0,data:{}}),[s,l]=r||o,{explorer:u,data:d}=s;return(0,i.jsx)(p.Provider,{value:{explorer:u,data:d,setExplorer:function(t){u&&(n[u]={data:d},a(n));let r=n[t]??{data:{}};l({explorer:t,data:r.data})},setData:function(t){l({explorer:u,data:t})}},children:t})}function h(){let t=(0,c.useContext)(p);if(void 0===t)throw Error("No ExplorerManagerContext found. Did you forget a Provider?");return t}let m={explorer:(0,d.withDefault)(d.StringParam,void 0),data:(0,d.withDefault)(d.JsonParam,{})};function g({children:t}){let[r,n]=(0,d.useQueryParams)(m);return(0,i.jsx)(f,{store:[r,n],children:t})}var y=n(8072),v=n(315),b=n(7013),x=n(87034),w=n(33868),j=n(68150),S=n(11061),A=n(27794),_=n(56599);let C=t=>{let{exploreTitleComponent:r}=t,n=(0,y.A)((0,_.A)().breakpoints.up("lg"));return(0,i.jsx)(v.A,{"data-testid":"explore-toolbar",children:(0,i.jsxs)(a.A,{sx:{display:"flex",width:"100%"},children:[r,(0,i.jsx)(v.A,{direction:"row",spacing:1,ml:"auto",flexWrap:n?"nowrap":"wrap-reverse",justifyContent:"end",children:(0,i.jsx)(o.TimeRangeControls,{})})]})})};function O(t){let{exploreTitleComponent:r}=t,{explorer:n,setExplorer:l}=h(),u=(0,o.useListPluginMetadata)(["Explore"]),d=(0,y.A)("(max-width: 768px)"),[p,f]=(0,s.useLocalStorage)("PERSES_EXPLORE_TABS_COLLAPSED",!1),m=(0,c.useMemo)(()=>Object.fromEntries(u.data?.map(t=>[`${t.module.name}-${t.spec.name}`,t])??[]),[u.data]);(0,c.useEffect)(()=>{let t=Object.keys(m);!n&&t?.[0]&&l(t[0])},[m,n,l]);let g=n?m[n]:void 0;return n?(0,i.jsxs)(v.A,{sx:{width:"100%"},px:2,pb:2,pt:1.5,gap:1,children:[(0,i.jsx)(C,{exploreTitleComponent:r}),(0,i.jsxs)(v.A,{direction:d?"column":"row",gap:2,sx:{width:"100%"},children:[(0,i.jsxs)(v.A,{sx:{borderRight:+!d,borderBottom:+!!d,borderColor:"divider",minWidth:p?15:100},children:[(0,i.jsx)(a.A,{sx:{position:"relative",height:30,display:d?"none":void 0},"test-id":"qdqwd",children:(0,i.jsx)(b.A,{title:p?"Expand explorer tabs":"Collapse explorer tabs","aria-label":p?"Expand explorer tabs":"Collapse explorer tabs",variant:"text",sx:{position:"absolute",right:-15,zIndex:1,padding:.5,minWidth:"auto",backgroundColor:t=>t.palette.background.default},onClick:()=>f(!p),children:p?(0,i.jsx)(S.default,{}):(0,i.jsx)(A.default,{})})}),(0,i.jsx)(x.A,{orientation:d?"horizontal":"vertical",value:n,onChange:(t,r)=>l(r),variant:d?"fullWidth":"scrollable",sx:{display:p?"none":"flex"},children:u.data?.sort((t,r)=>t.spec.display.name.localeCompare(r.spec.display.name)).map(t=>(0,i.jsx)(w.A,{value:`${t.module.name}-${t.spec.name}`,label:t.spec.display.name,sx:{padding:.5}},`${t.module.name}-${t.spec.name}`))})]}),(0,i.jsx)(j.A,{sx:{padding:"10px",width:"100%"},children:g&&(0,i.jsx)(o.PluginLoaderComponent,{plugin:{name:g.spec.name,moduleName:g.module.name}},`${g.module.name}-${g.spec.name}`)})]})]}):(0,i.jsx)("div",{children:"No explorer plugin available"})}function E(t){let{exploreTitleComponent:r}=t,n=(0,s.useChartsTheme)();return(0,i.jsx)(a.A,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column"},children:(0,i.jsx)(s.ChartsProvider,{chartsTheme:n,enablePinning:!1,children:(0,i.jsx)(g,{children:(0,i.jsx)(O,{exploreTitleComponent:r})})})})}function k(t){let{datasourceApi:r,externalVariableDefinitions:n,sx:c,exploreTitleComponent:d,...p}=t,f=(0,o.useInitialTimeRange)("1h"),h=(0,o.useInitialRefreshInterval)("0s");return(0,i.jsx)(l.O,{datasourceApi:r,children:(0,i.jsx)(o.TimeRangeProviderWithQueryParams,{initialTimeRange:f,initialRefreshInterval:h,children:(0,i.jsx)(u.mK,{externalVariableDefinitions:n,children:(0,i.jsx)(a.A,{sx:(0,s.combineSx)({display:"flex",width:"100%",height:"100%",position:"relative",overflow:"hidden"},c),...p,children:(0,i.jsx)(s.ErrorBoundary,{FallbackComponent:s.ErrorAlert,children:(0,i.jsx)(E,{exploreTitleComponent:d})})})})})})}var M=n(8985);let P={refresh:o.TimeRangeParam,start:o.TimeRangeParam,end:o.TimeRangeParam,explorer:d.StringParam,data:d.JsonParam};function D(t){let[r]=(0,d.useQueryParams)(P,{updateType:"replaceIn"});return(0,M.stringify)((0,d.encodeQueryParams)(P,{...r,...t}))}},21015:function(t,r,n){"use strict";let i,a,o,s,l,u;n.r(r),n.d(r,{usePluginBuiltinVariableDefinitions:()=>eJ,DatasourceSelect:()=>tk,transformQueryResults:()=>ne,TimeRangeContext:()=>rL,ValidationProvider:()=>N,VariableEditorForm:()=>nF,VariablePreview:()=>nT,TOOLTIP_TEXT:()=>nh,useVariableValues:()=>tS,useDatasourceClient:()=>ts,DatasourceEditorForm:()=>e8,parseVariables:()=>tm,DEFAULT_REFRESH_INTERVAL_OPTIONS:()=>nS,useUsageMetrics:()=>r5,useUsageMetricsContext:()=>r3,TimeRangeProvider:()=>rq,VariableContext:()=>tj,refreshIntervalQueryConfig:()=>nZ,useBuiltinVariableContext:()=>tv,getTitleAction:()=>T,datasourceSelectValueToSelector:()=>tT,decodeTimeRangeValue:()=>nU,useListPluginMetadata:()=>eK,PluginEditor:()=>e7,PluginRegistryContext:()=>eW,PluginKindSelect:()=>eY,useListDatasourceSelectItems:()=>to,useTimeSeriesQueries:()=>rG,TimeRangeSettingsContext:()=>ng,PluginLoaderComponent:()=>iT,TimeRangeProviderWithQueryParams:()=>nX,useProfileQueries:()=>r2,DataQueriesProvider:()=>na,getActiveTimeSeriesQueries:()=>rY,PROFILE_QUERY_KEY:()=>r1,PanelSpecEditor:()=>nu,filterVariableList:()=>n_,useAllVariableValues:()=>tA,useDataQueries:()=>ni,dynamicImportPluginLoader:()=>nB,usePlugin:()=>eZ,useQueryType:()=>nt,useTimeRangeSettingsContext:()=>ny,useBuiltinVariableDefinitions:()=>tx,TimeRangeProviderBasic:()=>n0,VariableStoreStateMap:()=>tw,useInitialRefreshInterval:()=>nJ,useSuggestedStepMs:()=>rB,VariableListPreview:()=>nI,optionValueToSelector:()=>tR,usePluginRegistry:()=>eQ,useQueryCountContext:()=>nl,useEvent:()=>e3,useReplaceVariablesInString:()=>tC,getVariableDefinitionFromState:()=>nN,useValidationSchemas:()=>R,DatasourceStoreContext:()=>ti,LEGEND_POSITIONS_CONFIG:()=>rb,replaceVariablesInString:()=>t_,selectorToOptionValue:()=>tD,usePlugins:()=>eG,useTimeRangeContext:()=>rF,TimeRangeParam:()=>nW,DatasourceName:()=>tM,PluginRegistry:()=>nc,BuiltinVariableContext:()=>ty,OptionsEditorRadios:()=>rp,parseVariablesAndFormat:()=>tg,UsageMetricsProvider:()=>r8,validateLegendSpec:()=>rS,PluginSpecEditor:()=>e4,TimeRangeControls:()=>nA,UsageMetricsContext:()=>r9,useDataQueriesContext:()=>nn,useSetRefreshIntervalParams:()=>nY,getInitialState:()=>nR,useShowZoomRangeSetting:()=>nx,remotePluginLoader:()=>iF,InterpolationFormat:()=>tc,useRouterContext:()=>n9,LEGEND_MODE_CONFIG:()=>rx,useDatasource:()=>tl,RouterContext:()=>n4,ValidationSchemasContext:()=>D,TRACE_QUERY_KEY:()=>rX,MultiQueryEditor:()=>rR,TimeRangeSettingsProvider:()=>nj,LEGEND_SIZE_CONFIG:()=>rw,getSubmitText:()=>I,useDatasourceSelectValueToSelector:()=>tI,OptionsEditorTabs:()=>rI,useListVariablePluginValues:()=>nC,useTimeRange:()=>r$,TIME_SERIES_QUERY_KEY:()=>rW,useBuiltinVariableValues:()=>tb,getVariableValuesKey:()=>nO,HTTPSettingsEditor:()=>rf,QueryCountProvider:()=>ns,legendValues:()=>ry,timeRangeQueryConfig:()=>nQ,useTimeSeriesQuery:()=>rZ,CalculationSelector:()=>g,mockPluginRegistry:()=>n7,useShowCustomTimeRangeSetting:()=>nb,useInitialTimeRange:()=>nG,LegendOptionsEditor:()=>rC,RouterProvider:()=>n3,useDatasourceStore:()=>ta,MetricLabelInput:()=>n$,DataQueriesContext:()=>nr,LEGEND_VALUE_CONFIG:()=>rj,useTimeRangeOptionsSetting:()=>nw,encodeTimeRangeValue:()=>nH,SORT_METHODS:()=>nD,VARIABLE_TYPES:()=>nE,isVariableDatasource:()=>tN,getMockPluginName:()=>n8,replaceVariable:()=>tf,replaceVariables:()=>tu,useActiveTimeSeriesQueries:()=>rJ,usePluginEditor:()=>e5,useTraceQueries:()=>r0,useTimeRangeParams:()=>nK,ReactRouterProvider:()=>n5,useTimeRangeSettings:()=>nv,comparisonLegends:()=>rv,interpolate:()=>tp});var c,d={};n.r(d),n.d(d,{CancelledError:()=>ey,Hydrate:()=>ij,InfiniteQueryObserver:()=>ip,IsRestoringProvider:()=>eR,MutationCache:()=>is,MutationObserver:()=>ih,QueriesObserver:()=>eH,Query:()=>ir,QueryCache:()=>ii,QueryClient:()=>id,QueryClientProvider:()=>eM.Ht,QueryErrorResetBoundary:()=>ek,QueryObserver:()=>ex,defaultContext:()=>eM.T1,defaultShouldDehydrateMutation:()=>im,defaultShouldDehydrateQuery:()=>ig,dehydrate:()=>iy,focusManager:()=>ep,hashQueryKey:()=>Y,hydrate:()=>iv,isCancelledError:()=>ev,isError:()=>eo,isServer:()=>F,matchQuery:()=>G,notifyManager:()=>ec,onlineManager:()=>eh,parseFilterArgs:()=>Q,parseMutationArgs:()=>W,parseMutationFilterArgs:()=>Z,parseQueryArgs:()=>U,queryOptions:()=>iE,replaceEqualDeep:()=>ee,useHydrate:()=>iw,useInfiniteQuery:()=>iO,useIsFetching:()=>iS,useIsMutating:()=>iA,useIsRestoring:()=>eD,useMutation:()=>i_,useQueries:()=>eU,useQuery:()=>eq,useQueryClient:()=>eM.jE,useQueryErrorResetBoundary:()=>eE,useSuspenseQueries:()=>ix,useSuspenseQuery:()=>ib});var p=n(62540),f=n(25086),h=n(87680);let m=Object.entries(h.gE).map(([t,r])=>({id:t,...r}));function g({value:t,onChange:r}){let n=h.gE[t];return(0,p.jsx)(f.OptionsEditorControl,{label:"Calculation",control:(0,p.jsx)(f.SettingsAutocomplete,{value:{...n,id:t},options:m,onChange:(t,n)=>{r(n.id)},disableClearable:!0})})}var y=n(42338),v=n(74628),b=n(88091),x=n(66395),w=n(93648),j=n(315),S=n(10740),A=n(68003),_=n(6227),C=n(70451),O=n.n(C),E=n(79215),k=n(7151),M=n(32710),P=n(18334);let D=(0,C.createContext)(void 0);function R(){let t=(0,C.useContext)(D);if(void 0===t)throw Error("No ValidationSchemasContext found. Did you forget a Provider?");return t}function N({children:t}){let[r,n]=(0,C.useState)(k.oy),[i,a]=(0,C.useState)(M.TI),[o,s]=(0,C.useState)(P.lj);return(0,p.jsx)(D.Provider,{value:{datasourceEditorSchema:r,panelEditorSchema:i,variableEditorSchema:o,setDatasourceEditorSchemaPlugin:function(t){n((0,k.Q9)(t))},setPanelEditorSchemaPlugin:function(t){a((0,M.bx)(t))},setVariableEditorSchemaPlugin:function(t){s((0,P.p0)(t))}},children:t})}function T(t,r){return"read"===t?"View":r&&"create"===t?"Add":r||"create"!==t?"update"===t?"Edit":"":"Create"}function I(t,r){return r&&"create"===t?"Add":r&&"update"===t?"Apply":r?"":"Save"}var V=n(7013),z=n(24483),L=n(97653);let F="undefined"==typeof window||"Deno"in window;function $(){}function B(t){return"number"==typeof t&&t>=0&&t!==1/0}function q(t,r){return t.filter(t=>!r.includes(t))}function H(t,r){return Math.max(t+(r||0)-Date.now(),0)}function U(t,r,n){return ea(t)?"function"==typeof r?{...n,queryKey:t,queryFn:r}:{...r,queryKey:t}:t}function W(t,r,n){return ea(t)?"function"==typeof r?{...n,mutationKey:t,mutationFn:r}:{...r,mutationKey:t}:"function"==typeof t?{...r,mutationFn:t}:{...t}}function Q(t,r,n){return ea(t)?[{...r,queryKey:t},n]:[t||{},r]}function Z(t,r,n){return ea(t)?[{...r,mutationKey:t},n]:[t||{},r]}function G(t,r){let{type:n="all",exact:i,fetchStatus:a,predicate:o,queryKey:s,stale:l}=t;if(ea(s))if(i){if(r.queryHash!==J(s,r.options))return!1}else{var u;if(u=r.queryKey,!X(u,s))return!1}if("all"!==n){let t=r.isActive();if("active"===n&&!t||"inactive"===n&&t)return!1}return("boolean"!=typeof l||r.isStale()===l)&&(void 0===a||a===r.state.fetchStatus)&&(!o||!!o(r))}function K(t,r){let{exact:n,fetching:i,predicate:a,mutationKey:o}=t;if(ea(o)){if(!r.options.mutationKey)return!1;if(n){if(Y(r.options.mutationKey)!==Y(o))return!1}else{var s;if(s=r.options.mutationKey,!X(s,o))return!1}}return("boolean"!=typeof i||"loading"===r.state.status===i)&&(!a||!!a(r))}function J(t,r){return((null==r?void 0:r.queryKeyHashFn)||Y)(t)}function Y(t){return JSON.stringify(t,(t,r)=>en(r)?Object.keys(r).sort().reduce((t,n)=>(t[n]=r[n],t),{}):r)}function X(t,r){return t===r||typeof t==typeof r&&!!t&&!!r&&"object"==typeof t&&"object"==typeof r&&!Object.keys(r).some(n=>!X(t[n],r[n]))}function ee(t,r){if(t===r)return t;let n=er(t)&&er(r);if(n||en(t)&&en(r)){let i=n?t.length:Object.keys(t).length,a=n?r:Object.keys(r),o=a.length,s=n?[]:{},l=0;for(let i=0;i<o;i++){let o=n?i:a[i];s[o]=ee(t[o],r[o]),s[o]===t[o]&&l++}return i===o&&l===i?t:s}return r}function et(t,r){if(t&&!r||r&&!t)return!1;for(let n in t)if(t[n]!==r[n])return!1;return!0}function er(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function en(t){if(!ei(t))return!1;let r=t.constructor;if(void 0===r)return!0;let n=r.prototype;return!!ei(n)&&!!n.hasOwnProperty("isPrototypeOf")}function ei(t){return"[object Object]"===Object.prototype.toString.call(t)}function ea(t){return Array.isArray(t)}function eo(t){return t instanceof Error}function es(t){return new Promise(r=>{setTimeout(r,t)})}function el(t){es(0).then(t)}function eu(t,r,n){return null!=n.isDataEqual&&n.isDataEqual(t,r)?t:"function"==typeof n.structuralSharing?n.structuralSharing(t,r):!1!==n.structuralSharing?ee(t,r):r}let ec=(i=[],a=0,o=t=>{t()},s=t=>{t()},l=t=>{a?i.push(t):el(()=>{o(t)})},u=()=>{let t=i;i=[],t.length&&el(()=>{s(()=>{t.forEach(t=>{o(t)})})})},{batch:t=>{let r;a++;try{r=t()}finally{--a||u()}return r},batchCalls:t=>(...r)=>{l(()=>{t(...r)})},schedule:l,setNotifyFunction:t=>{o=t},setBatchNotifyFunction:t=>{s=t}});class ed{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){let r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}let ep=new class extends ed{constructor(){super(),this.setup=t=>{if(!F&&window.addEventListener){let r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,null==(r=this.cleanup)||r.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},ef=["online","offline"],eh=new class extends ed{constructor(){super(),this.setup=t=>{if(!F&&window.addEventListener){let r=()=>t();return ef.forEach(t=>{window.addEventListener(t,r,!1)}),()=>{ef.forEach(t=>{window.removeEventListener(t,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,null==(r=this.cleanup)||r.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function em(t){return Math.min(1e3*2**t,3e4)}function eg(t){return(null!=t?t:"online")!=="online"||eh.isOnline()}class ey{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function ev(t){return t instanceof ey}function eb(t){let r,n,i,a=!1,o=0,s=!1,l=new Promise((t,r)=>{n=t,i=r}),u=()=>!ep.isFocused()||"always"!==t.networkMode&&!eh.isOnline(),c=i=>{s||(s=!0,null==t.onSuccess||t.onSuccess(i),null==r||r(),n(i))},d=n=>{s||(s=!0,null==t.onError||t.onError(n),null==r||r(),i(n))},p=()=>new Promise(n=>{r=t=>{let r=s||!u();return r&&n(t),r},null==t.onPause||t.onPause()}).then(()=>{r=void 0,s||null==t.onContinue||t.onContinue()}),f=()=>{let r;if(!s){try{r=t.fn()}catch(t){r=Promise.reject(t)}Promise.resolve(r).then(c).catch(r=>{var n,i;if(s)return;let l=null!=(n=t.retry)?n:3,c=null!=(i=t.retryDelay)?i:em,h="function"==typeof c?c(o,r):c,m=!0===l||"number"==typeof l&&o<l||"function"==typeof l&&l(o,r);a||!m?d(r):(o++,null==t.onFail||t.onFail(o,r),es(h).then(()=>{if(u())return p()}).then(()=>{a?d(r):f()}))})}};return eg(t.networkMode)?f():p().then(f),{promise:l,cancel:r=>{s||(d(new ey(r)),null==t.abort||t.abort())},continue:()=>(null==r?void 0:r())?l:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}class ex extends ed{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),ew(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ej(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ej(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){let n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),et(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();let a=this.hasListeners();a&&eS(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();let o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){var r,n,i;let a=this.client.getQueryCache().build(this.client,t),o=this.createResult(a,t);return r=this,n=o,(i=t).keepPreviousData||(void 0!==i.placeholderData?!n.isPlaceholderData:et(r.getCurrentResult(),n))||(this.currentResult=o,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),o}getCurrentResult(){return this.currentResult}trackResult(t){let r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){let r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:null==(r=t.cancelRefetch)||r}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return null!=t&&t.throwOnError||(r=r.catch($)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),F||this.currentResult.isStale||!B(this.options.staleTime))return;let t=H(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t+1)}computeRefetchInterval(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!F&&!1!==this.options.enabled&&B(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ep.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){let n,i=this.currentQuery,a=this.options,o=this.currentResult,s=this.currentResultState,l=this.currentResultOptions,u=t!==i,c=u?t.state:this.currentQueryInitialState,d=u?this.currentResult:this.previousQueryResult,{state:p}=t,{dataUpdatedAt:f,error:h,errorUpdatedAt:m,fetchStatus:g,status:y}=p,v=!1,b=!1;if(r._optimisticResults){let n=this.hasListeners(),o=!n&&ew(t,r),s=n&&eS(t,i,r,a);(o||s)&&(g=eg(t.options.networkMode)?"fetching":"paused",f||(y="loading")),"isRestoring"===r._optimisticResults&&(g="idle")}if(r.keepPreviousData&&!p.dataUpdatedAt&&null!=d&&d.isSuccess&&"error"!==y)n=d.data,f=d.dataUpdatedAt,y=d.status,v=!0;else if(r.select&&void 0!==p.data)if(o&&p.data===(null==s?void 0:s.data)&&r.select===this.selectFn)n=this.selectResult;else try{this.selectFn=r.select,n=r.select(p.data),n=eu(null==o?void 0:o.data,n,r),this.selectResult=n,this.selectError=null}catch(t){this.selectError=t}else n=p.data;if(void 0!==r.placeholderData&&void 0===n&&"loading"===y){let t;if(null!=o&&o.isPlaceholderData&&r.placeholderData===(null==l?void 0:l.placeholderData))t=o.data;else if(t="function"==typeof r.placeholderData?r.placeholderData():r.placeholderData,r.select&&void 0!==t)try{t=r.select(t),this.selectError=null}catch(t){this.selectError=t}void 0!==t&&(y="success",n=eu(null==o?void 0:o.data,t,r),b=!0)}this.selectError&&(h=this.selectError,n=this.selectResult,m=Date.now(),y="error");let x="fetching"===g,w="loading"===y,j="error"===y;return{status:y,fetchStatus:g,isLoading:w,isSuccess:"success"===y,isError:j,isInitialLoading:w&&x,data:n,dataUpdatedAt:f,error:h,errorUpdatedAt:m,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:j&&0===p.dataUpdatedAt,isPaused:"paused"===g,isPlaceholderData:b,isPreviousData:v,isRefetchError:j&&0!==p.dataUpdatedAt,isStale:eA(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){let r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,et(n,r))return;this.currentResult=n;let i={cache:!0},a=()=>{if(!r)return!0;let{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.trackedProps.size)return!0;let i=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&i.add("error"),Object.keys(this.currentResult).some(t=>this.currentResult[t]!==r[t]&&i.has(t))};(null==t?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){let t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;let r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==r||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){let r={};"success"===t.type?r.onSuccess=!t.manual:"error"!==t.type||ev(t.error)||(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){ec.batch(()=>{var r,n,i,a,o,s,l,u;t.onSuccess?(null==(r=(n=this.options).onSuccess)||r.call(n,this.currentResult.data),null==(i=(a=this.options).onSettled)||i.call(a,this.currentResult.data,null)):t.onError&&(null==(o=(s=this.options).onError)||o.call(s,this.currentResult.error),null==(l=(u=this.options).onSettled)||l.call(u,void 0,this.currentResult.error)),t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ew(t,r){return!1!==r.enabled&&!t.state.dataUpdatedAt&&("error"!==t.state.status||!1!==r.retryOnMount)||t.state.dataUpdatedAt>0&&ej(t,r,r.refetchOnMount)}function ej(t,r,n){if(!1!==r.enabled){let i="function"==typeof n?n(t):n;return"always"===i||!1!==i&&eA(t,r)}return!1}function eS(t,r,n,i){return!1!==n.enabled&&(t!==r||!1===i.enabled)&&(!n.suspense||"error"!==t.state.status)&&eA(t,n)}function eA(t,r){return t.isStaleByTime(r.staleTime)}let e_=n(43676).useSyncExternalStore;function eC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}let eO=C.createContext(eC()),eE=()=>C.useContext(eO),ek=({children:t})=>{let[r]=C.useState(()=>eC());return C.createElement(eO.Provider,{value:r},"function"==typeof t?t(r):t)};var eM=n(65098);let eP=C.createContext(!1),eD=()=>C.useContext(eP),eR=eP.Provider;function eN(t,r){return"function"==typeof t?t(...r):!!t}let eT=(t,r)=>{(t.suspense||t.useErrorBoundary)&&!r.isReset()&&(t.retryOnMount=!1)},eI=t=>{C.useEffect(()=>{t.clearReset()},[t])},eV=({result:t,errorResetBoundary:r,useErrorBoundary:n,query:i})=>t.isError&&!r.isReset()&&!t.isFetching&&eN(n,[t.error,i]),ez=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},eL=(t,r)=>t.isLoading&&t.isFetching&&!r,eF=(t,r,n)=>(null==t?void 0:t.suspense)&&eL(r,n),e$=(t,r,n)=>r.fetchOptimistic(t).then(({data:r})=>{null==t.onSuccess||t.onSuccess(r),null==t.onSettled||t.onSettled(r,null)}).catch(r=>{n.clearReset(),null==t.onError||t.onError(r),null==t.onSettled||t.onSettled(void 0,r)});function eB(t,r){let n=(0,eM.jE)({context:t.context}),i=eD(),a=eE(),o=n.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=ec.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ec.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ec.batchCalls(o.onSettled)),ez(o),eT(o,a),eI(a);let[s]=C.useState(()=>new r(n,o)),l=s.getOptimisticResult(o);if(e_(C.useCallback(t=>{let r=i?()=>void 0:s.subscribe(ec.batchCalls(t));return s.updateResult(),r},[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),C.useEffect(()=>{s.setOptions(o,{listeners:!1})},[o,s]),eF(o,l,i))throw e$(o,s,a);if(eV({result:l,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:s.trackResult(l)}function eq(t,r,n){return eB(U(t,r,n),ex)}class eH extends ed{constructor(t,r){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){1===this.listeners.size&&this.observers.forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(t=>{t.destroy()})}setQueries(t,r){this.queries=t,ec.batch(()=>{let t=this.observers,n=this.findMatchingObservers(this.queries);n.forEach(t=>t.observer.setOptions(t.defaultedQueryOptions,r));let i=n.map(t=>t.observer),a=Object.fromEntries(i.map(t=>[t.options.queryHash,t])),o=i.map(t=>t.getCurrentResult()),s=i.some((r,n)=>r!==t[n]);t.length===i.length&&!s||(this.observers=i,this.observersMap=a,this.result=o,this.hasListeners()&&(q(t,i).forEach(t=>{t.destroy()}),q(i,t).forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(t=>t.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(t){return this.findMatchingObservers(t).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(t){let r=this.observers,n=new Map(r.map(t=>[t.options.queryHash,t])),i=t.map(t=>this.client.defaultQueryOptions(t)),a=i.flatMap(t=>{let r=n.get(t.queryHash);return null!=r?[{defaultedQueryOptions:t,observer:r}]:[]}),o=new Set(a.map(t=>t.defaultedQueryOptions.queryHash)),s=i.filter(t=>!o.has(t.queryHash)),l=new Set(a.map(t=>t.observer)),u=r.filter(t=>!l.has(t)),c=t=>{let r=this.client.defaultQueryOptions(t),n=this.observersMap[r.queryHash];return null!=n?n:new ex(this.client,r)},d=s.map((t,r)=>{if(t.keepPreviousData){let n=u[r];if(void 0!==n)return{defaultedQueryOptions:t,observer:n}}return{defaultedQueryOptions:t,observer:c(t)}});return a.concat(d).sort((t,r)=>i.indexOf(t.defaultedQueryOptions)-i.indexOf(r.defaultedQueryOptions))}onUpdate(t,r){let n=this.observers.indexOf(t);if(-1!==n){var i;let t;this.result=(i=this.result,(t=i.slice(0))[n]=r,t),this.notify()}}notify(){ec.batch(()=>{this.listeners.forEach(({listener:t})=>{t(this.result)})})}}function eU({queries:t,context:r}){let n=(0,eM.jE)({context:r}),i=eD(),a=eE(),o=C.useMemo(()=>t.map(t=>{let r=n.defaultQueryOptions(t);return r._optimisticResults=i?"isRestoring":"optimistic",r}),[t,n,i]);o.forEach(t=>{ez(t),eT(t,a)}),eI(a);let[s]=C.useState(()=>new eH(n,o)),l=s.getOptimisticResult(o);e_(C.useCallback(t=>i?()=>void 0:s.subscribe(ec.batchCalls(t)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),C.useEffect(()=>{s.setQueries(o,{listeners:!1})},[o,s]);let u=l.some((t,r)=>eF(o[r],t,i))?l.flatMap((t,r)=>{let n=o[r],l=s.getObservers()[r];if(n&&l)if(eF(n,t,i))return e$(n,l,a);else eL(t,i)&&e$(n,l,a);return[]}):[];if(u.length>0)throw Promise.all(u);let c=s.getQueries(),d=l.find((t,r)=>{var n,i;return eV({result:t,errorResetBoundary:a,useErrorBoundary:null!=(n=null==(i=o[r])?void 0:i.useErrorBoundary)&&n,query:c[r]})});if(null!=d&&d.error)throw d.error;return l}let eW=(0,C.createContext)(void 0);function eQ(){let t=(0,C.useContext)(eW);if(void 0===t)throw Error("PluginRegistryContext not found. Did you forget a provider?");return t}function eZ(t,r,n){n={...n,enabled:(n?.enabled??!0)&&void 0!==t&&""!==r};let{getPlugin:i}=eQ();return eq({queryKey:["getPlugin",t,r],queryFn:()=>i(t,r),...n})}function eG(t,r){let{getPlugin:n}=eQ(),i=[...new Set(r.map(t=>t.kind))],a=eU({queries:i.map(r=>({queryKey:["getPlugin",t,r],queryFn:()=>n(t,r)}))});return r.map(t=>a[i.indexOf(t.kind)])}function eK(t,r){let{listPluginMetadata:n}=eQ();return eq({queryKey:["listPluginMetadata",t],queryFn:()=>n(t),...r})}function eJ(){let{getPlugin:t,listPluginMetadata:r}=eQ();return eq({queryKey:["usePluginBuiltinVariableDefinitions"],queryFn:async()=>{let n=new Set((await r(["Datasource"])).map(t=>t.spec.name)),i=[];for(let r of n){let n=await t("Datasource",r);n.getBuiltinVariableDefinitions&&n.getBuiltinVariableDefinitions().forEach(t=>i.push(t))}return i}})}let eY=(0,C.forwardRef)((t,r)=>{let{pluginTypes:n,value:i,onChange:a,filteredQueryPlugins:o,...s}=t,{data:l,isLoading:u}=eK(n),c=(0,C.useMemo)(()=>o?.length?l?.filter(t=>o.includes(t.spec.name))?.sort((t,r)=>t.spec.display.name.localeCompare(r.spec.display.name)):l?.sort((t,r)=>t.spec.display.name.localeCompare(r.spec.display.name)),[l,o]),d=!i||u?"":e0(i),f=(0,C.useCallback)(t=>{if(""===t)return"";let r=e1(t);return c?.find(t=>t.kind===r.type&&t.spec.name===r.kind)?.spec.display.name},[c]);return(0,p.jsxs)(w.A,{select:!0,inputRef:r,...s,value:d,"aria-label":d,onChange:t=>{a?.(e1(t.target.value))},SelectProps:{renderValue:f},"data-testid":"plugin-kind-select",children:[u&&(0,p.jsx)(L.A,{value:"",children:"Loading..."}),c?.map(t=>(0,p.jsx)(L.A,{"data-testid":"option",value:e0({type:t.kind,kind:t.spec.name}),children:t.spec.display.name},t.kind+t.spec.name))]})});eY.displayName="PluginKindSelect";let eX="_____";function e0(t){return[t.type,t.kind].join(eX)}function e1(t){let r=t.split(eX),n=r[0],i=r[1];if(void 0===n||void 0===i)throw Error("Invalid optionValue string");return{type:n,kind:i}}var e2=n(25742);function e4(t){let{pluginSelection:{type:r,kind:n},...i}=t,{data:a,isLoading:o,error:s}=eZ(r,n);if(s)return(0,p.jsx)(f.ErrorAlert,{error:s});if(o)return(0,p.jsx)(j.A,{width:"100%",sx:{alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(e2.A,{})});if(!a)throw Error(`Missing implementation for ${r} plugin with kind '${n}'`);if("Panel"===r)throw Error("This editor should not be used for panel type. Please use Panel Spec Editor instead.");let{OptionsEditorComponent:l}=a;return l?(0,p.jsx)(l,{...i}):null}var e9=n(43945);function e3(t){let r=(0,C.useRef)(t);return(0,C.useLayoutEffect)(()=>{r.current=t}),(0,C.useCallback)((...t)=>r.current(...t),[])}function e5(t){let{pluginTypes:r,value:n,onHideQueryEditorChange:i=()=>{}}=t,a=e3(t.onChange),o=e3(i),s=(0,C.useRef)({[n.selection.type]:{[n.selection.kind]:n.spec}}),l=e3(()=>{let t=s.current[n.selection.type];void 0===t&&(t={},s.current[n.selection.type]=t),t[n.selection.kind]=n.spec}),u=(0,C.useRef)({[n.selection.kind]:!1}),{defaultPluginKinds:c}=eQ(),d=r[0],p=d?c?.[d]:void 0,f=d&&p?{type:d,kind:p}:void 0,h=!n.selection&&f?f:void 0,[m,g]=(0,C.useState)(h);(0,C.useEffect)(()=>{""===n.selection.kind&&(n.selection.kind=p||"")},[n.selection,p]);let{data:y,isFetching:v,error:b}=eZ(m?.type,m?.kind||"");return(0,C.useEffect)(()=>{!m||void 0===y||v||(l(),a({selection:m,spec:y.createInitialOptions?y.createInitialOptions():{}}),"Panel"===m.type&&(u.current[m.kind]=!!y.hideQueryEditor,!!y.hideQueryEditor!==u.current[n.selection.kind]&&o(!!y.hideQueryEditor)),g(void 0))},[m,y,v,l,a,o,u,n.selection]),{pendingSelection:m,isLoading:v,error:b,onSelectionChange:t=>{let r=s.current[t.type]?.[t.kind];void 0!==r?(l(),a({selection:t,spec:r})):g(t),"Panel"===t.type&&void 0!==u.current[t.kind]&&u.current[n.selection.kind]!==u.current[t.kind]&&o(!!u.current[t.kind])},onSpecChange:t=>{a((0,e9.produce)(n,r=>{r.spec=t}))},rememberCurrentSpecState:l}}function e7(t){let{value:r,withRunQueryButton:n=!0,pluginTypes:i,pluginKindLabel:a,onChange:o,isReadonly:s,onRunQuery:l,filteredQueryPlugins:u,...c}=t,{pendingSelection:d,isLoading:h,error:m,onSelectionChange:g,onSpecChange:y}=e5(t),b=(0,C.useCallback)(t=>{y(t)},[y]);return(0,p.jsxs)(v.A,{...c,children:[(0,p.jsxs)(v.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:1,mb:1},children:[(0,p.jsx)(eY,{fullWidth:!1,sx:{minWidth:120},margin:"dense",label:a,pluginTypes:i,disabled:h,value:d||r.selection,slotProps:{input:{readOnly:s}},error:!!m,helperText:m?.message,onChange:g,filteredQueryPlugins:u}),n&&(0,p.jsx)(V.A,{"data-testid":"run_query_button",variant:"contained",startIcon:(0,p.jsx)(z.default,{}),onClick:l,disabled:h,children:"Run Query"})]}),(0,p.jsx)(f.ErrorBoundary,{FallbackComponent:f.ErrorAlert,children:(0,p.jsx)(e4,{pluginSelection:r.selection,value:r.spec,onChange:b,isReadonly:s})})]})}function e8(t){let{initialDatasourceDefinition:r,action:n,isDraft:i,isReadonly:a,onActionChange:o,onSave:s,onClose:l,onDelete:u}=t,[c,d]=(0,C.useState)(!1),h=T(n,i),m=I(n,i),{datasourceEditorSchema:g}=R(),O=(0,E.useForm)({resolver:(0,y.u)(g),mode:"onBlur",defaultValues:r});function k(t){let r={...t};return r.spec.display?.name===void 0&&r.spec.display?.description===void 0&&delete r.spec.display,r}return(0,p.jsxs)(E.FormProvider,{...O,children:[(0,p.jsxs)(v.A,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,p.jsxs)(b.A,{variant:"h2",children:[h," Datasource"]}),(0,p.jsx)(f.FormActions,{action:n,submitText:m,isReadonly:a,isValid:O.formState.isValid,onActionChange:o,onSubmit:O.handleSubmit(t=>{s(k(t))}),onDelete:u,onCancel:function(){JSON.stringify(r)!==JSON.stringify(k(O.getValues()))?d(!0):l()}})]}),(0,p.jsxs)(v.A,{padding:2,sx:{overflowY:"scroll"},children:[(0,p.jsxs)(x.Ay,{container:!0,spacing:2,mb:2,children:[(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(E.Controller,{control:O.control,name:"name",render:({field:t,fieldState:r})=>(0,p.jsx)(w.A,{...t,required:!0,fullWidth:!0,name:"name",label:"Name",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{disabled:"update"===n&&!i,readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:8,children:(0,p.jsx)(E.Controller,{control:O.control,name:"spec.display.name",render:({field:t,fieldState:r})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,name:"title",label:"Display Label",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,children:(0,p.jsx)(E.Controller,{control:O.control,name:"spec.display.description",render:({field:t,fieldState:r})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,name:"description",label:"Description",InputLabelProps:{shrink:"read"===n||void 0},InputProps:{readOnly:"read"===n},error:!!r.error,helperText:r.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:6,sx:{paddingTop:"5px !important"},children:(0,p.jsxs)(j.A,{children:[(0,p.jsx)(E.Controller,{control:O.control,name:"spec.default",render:({field:t})=>(0,p.jsx)(S.A,{label:"Set as default",control:(0,p.jsx)(A.A,{...t,checked:!!t.value,readOnly:"read"===n,onChange:r=>{"read"!==n&&t.onChange(r)}})})}),(0,p.jsxs)(b.A,{variant:"caption",children:["Whether this datasource should be the default ",O.getValues().spec.plugin.kind," to be used"]})]})})]}),(0,p.jsx)(_.A,{}),(0,p.jsx)(b.A,{py:1,variant:"h3",children:"Plugin Options"}),(0,p.jsx)(E.Controller,{control:O.control,name:"spec.plugin",render:({field:t})=>(0,p.jsx)(e7,{width:"100%",pluginTypes:["Datasource"],pluginKindLabel:"Source",withRunQueryButton:!1,value:{selection:{type:"Datasource",kind:t.value.kind},spec:t.value.spec},isReadonly:"read"===n,onChange:r=>{t.onChange({kind:r.selection.kind,spec:r.spec})}})})]}),(0,p.jsx)(f.DiscardChangesConfirmationDialog,{description:"Are you sure you want to discard your changes? Changes cannot be recovered.",isOpen:c,onCancel:()=>d(!1),onDiscardChanges:()=>{d(!1),l()}})]})}var e6=n(10571),te=n(5611),tt=n(14045),tr=n(47601),tn=n(47095);let ti=(0,C.createContext)(void 0);function ta(){let t=(0,C.useContext)(ti);if(void 0===t)throw Error("No DatasourceStoreContext found. Did you forget a Provider?");return t}function to(t,r){let{listDatasourceSelectItems:n}=ta();return eq({queryKey:["listDatasourceSelectItems",t,r],queryFn:()=>n(t)})}function ts(t){let r=ta();return eq({queryKey:["getDatasourceClient",t],queryFn:()=>r.getDatasourceClient(t)})}function tl(t){let r=ta();return eq({queryKey:["getDatasource",t],queryFn:()=>r.getDatasource(t)})}function tu(t,r){let n=tg(t),i=Array.from(n.keys()),a=t;return i.sort((t,r)=>r.length-t.length).forEach(t=>{let i=r[t];i&&void 0!==i.value&&(a=tf(a,t,i?.value,n.get(t)))}),a}var tc=((c={}).CSV="csv",c.DISTRIBUTED="distributed",c.DOUBLEQUOTE="doublequote",c.GLOB="glob",c.JSON="json",c.LUCENE="lucene",c.PERCENTENCODE="percentencode",c.PIPE="pipe",c.PROMETHEUS="prometheus",c.RAW="raw",c.REGEX="regex",c.SINGLEQUOTE="singlequote",c.SQLSTRING="sqlstring",c.TEXT="text",c.QUERYPARAM="queryparam",c);function td(t){if(!t)return;let r=t.toLowerCase();return Object.values(tc).find(t=>t===r)||void 0}function tp(t,r,n){switch(n){case"csv":case"raw":return t.join(",");case"distributed":{let[n,...i]=t;return`${[n,...i.map(t=>`${r}=${t}`)].join(",")}`}case"doublequote":return t.map(t=>`"${t}"`).join(",");case"glob":return`{${t.join(",")}}`;case"json":return JSON.stringify(t);case"lucene":return`(${t.map(t=>`"${t}"`).join(" OR ")})`;case"percentencode":return encodeURIComponent(t.join(","));case"pipe":return t.join("|");case"regex":{let r=t.map(t=>t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));return`(${r.join("|")})`}case"singlequote":return t.map(t=>`'${t}'`).join(",");case"sqlstring":return t.map(t=>`'${t.replace(/'/g,"''")}'`).join(",");case"text":return t.join(" + ");case"queryparam":return t.map(t=>`${r}=${encodeURIComponent(t)}`).join("&");default:return`(${t.join("|")})`}}function tf(t,r,n,i){let a="$"+r,o="${"+r+(i?":"+i:"")+"}",s="";return Array.isArray(n)&&(s=tp(n,r,i||"prometheus")),"string"==typeof n&&(s=tp([n],r,i||"raw")),(t=t.replaceAll(a,s)).replaceAll(o,s)}let th=/\$(\w+)|\${(\w+)(?:\.([^:^}]+))?(?::([^}]+))?}/gm;function tm(t){let r,n=new Set;for(;null!==(r=th.exec(t));)r&&(r[1]?n.add(r[1]):r[2]&&n.add(r[2]));return Array.from(n.values())}function tg(t){let r,n=new Map;for(;null!==(r=th.exec(t));)if(r){let t;r[4]&&(t=r[4]),r[1]?n.set(r[1],td(t)):r[2]&&n.set(r[2],td(t))}return n}let ty=(0,C.createContext)(void 0);function tv(){let t=(0,C.useContext)(ty);if(void 0===t)throw Error("No BuiltinVariableContext found. Did you forget a Provider?");return t}function tb(t){let{variables:r}=tv(),n=(0,C.useMemo)(()=>{let t={};for(let n of r)t[n.spec.name]={loading:!1,value:n.spec.value()};return t},[r]),i=(0,C.useMemo)(()=>{let r={};return t?.forEach(t=>{let i=n[t];i&&(r[t]=i)}),r},[t,n]);return void 0===t?n:i}function tx(){let{variables:t}=tv();return t}class tw{[e9.immerable]=!0;DEFAULT_LOCAL_SOURCE_NAME="";_state={};get(t){return this._sourceStatesOrEmpty(t.source)[t.name]}set(t,r){let n=this._sourceName(t.source);return this._state[n]||(this._state[n]={}),this._sourceStatesOrEmpty(t.source)[t.name]=r,r}has(t){return void 0!==this._sourceStatesOrEmpty(t.source)[t.name]}delete(t){let r=this.has(t),n=this._sourceName(t.source),i=this._state[n];return i&&delete i[t.name],Object.keys(i??{})?.length===0&&delete this._state[n],r}_sourceName(t){return t??this.DEFAULT_LOCAL_SOURCE_NAME}_sourceStatesOrEmpty(t){return this._state[this._sourceName(t)]??{}}}let tj=(0,C.createContext)(void 0);function tS(t){let{state:r}=function(){let t=(0,C.useContext)(tj);if(void 0===t)throw Error("No VariableContext found. Did you forget a Provider?");return t}(),n=(0,C.useMemo)(()=>{let n={};return t?.forEach(t=>{let i=r[t];i&&(n[t]=i)}),n},[r,t]);return void 0===t?r:n}function tA(t){let r=tS(t),n=tb(t);return(0,C.useMemo)(()=>({...r,...n}),[r,n])}function t_(t,r,n){let i={...r};for(let[t,r]of Object.entries(n??{}))i[t]={value:r,loading:!1};return tu(t,i)}function tC(t){let r=tA(t?tm(t):[]);if(t)return tu(t,r)}let tO="__DATASOURCE_VARIABLE_VALUE__",tE={name:"",value:""};function tk(t){let{datasourcePluginKind:r,value:n,project:i,readOnly:a,onChange:o,...s}=t,{data:l,isLoading:u}=to(r,i),c=tS(),d=(0,C.useMemo)(()=>{if(tN(n))return n;let t=(l??[]).flatMap(t=>t.items).find(t=>n.kind===t.selector.kind&&n.name===t.selector.name&&!t.overridden)?.selector.group;return{...n,group:t}},[n,l]),f=(0,C.useMemo)(()=>{let t=(l||[]).flatMap(t=>t.items.map(r=>({groupLabel:t.group,groupEditLink:t.editLink,name:r.name,overriding:r.overriding,overridden:r.overridden,saved:r.saved??!0,group:r.selector.group,value:tD(r.selector)}))),r=new Map(t.map(t=>[t.name,t]));return[...t,...Object.entries(c).flatMap(([t,n])=>Array.isArray(n.value)||!r.get(n.value??"")?[]:{groupLabel:"Variables",name:`$${t}`,saved:!0,value:`${tO}$${t}`})]},[l,c]),h=u?tE:f.find(t=>t.value===tD(d)),m=()=>{};return(0,p.jsx)(te.A,{readOnly:a,options:f,renderInput:t=>(0,p.jsx)(w.A,{...t,label:s.label,placeholder:""}),groupBy:t=>t.groupLabel||"No group",getOptionLabel:t=>t.name,onChange:(t,n)=>{n?o(tR(n?.value||"")):o({kind:r})},value:h,renderOption:(t,r)=>(0,C.createElement)("li",{...t,key:r.value},(0,p.jsxs)(j.A,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",children:[(0,p.jsx)(tt.A,{children:(0,p.jsx)(tM,{name:r.name,overridden:r.overridden,overriding:r.overriding})}),!r.saved&&(0,p.jsx)(tt.A,{children:"Save the dashboard to enable this datasource"}),(0,p.jsx)(tt.A,{style:{textAlign:"right"},children:r.groupLabel&&r.groupLabel.length>0&&(0,p.jsx)(tr.A,{disabled:!1,label:r.groupLabel,size:"small",onDelete:r.groupEditLink?m:void 0,deleteIcon:r.groupEditLink?(0,p.jsx)(tn.A,{href:r.groupEditLink,target:"_blank",children:(0,p.jsx)(e6.default,{fontSize:"small"})}):void 0})})]}))})}function tM(t){let{name:r,overridden:n,overriding:i}=t;return(0,p.jsxs)(p.Fragment,{children:[`${r} `,!n&&i&&(0,p.jsx)(v.A,{display:"inline",fontWeight:"normal",color:t=>t.palette.primary.main,children:"(overriding)"}),n&&"(overridden)"]})}let tP="_____";function tD(t){return tN(t)?`${tO}${t}`:[t.kind,t.group??"",t.name??""].join(tP)}function tR(t){if(t.startsWith(tO))return t.split(tO)[1];let r=t.split(tP),n=r[0],i=r[2];if(void 0===n||void 0===i)throw Error("Invalid optionValue string");return{kind:n,name:""===i?void 0:i}}function tN(t){return"string"==typeof t&&t.startsWith("$")}let tT=(t,r,n)=>{if(!tN(t))return t;let[i]=tm(t),a=r[i??""];if(!a||Array.isArray(a.value))return;let o=(n||[]).flatMap(t=>t.items).find(t=>t.name===a.value);if(void 0!==o)return{kind:o.selector.kind,name:o.selector.name}},tI=(t,r)=>{let{data:n}=to(r),i=tS();return tN(t)?tT(t,i,n)??{kind:r}:t};var tV=n(42524),tz=n(86742),tL=n(67987),tF=n(11750),t$=n(81023),tB=n(45158),tq=n(29009),tH=n(46733);function tU(t){return(0,tH.Ay)("MuiRadioGroup",t)}(0,tq.A)("MuiRadioGroup",["root","row","error"]);var tW=n(29424),tQ=n(2203);let tZ=C.createContext(void 0);var tG=n(63392);let tK=C.forwardRef(function(t,r){let{actions:n,children:i,className:a,defaultValue:o,name:s,onChange:l,value:u,...c}=t,d=C.useRef(null),f=(t=>{let{classes:r,row:n,error:i}=t;return(0,t$.A)({root:["root",n&&"row",i&&"error"]},tU,r)})(t),[h,m]=(0,tQ.A)({controlled:u,default:o,name:"RadioGroup"});C.useImperativeHandle(n,()=>({focus:()=>{let t=d.current.querySelector("input:not(:disabled):checked");t||(t=d.current.querySelector("input:not(:disabled)")),t&&t.focus()}}),[]);let g=(0,tW.A)(r,d),y=(0,tG.A)(s),v=C.useMemo(()=>({name:y,onChange(t){m(t.target.value),l&&l(t,t.target.value)},value:h}),[y,l,m,h]);return(0,p.jsx)(tZ.Provider,{value:v,children:(0,p.jsx)(tB.A,{role:"radiogroup",ref:g,className:(0,tF.A)(f.root,a),...c,children:i})})});var tJ=n(59238),tY=n(32560),tX=n(22402);let t0=(0,tX.A)((0,p.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),t1=(0,tX.A)((0,p.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var t2=n(83926),t4=n(77308),t9=n(23434);let t3=(0,t4.A)("span",{shouldForwardProp:t2.A})({position:"relative",display:"flex"}),t5=(0,t4.A)(t0)({transform:"scale(1)"}),t7=(0,t4.A)(t1)((0,t9.A)(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]}))),t8=function(t){let{checked:r=!1,classes:n={},fontSize:i}=t,a={...t,checked:r};return(0,p.jsxs)(t3,{className:n.root,ownerState:a,children:[(0,p.jsx)(t5,{fontSize:i,className:n.background,ownerState:a}),(0,p.jsx)(t7,{fontSize:i,className:n.dot,ownerState:a})]})};var t6=n(24726),re=n(70498),rt=n(42872);function rr(t){return(0,tH.Ay)("MuiRadio",t)}let rn=(0,tq.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);var ri=n(26952),ra=n(73397),ro=n(72052);let rs=(0,t4.A)(tY.A,{shouldForwardProp:t=>(0,t2.A)(t)||"classes"===t,name:"MuiRadio",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:n}=t;return[r.root,"medium"!==n.size&&r[`size${(0,t6.A)(n.size)}`],r[`color${(0,t6.A)(n.color)}`]]}})((0,t9.A)(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${rn.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,tJ.X4)(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter((0,ri.A)()).map(([r])=>({props:{color:r,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,tJ.X4)(t.palette[r].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter((0,ri.A)()).map(([r])=>({props:{color:r,disabled:!1},style:{[`&.${rn.checked}`]:{color:(t.vars||t).palette[r].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),rl=(0,p.jsx)(t8,{checked:!0}),ru=(0,p.jsx)(t8,{}),rc=C.forwardRef(function(t,r){let n=(0,ro.b)({props:t,name:"MuiRadio"}),{checked:i,checkedIcon:a=rl,color:o="primary",icon:s=ru,name:l,onChange:u,size:c="medium",className:d,disabled:f,disableRipple:h=!1,slots:m={},slotProps:g={},inputProps:y,...v}=n,b=(0,rt.A)(),x=f;b&&void 0===x&&(x=b.disabled),x??=!1;let w={...n,disabled:x,disableRipple:h,color:o,size:c},j=(t=>{let{classes:r,color:n,size:i}=t,a={root:["root",`color${(0,t6.A)(n)}`,"medium"!==i&&`size${(0,t6.A)(i)}`]};return{...r,...(0,t$.A)(a,rr,r)}})(w),S=C.useContext(tZ),A=i,_=(0,re.A)(u,S&&S.onChange),O=l;if(S){var E,k;void 0===A&&(E=S.value,A="object"==typeof(k=n.value)&&null!==k?E===k:String(E)===String(k)),void 0===O&&(O=S.name)}let M=g.input??y,[P,D]=(0,ra.A)("root",{ref:r,elementType:rs,className:(0,tF.A)(j.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:g,...v},getSlotProps:t=>({...t,onChange:(r,...n)=>{t.onChange?.(r,...n),_(r,...n)}}),ownerState:w,additionalProps:{type:"radio",icon:C.cloneElement(s,{fontSize:s.props.fontSize??c}),checkedIcon:C.cloneElement(a,{fontSize:a.props.fontSize??c}),disabled:x,name:O,checked:A,slots:m,slotProps:{input:"function"==typeof M?M(w):M}}});return(0,p.jsx)(P,{...D,classes:j})});function rd(t){let{children:r,value:n,index:i,...a}=t,o=n===i;return(0,p.jsx)("div",{role:"tabpanel",hidden:!o,id:`options-editor-tabpanel-${i}`,"aria-labelledby":`options-editor-tab-${i}`,...a,children:o&&(0,p.jsx)(v.A,{mt:2,children:r})})}let rp=t=>{let{tabs:r,defaultTab:n,onModeChange:i,isReadonly:a}=t,[o,s]=(0,C.useState)(n);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.A,{sx:{borderBottom:1,borderColor:t=>t.palette.divider},children:(0,p.jsx)(tL.A,{children:(0,p.jsx)(tK,{row:!0,defaultValue:n,value:o,onChange:(t,r)=>{let n=parseInt(r);s(n),i(n)},"aria-labelledby":"Configuration radio",children:r.map(({label:t},r)=>(0,p.jsx)(S.A,{disabled:a,value:r,control:(0,p.jsx)(rc,{}),label:t},t))})})}),r.map(({label:t,content:r},n)=>(0,p.jsx)(rd,{value:o,index:n,children:r},t))]})};function rf(t){let{value:r,onChange:n,isReadonly:i,initialSpecDirect:a,initialSpecProxy:o}=t,s="Direct access",l="Proxy";void 0===r.directUrl&&void 0===r.proxy&&Object.assign(r,o);let u=(0,E.useForm)({defaultValues:{headers:Object.entries(r.proxy?.spec.headers??{}).map(([t,r])=>({name:t,value:r}))}}),{fields:c,append:d,remove:f}=(0,E.useFieldArray)({control:u.control,name:"headers"}),h=u.watch("headers"),m=new Map,g=new Set;h.forEach(({name:t})=>{if(""!==t){let r=(m.get(t)||0)+1;m.set(t,r),r>1&&g.add(t)}});let y=g.size>0,v=t=>{let i={};t.forEach(({name:t,value:r})=>{""!==t&&(i[t]=r)}),n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.headers=Object.keys(i).length>0?i:void 0)}))},j=[{label:l,content:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E.Controller,{name:"URL",render:({field:t,fieldState:a})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"URL",value:r.proxy?.spec.url||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.url=i.target.value)}))},sx:{mb:2}})}),(0,p.jsx)(b.A,{variant:"h5",mb:2,children:"Allowed endpoints"}),(0,p.jsxs)(x.Ay,{container:!0,spacing:2,mb:2,children:[r.proxy?.spec.allowedEndpoints&&r.proxy?.spec.allowedEndpoints.length!==0?r.proxy.spec.allowedEndpoints.map(({endpointPattern:t,method:a},o)=>(0,p.jsxs)(C.Fragment,{children:[(0,p.jsx)(x.Ay,{item:!0,xs:8,children:(0,p.jsx)(E.Controller,{name:`Endpoint pattern ${o}`,render:({field:a,fieldState:s})=>(0,p.jsx)(w.A,{...a,fullWidth:!0,label:"Endpoint pattern",value:t,error:!!s.error,helperText:s.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:t=>{a.onChange(t),n((0,e9.produce)(r,r=>{void 0!==r.proxy&&(r.proxy.spec.allowedEndpoints=r.proxy.spec.allowedEndpoints?.map((r,n)=>o===n?{endpointPattern:t.target.value,method:r.method}:r))}))}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:3,children:(0,p.jsx)(E.Controller,{name:`Method ${o}`,render:({field:t,fieldState:s})=>(0,p.jsxs)(w.A,{...t,select:!0,fullWidth:!0,label:"Method",value:a,error:!!s.error,helperText:s.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=t.proxy.spec.allowedEndpoints?.map((t,r)=>o===r?{endpointPattern:t.endpointPattern,method:i.target.value}:t))}))},children:[(0,p.jsx)(L.A,{value:"GET",children:"GET"}),(0,p.jsx)(L.A,{value:"POST",children:"POST"}),(0,p.jsx)(L.A,{value:"PUT",children:"PUT"}),(0,p.jsx)(L.A,{value:"PATCH",children:"PATCH"}),(0,p.jsx)(L.A,{value:"DELETE",children:"DELETE"})]})})}),(0,p.jsx)(x.Ay,{item:!0,xs:1,children:(0,p.jsx)(E.Controller,{name:`Remove Endpoint ${o}`,render:({field:t})=>(0,p.jsx)(tn.A,{...t,disabled:i,onClick:i=>{t.onChange(i),n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=[...t.proxy.spec.allowedEndpoints?.filter((t,r)=>r!==o)||[]])}))},children:(0,p.jsx)(tV.default,{})})})})]},o)):(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(b.A,{sx:{fontStyle:"italic"},children:"None"})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,sx:{paddingTop:"0px !important",paddingLeft:"5px !important"},children:(0,p.jsx)(tn.A,{disabled:i,onClick:()=>n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.allowedEndpoints=[...t.proxy.spec.allowedEndpoints??[],{endpointPattern:"",method:""}])})),children:(0,p.jsx)(tz.default,{})})})]}),(0,p.jsx)(b.A,{variant:"h5",mb:2,children:"Request Headers"}),(0,p.jsxs)(x.Ay,{container:!0,spacing:2,mb:2,children:[c.length>0?c.map((t,r)=>(0,p.jsxs)(C.Fragment,{children:[(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(E.Controller,{control:u.control,name:`headers.${r}.name`,render:({field:t,fieldState:n})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"Header name",error:!!n.error||g.has(t.value),helperText:n.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:n=>{t.onChange(n);let i=[...h];i[r]={name:n.target.value,value:i[r]?.value??""},v(i)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:7,children:(0,p.jsx)(E.Controller,{control:u.control,name:`headers.${r}.value`,render:({field:t,fieldState:n})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"Header value",error:!!n.error,helperText:n.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:n=>{t.onChange(n);let i=[...h];i[r]={name:i[r]?.name??"",value:n.target.value},v(i)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:1,children:(0,p.jsx)(tn.A,{disabled:i,"aria-label":`Remove header ${h[r]?.name||r}`,onClick:()=>{f(r),v(h.filter((t,n)=>n!==r))},children:(0,p.jsx)(tV.default,{})})})]},t.id)):(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(b.A,{sx:{fontStyle:"italic"},children:"None"})}),y&&(0,p.jsx)(x.Ay,{item:!0,xs:12,children:(0,p.jsx)(b.A,{variant:"body2",color:"error",children:"Duplicate header names detected. Each header name must be unique."})}),(0,p.jsx)(x.Ay,{item:!0,xs:12,sx:{paddingTop:"0px !important",paddingLeft:"5px !important"},children:(0,p.jsx)(tn.A,{disabled:i,onClick:()=>d({name:"",value:""}),children:(0,p.jsx)(tz.default,{})})})]}),(0,p.jsx)(E.Controller,{name:"Secret",render:({field:t,fieldState:a})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"Secret",value:r.proxy?.spec.secret||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,e9.produce)(r,t=>{void 0!==t.proxy&&(t.proxy.spec.secret=i.target.value)}))}})})]})},{label:s,content:(0,p.jsx)(E.Controller,{name:"URL",render:({field:t,fieldState:a})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"URL",value:r.directUrl||"",error:!!a.error,helperText:a.error?.message,InputProps:{readOnly:i},InputLabelProps:{shrink:!!i||void 0},onChange:i=>{t.onChange(i),n((0,e9.produce)(r,t=>{t.directUrl=i.target.value}))}})})}],S=j.findIndex(t=>t.label===s),A=j.findIndex(t=>t.label===l),_=r.proxy?A:S,[O,k]=(0,C.useState)(a),[M,P]=(0,C.useState)(o);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.A,{variant:"h4",mt:2,children:"HTTP Settings"}),(0,p.jsx)(rp,{isReadonly:i,tabs:j,defaultTab:_,onModeChange:t=>{if(j[t]?.label===s){P(r);let{proxy:t,...i}=r;n({...i,directUrl:O.directUrl})}else if(j[t]?.label===l){k(r);let{directUrl:t,...i}=r;n({...i,proxy:M.proxy})}}})]})}var rh=n(61375),rm=n(31729),rg=n(3967);let ry=["mean","first","first-number","last","last-number","min","max","sum"],rv={abs:{label:"Absolute",description:"Absolute value"},relative:{label:"Relative",description:"Relative value"}},rb={bottom:{label:"Bottom"},right:{label:"Right"}},rx={list:{label:"List"},table:{label:"Table"}},rw={small:{label:"Small"},medium:{label:"Medium"}},rj=ry.reduce((t,r)=>(t[r]=h.gE[r],t),{});function rS(t){return void 0===t||!!(0,rg.Dk)(t.position)&&(!t.mode||!!(0,rg.DY)(t.mode))&&(!t.size||!!(0,rg.VE)(t.size))}let rA=Object.entries(rb).map(([t,r])=>({id:t,...r})),r_=Object.entries(rw).map(([t,r])=>({id:t,...r}));function rC({value:t,onChange:r,showValuesEditor:n=!0,calculation:i="aggregation"}){let a=rS(t),o=(0,rg.JW)(t?.position),s=rb[o],l=(0,rg.nV)(t?.mode),u=(0,rg.lh)(t?.size),c=rw[u],d=(0,C.useMemo)(()=>{let r=t?.values;return r?.length?"aggregation"===i?r.reduce((t,r)=>{let n=rj[r];return n&&t.push({...n,id:r}),t},[]):r.map(t=>{let{label:r,description:n}=rv[t];return{id:t,label:r,description:n}}):[]},[i,t?.values]),h=(0,C.useMemo)(()=>"aggregation"===i?Object.entries(rj||{}).map(([t,r])=>({id:t,...r})):Object.entries(rv).map(([t,r])=>({id:t,...r})),[i]);return(0,p.jsxs)(f.OptionsEditorGroup,{title:"Legend",children:[!a&&(0,p.jsx)(f.ErrorAlert,{error:{name:"invalid-legend",message:"Invalid legend spec"}}),(0,p.jsx)(f.OptionsEditorControl,{label:"Show",control:(0,p.jsx)(A.A,{checked:!!t,onChange:(t,n)=>{r(!0===n?{position:rg.yf.position}:void 0)}})}),t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.OptionsEditorControl,{label:"Position",control:(0,p.jsx)(f.SettingsAutocomplete,{value:{...s,id:o},options:rA,onChange:(n,i)=>{r({...t,position:i.id})},disableClearable:!0})}),(0,p.jsx)(f.OptionsEditorControl,{label:"Mode",control:(0,p.jsx)(rh.A,{color:"primary",exclusive:!0,value:l,"aria-label":"Mode",onChange:(n,i)=>{r({...t,position:o,mode:i})},children:Object.entries(rx).map(([t,r])=>(0,p.jsx)(rm.A,{value:t,selected:l===t,"aria-label":`display ${t} mode`,children:r.label},t))})}),"table"===l&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.OptionsEditorControl,{label:"Size",control:(0,p.jsx)(f.SettingsAutocomplete,{value:{...c,id:u},options:r_,onChange:(n,i)=>{r({...t,position:o,size:i.id})},disableClearable:!0})}),n&&(0,p.jsx)(f.OptionsEditorControl,{label:"Values",control:(0,p.jsx)(f.SettingsAutocomplete,{multiple:!0,disableCloseOnSelect:!0,disableClearable:!0,value:d,options:h,onChange:(n,i)=>{r({...t,position:o,values:i.map(t=>t.id)})},limitTags:1,ChipProps:{size:"small"}})})]})]})]})}var rO=n(86067),rE=n(87275),rk=n(11061),rM=n(4178);let rP=(0,C.forwardRef)((t,r)=>{let{queryTypes:n,index:i,query:a,queryResult:o,filteredQueryPlugins:s,isCollapsed:l,onDelete:u,onChange:c,onQueryRun:d,onCollapseExpand:h}=t;return(0,p.jsxs)(j.A,{spacing:1,children:[(0,p.jsxs)(j.A,{direction:"row",alignItems:"center",justifyContent:"space-between",borderBottom:1,borderColor:t=>t.palette.divider,children:[(0,p.jsxs)(j.A,{direction:"row",children:[(0,p.jsx)(tn.A,{size:"small",onClick:()=>h(i),children:l?(0,p.jsx)(rk.default,{}):(0,p.jsx)(rE.default,{})}),(0,p.jsxs)(b.A,{variant:"overline",component:"h4",children:["Query #",i+1]})]}),(0,p.jsxs)(j.A,{direction:"row",alignItems:"center",children:[o?.isFetching&&(0,p.jsx)(e2.A,{"aria-label":"loading",size:"1.125rem"}),o?.error&&(0,p.jsx)(f.InfoTooltip,{description:o.error.message,children:(0,p.jsxs)(j.A,{direction:"row",alignItems:"center",sx:{color:t=>t.palette.error.main},children:[(0,p.jsx)(tn.A,{"aria-label":"query error",size:"small",sx:{color:t=>t.palette.error.main},children:(0,p.jsx)(rM.default,{})}),(0,p.jsx)(b.A,{sx:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","&:hover ::after":{content:'"Click to copy"'}},children:o.error.message})]})}),u&&(0,p.jsx)(tn.A,{"aria-label":"delete query",size:"small",onClick:()=>u&&u(i),children:(0,p.jsx)(rO.default,{})})]})]}),!l&&(0,p.jsx)(rD,{ref:r,queryTypes:n,value:a,filteredQueryPlugins:s,onChange:t=>c(i,t),onQueryRun:()=>d(i,a)})]},i)});rP.displayName="QueryEditorContainer";let rD=(0,C.forwardRef)((t,r)=>{let{queryTypes:n,value:i,filteredQueryPlugins:a,onChange:o,onQueryRun:s,...l}=t;return(0,p.jsx)(v.A,{...l,children:(0,p.jsx)(e7,{ref:r,pluginTypes:n,pluginKindLabel:"Query Type",value:{selection:{kind:i.spec.plugin.kind,type:i.kind},spec:i.spec.plugin.spec},filteredQueryPlugins:a,withRunQueryButton:!0,onRunQuery:s,onChange:t=>{o((0,e9.produce)(i,r=>{r.kind=t.selection.type,r.spec.plugin.kind=t.selection.kind,r.spec.plugin.spec=t.spec}))}})})});rD.displayName="QueryEditor";let rR=(0,C.forwardRef)((t,r)=>{let{queryTypes:n,queries:i=[],queryResults:a,filteredQueryPlugins:o,onChange:s,onQueryRun:l}=t,{defaultInitialQueryDefinition:u,isLoading:c}=function(t,r){let n=t[0],{data:i,isLoading:a}=eK(t),{defaultPluginKinds:o}=eQ(),s="";s=r?.length?i?.find(t=>r.includes(t.spec.name)).spec.name??"":o?.[n]??i?.[0]?.spec.name??"";let{data:l}=eZ(n,s,{useErrorBoundary:!0,enabled:!0});return{defaultInitialQueryDefinition:{kind:n,spec:{plugin:{kind:s,spec:l?.createInitialOptions()||{}}}},isLoading:a}}(n,o),[d,f]=(0,C.useState)(i.map(()=>!1)),h=(t,r)=>{s((0,e9.produce)(i,n=>{n?n[t]=r:n=[r]}))},m=(t,r)=>{l(t,r)},g=t=>{s((0,e9.produce)(i,r=>{r.splice(t,1)})),f(r=>(r.splice(t,1),[...r]))},y=t=>{f(r=>(r[t]=!r[t],[...r]))},v=i.length?i:c?[]:[u];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.A,{spacing:1,children:v.map((t,s)=>(0,p.jsx)(rP,{ref:r,queryTypes:n,index:s,query:t,queryResult:a?.[s],filteredQueryPlugins:o,isCollapsed:!!d[s],onChange:h,onQueryRun:m,onDelete:i.length>1?g:void 0,onCollapseExpand:y},s))}),(0,p.jsx)(V.A,{variant:"contained",startIcon:(0,p.jsx)(tz.default,{}),sx:{marginTop:1},onClick:()=>{s((0,e9.produce)(i,t=>{t?t.push(u):t=[...i,u]})),f(t=>(t.push(!1),[...t]))},children:"Add Query"})]})});rR.displayName="MultiQueryEditor";var rN=n(87034),rT=n(33868);let rI=({tabs:t})=>{let[r,n]=(0,C.useState)(0);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.A,{sx:{borderBottom:1,borderColor:t=>t.palette.divider},children:(0,p.jsx)(rN.A,{value:r,onChange:(t,r)=>{n(r)},"aria-label":"Panel configuration tabs",children:t.map(({label:t},r)=>(0,p.jsx)(rT.A,{label:t,id:`options-editor-tab-${r}`,"aria-controls":`options-editor-tabpanel-${r}`},t))})}),t.map(({label:t,content:n},i)=>(0,p.jsx)(rd,{value:r,index:i,children:n},t))]})};var rV=n(69791),rz=n(94461);let rL=(0,C.createContext)(void 0);function rF(){let t=(0,C.useContext)(rL);if(void 0===t)throw Error("No TimeRangeContext found. Did you forget a Provider?");return t}function r$(){return rF()}function rB(t){let{absoluteTimeRange:r}=r$();return void 0===t?0:(0,rV.qU)(r,t)}function rq(t){let{timeRange:r,refreshInterval:n,children:i,setTimeRange:a,setRefreshInterval:o}=t,s=(0,eM.jE)(),[l,u]=(0,C.useState)((0,rV.bB)(r)?(0,rV.b5)(r):r),c=(0,C.useCallback)(t=>{a(t),u((0,rV.bB)(t)?(0,rV.b5)(t):t)},[a]),d=(0,C.useCallback)(()=>{u((0,rV.bB)(r)?(0,rV.b5)(r):r),s.invalidateQueries({queryKey:["query"]}).finally(()=>s.removeQueries({queryKey:["query"],type:"inactive"})),s.invalidateQueries({queryKey:["variable"]}).finally(()=>s.removeQueries({queryKey:["variable"],type:"inactive"}))},[s,r]),f=(0,C.useCallback)(()=>{u((0,rV.bB)(r)?(0,rV.b5)(r):r),s.invalidateQueries({queryKey:["query"]}).finally(()=>{s.removeQueries({queryKey:["query"],type:"inactive"}),s.removeQueries({queryKey:["variable"],type:"inactive"})})},[s,r]),h=(0,C.useMemo)(()=>null!=n?(0,rz.milliseconds)((0,rV.pW)(n)):0,[n]);(0,C.useEffect)(()=>{if(h>0){let t=setInterval(()=>{f()},h);return()=>clearInterval(t)}},[f,h]);let m=(0,C.useMemo)(()=>({timeRange:r,setTimeRange:c,absoluteTimeRange:l,refresh:d,refreshInterval:n,refreshIntervalInMs:h,setRefreshInterval:o}),[l,c,d,n,h,o,r]);return(0,p.jsx)(rL.Provider,{value:m,children:i})}function rH(t,r){return r?Object.fromEntries(Object.entries(t).filter(([t])=>r.includes(t))):t}function rU(t){return Object.values(t).map(t=>JSON.stringify(t.value)).join(",")}let rW="TimeSeriesQuery";function rQ({plugin:t,definition:r,context:n}){let{timeRange:i,suggestedStepMs:a,mode:o,variableState:s}=n,l=t?.dependsOn?t.dependsOn(r.spec.plugin.spec,n):{},u=l?.variables,c=["query",rW,r,i,rU(rH(s,u)),a,o],d=!1;return u&&(d=u.some(t=>s[t]?.loading)),{queryKey:c,queryEnabled:void 0!==t&&!d}}let rZ=(t,r,n)=>{let{data:i}=eZ(rW,t.spec.plugin.kind),a=rK(),{queryEnabled:o,queryKey:s}=rQ({plugin:i,definition:t,context:a});return eq({enabled:(n?.enabled??!0)||o,queryKey:s,queryFn:({signal:n})=>{if(void 0===i)throw Error("Expected plugin to be loaded");let o={...a,suggestedStepMs:r?.suggestedStepMs};return i.getTimeSeriesData(t.spec.plugin.spec,o,n)}})};function rG(t,r,n){let{getPlugin:i}=eQ(),a={...rK(),mode:r?.mode,suggestedStepMs:r?.suggestedStepMs},o=eG(rW,t.map(t=>({kind:t.spec.plugin.kind})));return eU({queries:t.map((t,r)=>{let{queryEnabled:s,queryKey:l}=rQ({plugin:o[r]?.data,definition:t,context:a});return{...n,enabled:(n?.enabled??!0)&&s,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,queryKey:l,queryFn:async({signal:r})=>{let n=await i(rW,t.spec.plugin.kind);return await n.getTimeSeriesData(t.spec.plugin.spec,a,r)}}})})}function rK(){let{absoluteTimeRange:t}=r$();return{timeRange:t,variableState:tA(),datasourceStore:ta()}}function rJ(){return rY((0,eM.jE)().getQueryCache())}function rY(t){let r=[];for(let n of t.findAll({type:"active"})){let t=n.queryKey?.[0];t?.kind&&t.kind.startsWith(rW)&&r.push(n)}return r}let rX="TraceQuery";function r0(t){let{getPlugin:r}=eQ(),n=function(){let{absoluteTimeRange:t}=r$();return{variableState:tA(),datasourceStore:ta(),absoluteTimeRange:t}}(),i=eG("TraceQuery",t.map(t=>({kind:t.spec.plugin.kind})));return eU({queries:t.map((t,a)=>{let{queryEnabled:o,queryKey:s}=function({plugin:t,definition:r,context:n}){let{variableState:i,absoluteTimeRange:a}=n,o=t?.dependsOn?t.dependsOn(r.spec.plugin.spec,n):{},s=o?.variables,l=["query",rX,r,a,rU(rH(i,s))],u=!1;return s&&(u=s.some(t=>i[t]?.loading)),{queryKey:l,queryEnabled:void 0!==t&&!u}}({context:n,definition:t,plugin:i[a]?.data}),l=t?.spec?.plugin?.kind;return{enabled:o,queryKey:s,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,queryFn:async({signal:i})=>{let a=await r(rX,l);return await a.getTraceData(t.spec.plugin.spec,n,i)}}})})}let r1="ProfileQuery";function r2(t){let{getPlugin:r}=eQ(),n=ta(),{absoluteTimeRange:i}=r$(),a={datasourceStore:n,absoluteTimeRange:i};return eU({queries:t.map(t=>{let n=["query",r1,t,i],o=t?.spec?.plugin?.kind;return{queryKey:n,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,queryFn:async({signal:n})=>{let i=await r(r1,o);return await i.getProfileData(t.spec.plugin.spec,a,n)},structuralSharing:!1}})})}var r4=n(37856);let r9=(0,C.createContext)(void 0),r3=()=>(0,C.useContext)(r9),r5=()=>{let t=r3();return{markQuery:(r,n)=>{if(void 0===t)return;let i=JSON.stringify(r);if((!t.pendingQueries.has(i)||"pending"!==n)&&t.pendingQueries.get(i)!==n){t.pendingQueries.set(i,n),"error"===n&&(t.renderErrorCount+=1);let r=[...t.pendingQueries.values()].every(t=>"pending"!==t);0===t.renderDurationMs&&r&&(t.renderDurationMs=Date.now()-t.startRenderTime,r7(t))}}}},r7=async t=>{await (0,r4.hd)(`${t.apiPrefix??""}/api/v1/view`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:t.project,dashboard:t.dashboard,render_time:t.renderDurationMs/1e3,render_errors:t.renderErrorCount})})},r8=({apiPrefix:t,project:r,dashboard:n,children:i})=>{let a={project:r,dashboard:n,renderErrorCount:0,startRenderTime:Date.now(),renderDurationMs:0,pendingQueries:new Map,apiPrefix:t};return(0,p.jsx)(r9.Provider,{value:a,children:i})},r6="LogQuery";function ne(t,r){return t.map(({data:t,isFetching:n,isLoading:i,refetch:a,error:o},s)=>({definition:r[s],data:t,isFetching:n,isLoading:i,refetch:a,error:o}))}function nt(){let{data:t,isLoading:r}=eK(["TimeSeriesQuery"]),{data:n,isLoading:i}=eK(["TraceQuery"]),{data:a,isLoading:o}=eK(["ProfileQuery"]),{data:s,isLoading:l}=eK(["LogQuery"]),u=(0,C.useMemo)(()=>{let r={TimeSeriesQuery:[],TraceQuery:[],ProfileQuery:[],LogQuery:[]};return t&&t.forEach(t=>{r[t.kind]?.push(t.spec.name)}),n&&n.forEach(t=>{r[t.kind]?.push(t.spec.name)}),a&&a.forEach(t=>{r[t.kind]?.push(t.spec.name)}),s&&s.forEach(t=>{r[t.kind]?.push(t.spec.name)}),r},[t,n,a,s]);return(0,C.useCallback)(t=>{if(!(t=>{switch(t){case"PrometheusTimeSeriesQuery":return r;case"TempoTraceQuery":return i;case"PyroscopeProfileQuery":return o;case"LokiLogQuery":return l}return i||r||o||l})(t)){for(let r in u)if(u[r]?.includes(t))return r;throw Error(`Unable to determine the query type: ${t}`)}},[u,r,i,o,l])}let nr=(0,C.createContext)(void 0);function nn(){let t=(0,C.useContext)(nr);if(void 0===t)throw Error("No DataQueriesContext found. Did you forget a Provider?");return t}function ni(t){let r=nn(),n=r.queryResults.filter(r=>r?.definition?.kind===t),i=r.errors.filter((n,i)=>r.queryResults[i]?.definition?.kind===t);return{queryResults:n,isFetching:n.some(t=>t.isFetching),isLoading:n.some(t=>t.isLoading),refetchAll:r.refetchAll,errors:i}}function na(t){let{definitions:r,options:n,children:i,queryOptions:a}=t,o=nt(),s=r.map(t=>({kind:o(t.kind),spec:{plugin:t}})),l=r5(),u=s.filter(t=>"TimeSeriesQuery"===t.kind),c=rG(u,n,a),d=s.filter(t=>"TraceQuery"===t.kind),f=r0(d),h=s.filter(t=>"ProfileQuery"===t.kind),m=r2(h),g=s.filter(t=>"LogQuery"===t.kind),y=function(t){let{getPlugin:r}=eQ(),n=ta(),{absoluteTimeRange:i}=r$(),a=tS(),o={timeRange:i,variableState:a,datasourceStore:n,refreshKey:""};return eU({queries:t.map(t=>{let n=["query",r6,t,i,a],s=t?.spec?.plugin?.kind;return{queryKey:n,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,queryFn:async({signal:n})=>{let i=await r(r6,s);return await i.getLogData(t.spec.plugin.spec,o,n)},structuralSharing:!1}})})}(g),v=(0,C.useCallback)(()=>{c.forEach(t=>t.refetch()),f.forEach(t=>t.refetch()),m.forEach(t=>t.refetch()),y.forEach(t=>t.refetch())},[c,f,m,y]),b=(0,C.useMemo)(()=>{let t=[...ne(c,u),...ne(f,d),...ne(m,h),...ne(y,g)];if(a?.enabled)for(let r of t)r.isLoading||r.isFetching||r.error?r.error?l.markQuery(r.definition,"error"):l.markQuery(r.definition,"pending"):l.markQuery(r.definition,"success");return{queryResults:t,isFetching:t.some(t=>t.isFetching),isLoading:t.some(t=>t.isLoading),refetchAll:v,errors:t.map(t=>t.error)}},[u,c,d,f,h,m,g,y,v,a?.enabled,l]);return(0,p.jsx)(nr.Provider,{value:b,children:i})}let no=(0,C.createContext)(0),ns=({queryCount:t,children:r})=>(0,p.jsx)(no.Provider,{value:t,children:r}),nl=()=>(0,C.useContext)(no),nu=(0,C.forwardRef)((t,r)=>{let{control:n,panelDefinition:i,onQueriesChange:a,onQueryRun:o,onPluginSpecChange:s,onJSONChange:l}=t,{kind:u}=i.spec.plugin,{data:c,isLoading:d,error:h}=eZ("Panel",u),{queryResults:m}=nn();if(h)return(0,p.jsx)(f.ErrorAlert,{error:h});if(d)return null;if(!c)throw Error(`Missing implementation for panel plugin with kind '${u}'`);let{panelOptionsEditorComponents:g,hideQueryEditor:y}=c,v=[];return y||v.push({label:"Query",content:(0,p.jsx)(E.Controller,{control:n,name:"panelDefinition.spec.queries",render:({field:t})=>(0,p.jsx)(rR,{ref:r,queryTypes:c.supportedQueryTypes??[],queries:i.spec.queries??[],queryResults:m,onChange:r=>{t.onChange(r),a(r)},onQueryRun:(t,r)=>{o(t,r),JSON.stringify(i.spec.queries?.[t])===JSON.stringify(r)&&m[t]?.refetch?.()}})})}),g&&(v=v.concat(g.map(({label:t,content:r})=>({label:t,content:(0,p.jsx)(E.Controller,{control:n,name:"panelDefinition.spec.plugin.spec",render:({field:t})=>(0,p.jsx)(r,{value:i.spec.plugin.spec,onChange:r=>{t.onChange(r),s(r)}})})})))),v.push({label:"Links",content:(0,p.jsx)(f.LinksEditor,{control:n})}),v.push({label:"JSON",content:(0,p.jsx)(E.Controller,{control:n,name:"panelDefinition",render:({field:t})=>(0,p.jsx)(f.JSONEditor,{maxHeight:"80vh",value:i,onChange:r=>{t.onChange(JSON.parse(r)),l(r)}})})}),(0,p.jsx)(ns,{queryCount:(i.spec.queries??[]).length,children:(0,p.jsx)(rI,{tabs:v},v.length)})});nu.displayName="PanelSpecEditor";function nc(t){let r,n,{pluginLoader:{getInstalledPlugins:i,importPluginModule:a},children:o,defaultPluginKinds:s}=t,l=(r=e3(async()=>{let t=await i(),r=new Map,n=new Map;for(let i of t)for(let t of i.spec.plugins){var a,o;let{kind:s,spec:{name:l}}=t,u=(a=s,o=l,`${a}:${o}`);r.has(u)&&console.warn(`Got more than one ${s} plugin for kind ${l}`),r.set(u,i);let c=n.get(s);void 0===c&&(c=[],n.set(s,c)),c.push({...t,module:i.metadata})}return{pluginResourcesByNameAndKind:r,pluginMetadataByKind:n}}),n=(0,C.useRef)(void 0),(0,C.useCallback)(()=>{let t=n.current;return void 0===t&&(n.current=t=r(),t.catch(()=>void 0===n.current)),t},[r])),u=(0,C.useRef)(new Map),c=e3(t=>{let r=u.current.get(t);return void 0===r&&(r=a(t),u.current.set(t,r),r.catch(()=>u.current.delete(t))),r}),d=(0,C.useCallback)(async(t,r)=>{let n=await l(),i=`${t}:${r}`,a=n.pluginResourcesByNameAndKind.get(i);if(void 0===a)throw Error(`A ${r} plugin for kind '${t}' is not installed`);let o=(await c(a))[r];if(void 0===o)throw Error(`The ${r} plugin for kind '${t}' is missing from the ${a.metadata.name} plugin module`);return o},[l,c]),f=(0,C.useCallback)(async t=>{let r=await l();return t.flatMap(t=>r.pluginMetadataByKind.get(t)??[])},[l]),h=(0,C.useMemo)(()=>({getPlugin:d,listPluginMetadata:f,defaultPluginKinds:s}),[d,f,s]);return(0,p.jsx)(eW.Provider,{value:h,children:o})}var nd=n(74987),np=n(86138),nf=n(84864);let nh={refreshVariableValues:"Refresh values",copyVariableValues:"Copy values to clipboard",refresh:"Refresh",refreshInterval:"Auto refresh interval",zoomIn:"Zoom in",zoomOut:"Zoom out"},nm={showCustom:!0,showZoomButtons:!0,options:["5m","15m","30m","1h","6h","12h","24h","7d","14d"].map(t=>(0,f.buildRelativeTimeOption)(t))},ng=(0,C.createContext)(nm);function ny(){let t=(0,C.useContext)(ng);if(void 0===t)throw Error("No TimeRangeContext found. Did you forget a Provider?");return t}function nv(){return ny()}function nb(t){let r=nv().showCustom;return void 0!==t?t:r}function nx(t){let r=nv().showZoomButtons;return void 0!==t?t:r}function nw(t){let r=nv().options;return void 0!==t?t:r}function nj(t){let r=(0,C.useMemo)(()=>({showCustom:void 0===t.showCustom?nm.showCustom:t.showCustom,showZoomButtons:void 0===t.showZoomButtons?nm.showZoomButtons:t.showZoomButtons,options:void 0===t.options?nm.options:t.options}),[t.showCustom,t.showZoomButtons,t.options]);return(0,p.jsx)(ng.Provider,{value:r,children:t.children})}let nS=[{value:{pastDuration:"0s"},display:"Off"},{value:{pastDuration:"5s"},display:"5s"},{value:{pastDuration:"10s"},display:"10s"},{value:{pastDuration:"15s"},display:"15s"},{value:{pastDuration:"30s"},display:"30s"},{value:{pastDuration:"60s"},display:"1m"}];function nA({heightPx:t,showTimeRangeSelector:r=!0,showRefreshButton:n=!0,showRefreshInterval:i=!0,showCustomTimeRange:a,showZoomButtons:o=!0,timePresets:s}){let{timeRange:l,setTimeRange:u,refresh:c,refreshInterval:d,setRefreshInterval:h}=r$(),m=nb(a),g=nx(o),y=nw(s),v=void 0===t?"34px":`${t}px`;"pastDuration"in l&&!y.some(t=>t.value.pastDuration===l.pastDuration)&&y.push((0,f.buildRelativeTimeOption)(l.pastDuration));let b=(0,C.useCallback)(t=>{h(t)},[h]),x=t=>{let r=(0,rV.pW)(t);return((r.seconds??0)+(r.minutes??0)*60+(r.hours??0)*3600+(r.days??0)*86400+(r.weeks??0)*604800+(r.months??0)*2629746+(r.years??0)*0x1e18558)*1e3};return(0,p.jsxs)(j.A,{direction:"row",spacing:1,children:[r&&(0,p.jsx)(f.TimeRangeSelector,{timeOptions:y,value:l,onChange:u,height:v,showCustomTimeRange:m}),g&&(0,p.jsx)(f.InfoTooltip,{description:nh.zoomOut,children:(0,p.jsx)(f.ToolbarIconButton,{"aria-label":nh.zoomOut,onClick:()=>{let t,r,n,i;return u((i=new Date,Object.hasOwn(l,"start")?(n=(l.end.getTime()-l.start.getTime())/2,t=new Date(l.start.getTime()-n),r=new Date(l.end.getTime()+n)):(n=x(l.pastDuration)/2,t=new Date((r=void 0===l.end?i:new Date(l.end.getTime()+n)).getTime()-4*n)),r.getTime()>i.getTime()&&(r=i,t.setTime(i.getTime()-4*n)),1>t.getTime()&&t.setTime(1),{start:t,end:r}))},sx:{height:v},children:(0,p.jsx)(nf.default,{})})}),g&&(0,p.jsx)(f.InfoTooltip,{description:nh.zoomIn,children:(0,p.jsx)(f.ToolbarIconButton,{"aria-label":nh.zoomIn,onClick:()=>u((()=>{let t,r;if(Object.hasOwn(l,"start")){let n=(l.end.getTime()-l.start.getTime())/4;t=new Date(l.start.getTime()+n),r=new Date(l.end.getTime()-n)}else{let n=x(l.pastDuration)/4;t=new Date((r=void 0!==l.end?new Date(l.end.getTime()-n):new Date).getTime()-2*n)}return t.getTime()>=r.getTime()-1e3&&t.setTime(r.getTime()-1e3),{start:t,end:r}})()),sx:{height:v},children:(0,p.jsx)(np.default,{})})}),n&&(0,p.jsx)(f.InfoTooltip,{description:nh.refresh,children:(0,p.jsx)(f.ToolbarIconButton,{"aria-label":nh.refresh,onClick:c,sx:{height:v},children:(0,p.jsx)(nd.default,{})})}),i&&(0,p.jsx)(f.InfoTooltip,{description:nh.refreshInterval,children:(0,p.jsx)(f.RefreshIntervalPicker,{timeOptions:nS,value:nS.some(t=>t.value.pastDuration===d)?d:nS.find(t=>t.display===d)?.value.pastDuration,onChange:b,height:v})})]})}function n_(t,r){let n=[],i=new Set;for(let a of t){let t=a.value.matchAll(r),o="";for(let r of t)for(let t=1;t<r.length;t++){let n=r[t];void 0!==n&&(o=`${o}${n}`)}""===o||i.has(o)||(i.add(o),n.push({label:a.label,value:o}))}return n}function nC(t){let{data:r}=eZ("Variable",t.spec.plugin.kind),n=ta(),i=tA(),{absoluteTimeRange:a}=r$(),o=t.spec.plugin.spec,s=void 0!==t.spec.capturingRegexp?RegExp(t.spec.capturingRegexp,"g"):void 0,l=Object.keys(i);if(r?.dependsOn){let t=r.dependsOn(o,{timeRange:a,datasourceStore:n,variables:i});l=t.variables?t.variables:l}let u=tA(l=l.filter(r=>r!==t.spec.name)),c=!1;return l&&(c=l.some(t=>u[t]?.loading)),eq({queryKey:["variable",t,a,nO(u)],queryFn:async({signal:t})=>{let i=await r?.getVariableOptions(o,{datasourceStore:n,variables:u,timeRange:a},t);return i?.data?.length?s?n_(i.data,s):i.data:[]},enabled:!!r||c})}function nO(t){return Object.values(t).map(t=>JSON.stringify(t.value)).join(",")}let nE=[{label:"List",kind:"ListVariable"},{label:"Text",kind:"TextVariable"}];var nk=n(34007),nM=n(68150),nP=n(42514);let nD={none:{label:"None",sort:t=>t.slice()},"alphabetical-asc":{label:"Alphabetical, asc",sort:t=>t.slice().sort((t,r)=>t.label>r.label?1:-1)},"alphabetical-desc":{label:"Alphabetical, desc",sort:t=>t.slice().sort((t,r)=>t.label>r.label?-1:1)},"numerical-asc":{label:"Numerical, asc",sort:t=>t.slice().sort((t,r)=>parseInt(t.label)>parseInt(r.label)?1:-1)},"numerical-desc":{label:"Numerical, desc",sort:t=>t.slice().sort((t,r)=>parseInt(t.label)<parseInt(r.label)?1:-1)},"alphabetical-ci-asc":{label:"Alphabetical, case-insensitive, asc",sort:t=>t.slice().sort((t,r)=>t.label.toLowerCase()>r.label.toLowerCase()?1:-1)},"alphabetical-ci-desc":{label:"Alphabetical, case-insensitive, desc",sort:t=>t.slice().sort((t,r)=>t.label.toLowerCase()>r.label.toLowerCase()?-1:1)}};function nR(t){let r={value:t.spec.value??"",constant:t.spec.constant??!1},n={allowMultiple:!1,allowAllValue:!1,customAllValue:void 0,capturingRegexp:void 0,sort:void 0,plugin:{kind:"",spec:{}}};return"ListVariable"===t.kind&&(n.allowMultiple=t.spec.allowMultiple??!1,n.allowAllValue=t.spec.allowAllValue??!1,n.customAllValue=t.spec.customAllValue,n.capturingRegexp=t.spec.capturingRegexp,n.sort=t.spec.sort,n.plugin=t.spec.plugin),{name:t.spec.name,title:t.spec.display?.name??"",kind:t.kind,description:t.spec.display?.description??"",listVariableFields:n,textVariableFields:r}}function nN(t){let{name:r,title:n,kind:i,description:a}=t,o={name:n,description:a};if("TextVariable"===i)return{kind:i,spec:{name:r,display:o,...t.textVariableFields}};if("ListVariable"===i)return{kind:i,spec:{name:r,display:o,allowMultiple:t.listVariableFields.allowMultiple,allowAllValue:t.listVariableFields.allowAllValue,customAllValue:t.listVariableFields.customAllValue,capturingRegexp:t.listVariableFields.capturingRegexp,sort:t.listVariableFields.sort,plugin:t.listVariableFields.plugin}};throw Error(`Unknown variable kind: ${i}`)}function nT(t){let{values:r,isLoading:n,error:i}=t,[a,o]=(0,C.useState)(50),{infoSnackbar:s}=(0,f.useSnackbar)(),l=0;r&&r?.length>0&&a&&(l=r.length-a);let u=(0,C.useMemo)(()=>n?(0,p.jsx)(j.A,{width:"100%",sx:{alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(e2.A,{})}):i?(0,p.jsx)(nk.A,{severity:"error",children:i}):r?.length?null:(0,p.jsx)(nk.A,{severity:"info",children:"No results"}),[i,n,r]);return(0,p.jsxs)(v.A,{children:[(0,p.jsxs)(j.A,{direction:"row",spacing:1,alignItems:"center",mb:1,children:[(0,p.jsx)(b.A,{variant:"h4",children:"Preview Values"}),(0,p.jsx)(f.InfoTooltip,{description:nh.copyVariableValues,children:(0,p.jsx)(tn.A,{onClick:async()=>{r?.length&&(await navigator.clipboard.writeText(r.map(t=>t).join(", ")),s("Preview values copied to clipboard!"))},size:"small",children:(0,p.jsx)(nP.default,{})})})]}),(0,p.jsx)(nM.A,{variant:"outlined",children:(0,p.jsxs)(v.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,m:2},children:[u,r?.slice(0,a).filter(t=>t).map((t,r)=>(0,p.jsx)(tr.A,{size:"small",label:t},r)),l>0&&(0,p.jsx)(tr.A,{onClick:()=>{o(void 0)},variant:"outlined",size:"small",label:`+${l} more`})]})})]})}function nI(t){let{definition:r,sortMethod:n}=t,{data:i,isFetching:a,error:o}=nC(r),s=o?.message,l=n&&"none"!==n&&i?nD[n].sort(i):i;return(0,C.useMemo)(()=>(0,p.jsx)(nT,{values:l?.map(t=>t.label||t.value),isLoading:a,error:s}),[s,a,l])}function nV(){return(0,p.jsx)("div",{children:"Error previewing values"})}function nz({action:t,control:r}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.A,{py:1,variant:"subtitle1",children:"Text Options"}),(0,p.jsxs)(j.A,{spacing:2,children:[(0,p.jsx)(E.Controller,{control:r,name:"spec.value",render:({field:r,fieldState:n})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.A,{children:(0,p.jsx)(nT,{values:[r.value]})}),(0,p.jsx)(w.A,{...r,label:"Value",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message,value:r.value??"",onChange:t=>{r.onChange(t)}})]})}),(0,p.jsx)(E.Controller,{control:r,name:"spec.constant",render:({field:r})=>(0,p.jsx)(S.A,{label:"Constant",control:(0,p.jsx)(A.A,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})})]})]})}function nL({action:t,control:r}){let n=(0,E.useFormContext)(),i=(0,eM.jE)(),a=n.getValues(),[o,s]=(0,C.useState)(structuredClone(a)),l=(0,C.useCallback)(async()=>{JSON.stringify(o)===JSON.stringify(a)?await i.invalidateQueries({queryKey:["variable",o]}):s(structuredClone(a))},[o,i,a]),u=(0,E.useWatch)({control:r,name:"spec.plugin"}),c=u?.kind,d=u?.spec,h=(0,E.useWatch)({control:r,name:"spec.allowAllValue"}),m=(0,E.useWatch)({control:r,name:"spec.sort"});return void 0===a.spec.allowAllValue&&n.setValue("spec.allowAllValue",!1),void 0===a.spec.allowMultiple&&n.setValue("spec.allowMultiple",!1),a.spec.plugin||n.setValue("spec.plugin",{kind:"StaticListVariable",spec:{}}),a.spec.sort||n.setValue("spec.sort","none"),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.A,{py:1,variant:"subtitle1",children:"List Options"}),(0,p.jsxs)(j.A,{spacing:2,mb:2,children:[(0,p.jsx)(v.A,{children:(0,p.jsx)(f.ErrorBoundary,{FallbackComponent:nV,resetKeys:[o],children:(0,p.jsx)(nI,{sortMethod:m,definition:o})})}),(0,p.jsx)(j.A,{children:(0,p.jsx)(f.ErrorBoundary,{FallbackComponent:f.ErrorAlert,children:(0,p.jsx)(E.Controller,{control:r,name:"spec.plugin",render:({field:r})=>(0,p.jsx)(e7,{withRunQueryButton:!0,width:"100%",pluginTypes:["Variable"],pluginKindLabel:"Source",value:{selection:{type:"Variable",kind:c??"StaticListVariable"},spec:d??{}},isReadonly:"read"===t,onChange:t=>{r.onChange({kind:t.selection.kind,spec:t.spec})},onRunQuery:l})})})}),(0,p.jsx)(j.A,{children:(0,p.jsx)(E.Controller,{control:r,name:"spec.capturingRegexp",render:({field:r,fieldState:n})=>(0,p.jsx)(w.A,{...r,label:"Capturing Regexp Filter",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,value:r.value??"",onChange:t=>{""===t.target.value?r.onChange(void 0):r.onChange(t)},helperText:n.error?.message?n.error.message:"Optional, if you want to filter on captured result."})})}),(0,p.jsx)(j.A,{children:(0,p.jsx)(E.Controller,{control:r,name:"spec.sort",render:({field:r,fieldState:n})=>(0,p.jsx)(w.A,{select:!0,...r,fullWidth:!0,label:"Sort",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message,value:r.value??"none",onChange:t=>{r.onChange(t)},children:Object.keys(nD).map(t=>{if(!nD[t])return null;let{label:r}=nD[t];return(0,p.jsx)(L.A,{value:t,children:r},t)})})})})]}),(0,p.jsx)(_.A,{}),(0,p.jsx)(b.A,{py:1,variant:"subtitle1",children:"Dropdown Options"}),(0,p.jsxs)(j.A,{spacing:"2",children:[(0,p.jsxs)(j.A,{children:[(0,p.jsx)(E.Controller,{control:r,name:"spec.allowMultiple",render:({field:r})=>(0,p.jsx)(S.A,{label:"Allow Multiple Values",control:(0,p.jsx)(A.A,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})}),(0,p.jsx)(b.A,{variant:"caption",children:"Enables multiple values to be selected at the same time"})]}),(0,p.jsxs)(j.A,{children:[(0,p.jsx)(E.Controller,{control:r,name:"spec.allowAllValue",render:({field:r})=>(0,p.jsx)(S.A,{label:"Allow All option",control:(0,p.jsx)(A.A,{...r,checked:!!r.value,readOnly:"read"===t,value:r.value??!1,onChange:n=>{"read"!==t&&r.onChange(n)}})})}),(0,p.jsx)(b.A,{mb:1,variant:"caption",children:"Enables an option to include all variable values"}),h&&(0,p.jsx)(E.Controller,{control:r,name:"spec.customAllValue",render:({field:r,fieldState:n})=>(0,p.jsx)(w.A,{...r,fullWidth:!0,label:"Custom All Value",InputLabelProps:{shrink:"read"===t||void 0},InputProps:{readOnly:"read"===t},error:!!n.error,helperText:n.error?.message?n.error.message:"When All is selected, this value will be used",value:r.value??"",onChange:t=>{""===t.target.value?r.onChange(void 0):r.onChange(t)}})})]})]})]})}function nF({initialVariableDefinition:t,action:r,isDraft:n,isReadonly:i,onActionChange:a,onSave:o,onClose:s,onDelete:l}){let[u,c]=(0,C.useState)(!1),d=T(r,n),h=I(r,n),{variableEditorSchema:m}=R(),g=(0,E.useForm)({resolver:(0,y.u)(m),mode:"onBlur",defaultValues:t}),j=(0,E.useWatch)({control:g.control,name:"kind"});function S(t){let r={...t};return r.spec.display?.name===void 0&&r.spec.display?.description===void 0&&r.spec.display?.hidden===void 0&&delete r.spec.display,r}return(0,p.jsxs)(E.FormProvider,{...g,children:[(0,p.jsxs)(v.A,{sx:{display:"flex",alignItems:"center",padding:t=>t.spacing(1,2),borderBottom:t=>`1px solid ${t.palette.divider}`},children:[(0,p.jsxs)(b.A,{variant:"h2",children:[d," Variable"]}),(0,p.jsx)(f.FormActions,{action:r,submitText:h,isReadonly:i,isValid:g.formState.isValid,onActionChange:a,onSubmit:g.handleSubmit(t=>{o(S(t))}),onDelete:l,onCancel:function(){JSON.stringify(t)!==JSON.stringify(S(g.getValues()))?c(!0):s()}})]}),(0,p.jsxs)(v.A,{padding:2,sx:{overflowY:"scroll"},children:[(0,p.jsxs)(x.Ay,{container:!0,spacing:2,mb:2,children:[(0,p.jsx)(x.Ay,{item:!0,xs:8,children:(0,p.jsx)(E.Controller,{control:g.control,name:"spec.name",render:({field:t,fieldState:i})=>(0,p.jsx)(w.A,{...t,required:!0,fullWidth:!0,label:"Name",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{disabled:"update"===r&&!n,readOnly:"read"===r},error:!!i.error,helperText:i.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(E.Controller,{control:g.control,name:"spec.display.name",render:({field:t,fieldState:n})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"Display Label",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:8,children:(0,p.jsx)(E.Controller,{control:g.control,name:"spec.display.description",render:({field:t,fieldState:n})=>(0,p.jsx)(w.A,{...t,fullWidth:!0,label:"Description",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"",onChange:r=>{t.onChange(r)}})})}),(0,p.jsx)(x.Ay,{item:!0,xs:4,children:(0,p.jsx)(E.Controller,{control:g.control,name:"kind",render:({field:t,fieldState:n})=>(0,p.jsx)(w.A,{select:!0,...t,fullWidth:!0,label:"Type",InputLabelProps:{shrink:"read"===r||void 0},InputProps:{readOnly:"read"===r},error:!!n.error,helperText:n.error?.message,value:t.value??"TextVariable",onChange:r=>{t.onChange(r)},children:nE.map(t=>(0,p.jsx)(L.A,{value:t.kind,children:t.label},t.kind))})})})]}),(0,p.jsx)(_.A,{}),"TextVariable"===j&&(0,p.jsx)(f.ErrorBoundary,{FallbackComponent:f.ErrorAlert,children:(0,p.jsx)(nz,{action:r,control:g.control})}),"ListVariable"===j&&(0,p.jsx)(f.ErrorBoundary,{FallbackComponent:f.ErrorAlert,children:(0,p.jsx)(nL,{action:r,control:g.control})})]}),(0,p.jsx)(f.DiscardChangesConfirmationDialog,{description:"Are you sure you want to discard these changes? Changes cannot be recovered.",isOpen:u,onCancel:()=>{c(!1)},onDiscardChanges:()=>{c(!1),s()}})]})}let n$=({value:t,onChange:r})=>(0,p.jsx)(f.OptionsEditorControl,{label:"Metric label",description:"Specify label to display",control:(0,p.jsx)(w.A,{fullWidth:!0,name:"Metric label",value:t||"",onChange:t=>{r(t.target.value||void 0)}})});function nB(t){let r=new Map(t.map(t=>[t.resource,t.importPlugin]));return{getInstalledPlugins:async()=>Promise.resolve(Array.from(r.keys())),importPluginModule(t){let n=r.get(t);if(void 0===n)throw Error("Plugin not found");return n()}}}var nq=n(57348);function nH(t){return!t||"string"==typeof t&&(0,rV.g3)(t)?t:(1e3*(0,rz.getUnixTime)(t)).toString()}function nU(t){let r=function(t,r){if(!t||0===t.length)return null;let n=t instanceof Array?t[0]:t;return null==n?n:""===n?null:n}(t);return r?(0,rV.g3)(r)?r:new Date(Number(r)):null}let nW={encode:nH,decode:nU,equals:(t,r)=>t===r||(t&&r?t.valueOf()===r.valueOf():t===r)},nQ={start:nW,end:nW},nZ={refresh:nW};function nG(t){let[r]=(0,nq.useQueryParams)(nQ,{updateType:"replaceIn"}),{start:n,end:i}=r;return(0,C.useMemo)(()=>{let r={pastDuration:t};if(!n)return r;let a=n.toString();return(0,rV.g3)(a)?r={pastDuration:a}:(0,rz.isDate)(n)&&(0,rz.isDate)(i)&&(r={start:n,end:i}),r},[n,i,t])}function nK(t){let[r,n]=(0,nq.useQueryParams)(nQ,{updateType:"replaceIn"}),[i,a]=(0,C.useState)(!1),{start:o}=r;return(0,C.useEffect)(()=>{!i&&!o&&(0,rV.bB)(t)&&(n({start:t.pastDuration,end:void 0}),a(!0))},[t,i,o,n]),{timeRange:t,setTimeRange:(0,C.useCallback)(t=>{(0,rV.bB)(t)?n({start:t.pastDuration,end:void 0}):n(t)},[n])}}function nJ(t){let[r]=(0,nq.useQueryParams)(nZ,{updateType:"replaceIn"}),{refresh:n}=r;return(0,C.useMemo)(()=>{let r=t;if(!n)return r;let i=n.toString();return(0,rV.g3)(i)&&(r=i),r},[t,n])}function nY(t){let[r,n]=(0,nq.useQueryParams)(nZ,{updateType:"replaceIn"}),[i,a]=(0,C.useState)(!1),{refresh:o}=r;return(0,C.useEffect)(()=>{i||o||(n({refresh:t}),a(!0))},[t,i,o,n]),{refreshInterval:t,setRefreshInterval:(0,C.useCallback)(t=>n({refresh:t}),[n])}}function nX({initialTimeRange:t,initialRefreshInterval:r,children:n}){let{timeRange:i,setTimeRange:a}=nK(t),{refreshInterval:o,setRefreshInterval:s}=nY(r);return(0,p.jsx)(rq,{timeRange:i,refreshInterval:o,setTimeRange:a,setRefreshInterval:s,children:n})}function n0({initialTimeRange:t,initialRefreshInterval:r,children:n}){let[i,a]=O().useState(t),[o,s]=O().useState(r);return(0,p.jsx)(rq,{timeRange:i,refreshInterval:o,setTimeRange:a,setRefreshInterval:s,children:n})}var n1=n(67435),n2=n(49348);let n4=(0,C.createContext)(void 0);function n9(){let t=(0,C.useContext)(n4);return void 0===t?(console.warn("No RouterContext found. Did you forget a <RouterProvider>?"),{}):t}function n3(t){let{RouterComponent:r,navigate:n,children:i}=t,a=(0,C.useMemo)(()=>({RouterComponent:r,navigate:n}),[r,n]);return(0,p.jsx)(n4.Provider,{value:a,children:i})}function n5(t){let{children:r}=t,n=(0,n1.Zp)();return(0,p.jsx)(n3,{RouterComponent:n2.Link,navigate:n,children:r})}function n7(...t){let r={kind:"PluginModule",metadata:{name:"Fake Plugin Module for Tests",version:"0"},spec:{plugins:t.map(({kind:t,spec:{name:r}})=>({kind:t,spec:{name:r,display:{name:n8(t,r)}}}))}},n={};for(let r of t)n[r.spec.name]=r.plugin;return{pluginLoader:{getInstalledPlugins:()=>Promise.resolve([r]),importPluginModule:()=>Promise.resolve(n)},defaultPluginKinds:{TimeSeriesQuery:"PrometheusTimeSeriesQuery"}}}function n8(t,r){return`${t} Plugin for ${r}`}var n6=n(44638);let ie=console;class it{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:F?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class ir extends it{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||ie,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){let r="function"==typeof t.initialData?t.initialData():t.initialData,n=void 0!==r,i=n?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,r){let n=eu(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==r?void 0:r.updatedAt,manual:null==r?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;let n=this.promise;return null==(r=this.retryer)||r.cancel(t),n?n.then($).catch($):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>!1!==t.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!H(this.state.dataUpdatedAt,t)}onFocus(){var t;let r=this.observers.find(t=>t.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;let r=this.observers.find(t=>t.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i,a,o;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=r&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(a=this.retryer)||a.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let s=function(){if("function"==typeof AbortController)return new AbortController}(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};u(l);let c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};u(d),null==(n=this.options.behavior)||n.onFetch(d),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=d.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(o=d.fetchOptions)?void 0:o.meta});let p=t=>{if(ev(t)&&t.silent||this.dispatch({type:"error",error:t}),!ev(t)){var r,n,i,a;null==(r=(n=this.cache.config).onError)||r.call(n,t,this),null==(i=(a=this.cache.config).onSettled)||i.call(a,this.state.data,t,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=eb({fn:d.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:t=>{var r,n,i,a;void 0===t?p(Error(this.queryHash+" data is undefined")):(this.setData(t),null==(r=(n=this.cache.config).onSuccess)||r.call(n,t,this),null==(i=(a=this.cache.config).onSettled)||i.call(a,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1)},onError:p,onFail:(t,r)=>{this.dispatch({type:"failed",failureCount:t,error:r})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){let r=r=>{var n,i;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=t.meta)?n:null,fetchStatus:eg(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let a=t.error;if(ev(a)&&a.revert&&this.revertState)return{...this.revertState,fetchStatus:"idle"};return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=r(this.state),ec.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}class ii extends ed{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;let a=r.queryKey,o=null!=(i=r.queryHash)?i:J(a,r),s=this.get(o);return s||(s=new ir({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){let r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ec.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){let[n]=Q(t,r);return void 0===n.exact&&(n.exact=!0),this.queries.find(t=>G(n,t))}findAll(t,r){let[n]=Q(t,r);return Object.keys(n).length>0?this.queries.filter(t=>G(n,t)):this.queries}notify(t){ec.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){ec.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ec.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class ia extends it{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||ie,this.observers=[],this.state=t.state||io(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return null!=(t=null==(r=this.retryer)?void 0:r.continue())?t:this.execute()}async execute(){var t,r,n,i,a,o,s,l,u,c,d,p,f,h,m,g,y,v,b,x;let w=()=>{var t;return this.retryer=eb({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,r)=>{this.dispatch({type:"failed",failureCount:t,error:r})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},j="loading"===this.state.status;try{if(!j){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(u=(c=this.mutationCache.config).onMutate)?void 0:u.call(c,this.state.variables,this));let t=await (null==(d=(p=this.options).onMutate)?void 0:d.call(p,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}let f=await w();return await (null==(t=(r=this.mutationCache.config).onSuccess)?void 0:t.call(r,f,this.state.variables,this.state.context,this)),await (null==(n=(i=this.options).onSuccess)?void 0:n.call(i,f,this.state.variables,this.state.context)),await (null==(a=(o=this.mutationCache.config).onSettled)?void 0:a.call(o,f,null,this.state.variables,this.state.context,this)),await (null==(s=(l=this.options).onSettled)?void 0:s.call(l,f,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:f}),f}catch(t){try{throw await (null==(f=(h=this.mutationCache.config).onError)?void 0:f.call(h,t,this.state.variables,this.state.context,this)),await (null==(m=(g=this.options).onError)?void 0:m.call(g,t,this.state.variables,this.state.context)),await (null==(y=(v=this.mutationCache.config).onSettled)?void 0:y.call(v,void 0,t,this.state.variables,this.state.context,this)),await (null==(b=(x=this.options).onSettled)?void 0:b.call(x,void 0,t,this.state.variables,this.state.context)),t}finally{this.dispatch({type:"error",error:t})}}}dispatch(t){let r=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!eg(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=r(this.state),ec.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function io(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class is extends ed{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){let i=new ia({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){ec.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(r=>K(t,r))}findAll(t){return this.mutations.filter(r=>K(t,r))}notify(t){ec.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then(()=>{let t=this.mutations.filter(t=>t.state.isPaused);return ec.batch(()=>t.reduce((t,r)=>t.then(()=>r.continue().catch($)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function il(){return{onFetch:t=>{t.fetchFn=()=>{var r,n,i,a,o,s;let l,u=null==(r=t.fetchOptions)||null==(n=r.meta)?void 0:n.refetchPage,c=null==(i=t.fetchOptions)||null==(a=i.meta)?void 0:a.fetchMore,d=null==c?void 0:c.pageParam,p=(null==c?void 0:c.direction)==="forward",f=(null==c?void 0:c.direction)==="backward",h=(null==(o=t.state.data)?void 0:o.pages)||[],m=(null==(s=t.state.data)?void 0:s.pageParams)||[],g=m,y=!1,v=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),b=(t,r,n,i)=>(g=i?[r,...g]:[...g,r],i?[n,...t]:[...t,n]),x=(r,n,i,a)=>{if(y)return Promise.reject("Cancelled");if(void 0===i&&!n&&r.length)return Promise.resolve(r);let o={queryKey:t.queryKey,pageParam:i,meta:t.options.meta};return Object.defineProperty(o,"signal",{enumerable:!0,get:()=>{var r,n;return null!=(r=t.signal)&&r.aborted?y=!0:null==(n=t.signal)||n.addEventListener("abort",()=>{y=!0}),t.signal}}),Promise.resolve(v(o)).then(t=>b(r,i,t,a))};if(h.length)if(p){let r=void 0!==d,n=r?d:iu(t.options,h);l=x(h,r,n)}else if(f){let r=void 0!==d,n=r?d:ic(t.options,h);l=x(h,r,n,!0)}else{g=[];let r=void 0===t.options.getNextPageParam;l=!u||!h[0]||u(h[0],0,h)?x([],r,m[0]):Promise.resolve(b([],m[0],h[0]));for(let n=1;n<h.length;n++)l=l.then(i=>{if(!u||!h[n]||u(h[n],n,h)){let a=r?m[n]:iu(t.options,i);return x(i,r,a)}return Promise.resolve(b(i,m[n],h[n]))})}else l=x([]);return l.then(t=>({pages:t,pageParams:g}))}}}}function iu(t,r){return null==t.getNextPageParam?void 0:t.getNextPageParam(r[r.length-1],r)}function ic(t,r){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(r[0],r)}class id{constructor(t={}){this.queryCache=t.queryCache||new ii,this.mutationCache=t.mutationCache||new is,this.logger=t.logger||ie,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=ep.subscribe(()=>{ep.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=eh.subscribe(()=>{eh.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(r=this.unsubscribeOnline)||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){let[n]=Q(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return null==(n=this.queryCache.find(t,r))?void 0:n.state.data}ensureQueryData(t,r,n){let i=U(t,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:t,state:r})=>[t,r.data])}setQueryData(t,r,n){let i=this.queryCache.find(t),a=null==i?void 0:i.state.data,o="function"==typeof r?r(a):r;if(void 0===o)return;let s=U(t),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(o,{...n,manual:!0})}setQueriesData(t,r,n){return ec.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,r,n)]))}getQueryState(t,r){var n;return null==(n=this.queryCache.find(t,r))?void 0:n.state}removeQueries(t,r){let[n]=Q(t,r),i=this.queryCache;ec.batch(()=>{i.findAll(n).forEach(t=>{i.remove(t)})})}resetQueries(t,r,n){let[i,a]=Q(t,r,n),o=this.queryCache,s={type:"active",...i};return ec.batch(()=>(o.findAll(i).forEach(t=>{t.reset()}),this.refetchQueries(s,a)))}cancelQueries(t,r,n){let[i,a={}]=Q(t,r,n);return void 0===a.revert&&(a.revert=!0),Promise.all(ec.batch(()=>this.queryCache.findAll(i).map(t=>t.cancel(a)))).then($).catch($)}invalidateQueries(t,r,n){let[i,a]=Q(t,r,n);return ec.batch(()=>{var t,r;if(this.queryCache.findAll(i).forEach(t=>{t.invalidate()}),"none"===i.refetchType)return Promise.resolve();let n={...i,type:null!=(t=null!=(r=i.refetchType)?r:i.type)?t:"active"};return this.refetchQueries(n,a)})}refetchQueries(t,r,n){let[i,a]=Q(t,r,n),o=Promise.all(ec.batch(()=>this.queryCache.findAll(i).filter(t=>!t.isDisabled()).map(t=>{var r;return t.fetch(void 0,{...a,cancelRefetch:null==(r=null==a?void 0:a.cancelRefetch)||r,meta:{refetchPage:i.refetchPage}})}))).then($);return null!=a&&a.throwOnError||(o=o.catch($)),o}fetchQuery(t,r,n){let i=U(t,r,n),a=this.defaultQueryOptions(i);void 0===a.retry&&(a.retry=!1);let o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then($).catch($)}fetchInfiniteQuery(t,r,n){let i=U(t,r,n);return i.behavior=il(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then($).catch($)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){let n=this.queryDefaults.find(r=>Y(t)===Y(r.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;let r=this.queryDefaults.find(r=>X(t,r.queryKey));return null==r?void 0:r.defaultOptions}setMutationDefaults(t,r){let n=this.mutationDefaults.find(r=>Y(t)===Y(r.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;let r=this.mutationDefaults.find(r=>X(t,r.mutationKey));return null==r?void 0:r.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;let r={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=J(r.queryKey,r)),void 0===r.refetchOnReconnect&&(r.refetchOnReconnect="always"!==r.networkMode),void 0===r.useErrorBoundary&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ip extends ex{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,r){super.setOptions({...t,behavior:il()},r)}getOptimisticResult(t){return t.behavior=il(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,r){var n,i,a,o,s,l;let{state:u}=t,c=super.createResult(t,r),{isFetching:d,isRefetching:p}=c,f=d&&(null==(n=u.fetchMeta)||null==(i=n.fetchMore)?void 0:i.direction)==="forward",h=d&&(null==(a=u.fetchMeta)||null==(o=a.fetchMore)?void 0:o.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(t,r){if(t.getNextPageParam&&Array.isArray(r)){let n=iu(t,r);return null!=n&&!1!==n}}(r,null==(s=u.data)?void 0:s.pages),hasPreviousPage:function(t,r){if(t.getPreviousPageParam&&Array.isArray(r)){let n=ic(t,r);return null!=n&&!1!==n}}(r,null==(l=u.data)?void 0:l.pages),isFetchingNextPage:f,isFetchingPreviousPage:h,isRefetching:p&&!f&&!h}}}class ih extends ed{constructor(t,r){super(),this.client=t,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;let n=this.options;this.options=this.client.defaultMutationOptions(t),et(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(r=this.currentMutation)||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let r={listeners:!0};"success"===t.type?r.onSuccess=!0:"error"===t.type&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:io(),r="loading"===t.status,n={...t,isLoading:r,isPending:r,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){ec.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var r,n,i,a,o,s,l,u;t.onSuccess?(null==(r=(n=this.mutateOptions).onSuccess)||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(a=this.mutateOptions).onSettled)||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(l=(u=this.mutateOptions).onSettled)||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)})})}}function im(t){return t.state.isPaused}function ig(t){return"success"===t.state.status}function iy(t,r={}){let n=[],i=[];if(!1!==r.dehydrateMutations){let i=r.shouldDehydrateMutation||im;t.getMutationCache().getAll().forEach(t=>{i(t)&&n.push({mutationKey:t.options.mutationKey,state:t.state})})}if(!1!==r.dehydrateQueries){let n=r.shouldDehydrateQuery||ig;t.getQueryCache().getAll().forEach(t=>{n(t)&&i.push({state:t.state,queryKey:t.queryKey,queryHash:t.queryHash})})}return{mutations:n,queries:i}}function iv(t,r,n){if("object"!=typeof r||null===r)return;let i=t.getMutationCache(),a=t.getQueryCache(),o=r.mutations||[],s=r.queries||[];o.forEach(r=>{var a;i.build(t,{...null==n||null==(a=n.defaultOptions)?void 0:a.mutations,mutationKey:r.mutationKey},r.state)}),s.forEach(({queryKey:r,state:i,queryHash:o})=>{var s;let l=a.get(o);if(l){if(l.state.dataUpdatedAt<i.dataUpdatedAt){let{fetchStatus:t,...r}=i;l.setState(r)}return}a.build(t,{...null==n||null==(s=n.defaultOptions)?void 0:s.queries,queryKey:r,queryHash:o},{...i,fetchStatus:"idle"})})}function ib(t){return eB({...t,enabled:!0,useErrorBoundary:!0,suspense:!0,placeholderData:void 0,networkMode:"always"},ex)}function ix({queries:t,context:r}){return eU({queries:t.map(t=>({...t,enabled:!0,useErrorBoundary:!0,suspense:!0,placeholderData:void 0,networkMode:"always"})),context:r})}function iw(t,r={}){let n=(0,eM.jE)({context:r.context}),i=C.useRef(r);i.current=r,C.useMemo(()=>{t&&iv(n,t,i.current)},[n,t])}let ij=({children:t,options:r,state:n})=>(iw(n,r),t);function iS(t,r,n){let[i,a={}]=Q(t,r,n),o=(0,eM.jE)({context:a.context}),s=o.getQueryCache();return e_(C.useCallback(t=>s.subscribe(ec.batchCalls(t)),[s]),()=>o.isFetching(i),()=>o.isFetching(i))}function iA(t,r,n){let[i,a={}]=Z(t,r,n),o=(0,eM.jE)({context:a.context}),s=o.getMutationCache();return e_(C.useCallback(t=>s.subscribe(ec.batchCalls(t)),[s]),()=>o.isMutating(i),()=>o.isMutating(i))}function i_(t,r,n){let i=W(t,r,n),a=(0,eM.jE)({context:i.context}),[o]=C.useState(()=>new ih(a,i));C.useEffect(()=>{o.setOptions(i)},[o,i]);let s=e_(C.useCallback(t=>o.subscribe(ec.batchCalls(t)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=C.useCallback((t,r)=>{o.mutate(t,r).catch(iC)},[o]);if(s.error&&eN(o.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}function iC(){}function iO(t,r,n){return eB(U(t,r,n),ip)}function iE(t){return t}var ik=n(20231),iM=n.n(ik);let iP=null,iD=()=>(null===iP&&(iP=(0,n6.createInstance)({name:"@perses/perses-ui-host",remotes:[],shared:{react:{version:O().version,lib:()=>O(),shareConfig:{singleton:!0,requiredVersion:`^${O().version}`}},"react-dom":{version:"18.3.1",lib:()=>iM(),shareConfig:{singleton:!0,requiredVersion:"^18.3.1"}},"react-router-dom":{version:"6.26.0",lib:()=>n2,shareConfig:{singleton:!0,requiredVersion:"^6.26.0"}},"@tanstack/react-query":{version:"4.39.1",lib:()=>d,shareConfig:{singleton:!0,requiredVersion:"^4.39.1"}},"react-hook-form":{version:"7.52.2",lib:()=>E,shareConfig:{singleton:!0,requiredVersion:"^7.52.2"}},echarts:{version:"5.5.0",lib:()=>n(64198),shareConfig:{singleton:!0,requiredVersion:"^5.5.0"}},"@perses-dev/core":{version:"0.53.0-beta.3",lib:()=>n(3778),shareConfig:{singleton:!0,requiredVersion:"^0.53.0-beta.3"}},"@perses-dev/components":{version:"0.53.0-beta.3",lib:()=>n(25086),shareConfig:{singleton:!0,requiredVersion:"^0.53.0-beta.3"}},"@perses-dev/plugin-system":{version:"0.53.0-beta.3",lib:()=>n(71935),shareConfig:{singleton:!0,requiredVersion:"^0.53.0-beta.3"}},"@perses-dev/explore":{version:"0.53.0-beta.3",lib:()=>n(1379),shareConfig:{singleton:!0,requiredVersion:"^^0.53.0-beta.3"}},"@perses-dev/dashboards":{version:"0.53.0-beta.3",lib:()=>n(45767),shareConfig:{singleton:!0,requiredVersion:"^^0.53.0-beta.3"}},"date-fns":{version:"4.1.0",lib:()=>n(94461),shareConfig:{singleton:!0,requiredVersion:"^4.1.0"}},"date-fns-tz":{version:"3.2.0",lib:()=>n(63682),shareConfig:{singleton:!0,requiredVersion:"^3.2.0"}},lodash:{version:"4.17.21",lib:()=>n(51035),shareConfig:{singleton:!0,requiredVersion:"^4.17.21"}},"@emotion/react":{version:"11.11.3",lib:()=>n(69402),shareConfig:{singleton:!0,requiredVersion:"^11.11.3"}},"@emotion/styled":{version:"11.11.0",lib:()=>n(84607),shareConfig:{singleton:!0,requiredVersion:"^11.11.0"}},"@hookform/resolvers/zod":{version:"3.3.4",lib:()=>n(77840),shareConfig:{singleton:!0,requiredVersion:"^3.3.4"}},"use-resize-observer":{version:"9.1.0",lib:()=>n(26422),shareConfig:{singleton:!0,requiredVersion:"^9.1.0"}},"mdi-material-ui":{version:"7.4.0",lib:()=>n(84899),shareConfig:{singleton:!0,requiredVersion:"^7.4.0"}},immer:{version:"10.1.1",lib:()=>n(43945),shareConfig:{singleton:!0,requiredVersion:"^10.1.1"}}}})),iP),iR=async(t,r,n)=>{let i=iD();if(!i.options.remotes.find(r=>r.name===t)){let r=n?`${n}/${t}/mf-manifest.json`:`/plugins/${t}/mf-manifest.json`;i.registerRemotes([{name:t,entry:r,alias:t}])}return iD().loadRemote(`${t}/${r}`)};function iN({pluginFn:t,props:r}){return t(r)}function iT({plugin:t,props:r,field:n}){let{loadPlugin:i}=function({plugin:t}){return{pluginRuntime:iD(),loadPlugin:()=>iR(t.moduleName,t.name,t.baseURL)}}({plugin:t}),[a,o]=(0,C.useState)(null),[s,l]=(0,C.useState)(null),u=`${t.moduleName}-${t.name}`,c=(0,C.useRef)(u);if((0,C.useEffect)(()=>{c.current=u,l(null),i().then(t=>{o(t)}).catch(r=>{o(null),console.error(`PluginLoaderComponent: Error loading plugin ${t.name} from module ${t.moduleName}:`,r),l(Error(`PluginLoaderComponent: Error loading plugin ${t.name} from module ${t.moduleName}`))})},[u]),s)throw s;if(!a)return null;let d=a[t.name];if(n&&d&&"object"==typeof d&&n in d&&(d=d[n]),!d)throw Error(`PluginLoaderComponent: Plugin module ${t.moduleName} does not have a ${t.name} export`);if("function"!=typeof d)throw Error(`PluginLoaderComponent: Plugin ${t.name} export is not a function`);return c.current!==u?null:(0,p.jsx)(iN,{pluginFn:d,props:r},u)}let iI=t=>"object"==typeof t&&null!==t&&"kind"in t&&"spec"in t&&"object"==typeof t.spec&&null!==t.spec&&"name"in t.spec,iV=t=>"object"==typeof t&&null!==t&&"metadata"in t&&"spec"in t&&"object"==typeof t.spec&&null!==t.spec&&"plugins"in t.spec&&Array.isArray(t.spec.plugins)&&t.spec.plugins.every(iI),iz="/api/v1/plugins",iL="/plugins";function iF(t){let{pluginsApiPath:r,pluginsAssetsPath:n}=void 0===t?{pluginsApiPath:iz,pluginsAssetsPath:iL}:{pluginsApiPath:`${t?.apiPrefix??""}${iz}`,pluginsAssetsPath:`${t?.baseURL??""}${iL}`};return{getInstalledPlugins:async()=>{let t=await fetch(r),n=await t.json(),i=[];return Array.isArray(n)?i=n.filter(iV):console.error("RemotePluginLoader: Error loading plugins, response is not an array"),i.length||console.error("RemotePluginLoader: No valid plugins found"),i},importPluginModule:async t=>{let r=t.metadata.name,i={};for(let a of t.spec.plugins){let t=await iR(r,a.spec.name,n),o=t?.[a.spec.name];o?i[a.spec.name]=o:console.error(`RemotePluginLoader: Error loading plugin ${a.spec.name}`)}return i}}}},23836:function(t,r,n){"use strict";var i=n(84499),a=n(36678),o=n(90376);t.exports=n(39707)||i.call(o,a)},36678:function(t){"use strict";t.exports=Function.prototype.apply},90376:function(t){"use strict";t.exports=Function.prototype.call},50946:function(t,r,n){"use strict";var i=n(84499),a=n(1711),o=n(90376),s=n(23836);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new a("a function is required");return s(i,o,t)}},39707:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},93232:function(t,r,n){"use strict";var i=n(68897),a=n(50946),o=a([i("%String.prototype.indexOf%")]);t.exports=function(t,r){var n=i(t,!!r);return"function"==typeof n&&o(t,".prototype.")>-1?a([n]):n}},78784:function(t){function r(){for(var t,r,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=function t(r){var n,i,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r)if(Array.isArray(r)){var o=r.length;for(n=0;n<o;n++)r[n]&&(i=t(r[n]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i);return a}(t))&&(i&&(i+=" "),i+=r);return i}t.exports=r,t.exports.clsx=r},71724:function(t,r,n){"use strict";var i,a=n(50946),o=n(91399);try{i=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!i&&o&&o(Object.prototype,"__proto__"),l=Object,u=l.getPrototypeOf;t.exports=s&&"function"==typeof s.get?a([s.get]):"function"==typeof u&&function(t){return u(null==t?t:l(t))}},67539:function(t){"use strict";var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch(t){r=!1}t.exports=r},83841:function(t){"use strict";t.exports=EvalError},50219:function(t){"use strict";t.exports=Error},76190:function(t){"use strict";t.exports=RangeError},83950:function(t){"use strict";t.exports=ReferenceError},76296:function(t){"use strict";t.exports=SyntaxError},1711:function(t){"use strict";t.exports=TypeError},13221:function(t){"use strict";t.exports=URIError},7960:function(t){"use strict";t.exports=Object},90568:function(t,r){(function(t){"use strict";function r(t){return function(r,n,i,a,o,s,l){return t(r,n,l)}}function n(t){return function(r,n,i,a){if(!r||!n||"object"!=typeof r||"object"!=typeof n)return t(r,n,i,a);var o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i,a);return a.delete(r),a.delete(n),l}}function i(t,r){var n={};for(var i in t)n[i]=t[i];for(var i in r)n[i]=r[i];return n}function a(t){return t.constructor===Object||null==t.constructor}function o(t){return"function"==typeof t.then}function s(t,r){return t===r||t!=t&&r!=r}var l=Object.prototype.toString;function u(t){var r=t.areArraysEqual,n=t.areDatesEqual,i=t.areMapsEqual,u=t.areObjectsEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,p=(0,t.createIsNestedEqual)(f);function f(t,f,h){if(t===f)return!0;if(!t||!f||"object"!=typeof t||"object"!=typeof f)return t!=t&&f!=f;if(a(t)&&a(f))return u(t,f,p,h);var m=Array.isArray(t),g=Array.isArray(f);if(m||g)return m===g&&r(t,f,p,h);var y=l.call(t);return y===l.call(f)&&("[object Date]"===y?n(t,f,p,h):"[object RegExp]"===y?c(t,f,p,h):"[object Map]"===y?i(t,f,p,h):"[object Set]"===y?d(t,f,p,h):"[object Object]"===y||"[object Arguments]"===y?!(o(t)||o(f))&&u(t,f,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&s(t.valueOf(),f.valueOf()))}return f}function c(t,r,n,i){var a=t.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n(t[a],r[a],a,a,t,r,i))return!1;return!0}var d=n(c);function p(t,r){return s(t.valueOf(),r.valueOf())}function f(t,r,n,i){var a=t.size===r.size;if(!a)return!1;if(!t.size)return!0;var o={},s=0;return t.forEach(function(l,u){if(a){var c=!1,d=0;r.forEach(function(a,p){!c&&!o[d]&&(c=n(u,p,s,d,t,r,i)&&n(l,a,u,p,t,r,i))&&(o[d]=!0),d++}),s++,a=c}}),a}var h=n(f),m=Object.prototype.hasOwnProperty;function g(t,r,n,i){var a,o=Object.keys(t),s=o.length;if(Object.keys(r).length!==s)return!1;for(;s-- >0;){if("_owner"===(a=o[s])){var l=!!t.$$typeof,u=!!r.$$typeof;if((l||u)&&l!==u)return!1}if(!m.call(r,a)||!n(t[a],r[a],a,a,t,r,i))return!1}return!0}var y=n(g);function v(t,r){return t.source===r.source&&t.flags===r.flags}function b(t,r,n,i){var a=t.size===r.size;if(!a)return!1;if(!t.size)return!0;var o={};return t.forEach(function(s,l){if(a){var u=!1,c=0;r.forEach(function(a,d){!u&&!o[c]&&(u=n(s,a,l,d,t,r,i))&&(o[c]=!0),c++}),a=u}}),a}var x=n(b),w=Object.freeze({areArraysEqual:c,areDatesEqual:p,areMapsEqual:f,areObjectsEqual:g,areRegExpsEqual:v,areSetsEqual:b,createIsNestedEqual:r}),j=Object.freeze({areArraysEqual:d,areDatesEqual:p,areMapsEqual:h,areObjectsEqual:y,areRegExpsEqual:v,areSetsEqual:x,createIsNestedEqual:r}),S=u(w),A=u(i(w,{createIsNestedEqual:function(){return s}})),_=u(j),C=u(i(j,{createIsNestedEqual:function(){return s}}));t.circularDeepEqual=function(t,r){return _(t,r,new WeakMap)},t.circularShallowEqual=function(t,r){return C(t,r,new WeakMap)},t.createCustomCircularEqual=function(t){var r=u(i(j,t(j)));return function(t,n,i){return void 0===i&&(i=new WeakMap),r(t,n,i)}},t.createCustomEqual=function(t){return u(i(w,t(w)))},t.deepEqual=function(t,r){return S(t,r,void 0)},t.sameValueZeroEqual=s,t.shallowEqual=function(t,r){return A(t,r,void 0)},Object.defineProperty(t,"__esModule",{value:!0})})(r)},35845:function(t){"use strict";var r=Object.prototype.toString,n=Math.max,i=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var a=0;a<r.length;a+=1)n[a+t.length]=r[a];return n},a=function(t,r){for(var n=[],i=r||0,a=0;i<t.length;i+=1,a+=1)n[a]=t[i];return n},o=function(t,r){for(var n="",i=0;i<t.length;i+=1)n+=t[i],i+1<t.length&&(n+=r);return n};t.exports=function(t){var s,l=this;if("function"!=typeof l||"[object Function]"!==r.apply(l))throw TypeError("Function.prototype.bind called on incompatible "+l);for(var u=a(arguments,1),c=n(0,l.length-u.length),d=[],p=0;p<c;p++)d[p]="$"+p;if(s=Function("binder","return function ("+o(d,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var r=l.apply(this,i(u,arguments));return Object(r)===r?r:this}return l.apply(t,i(u,arguments))}),l.prototype){var f=function(){};f.prototype=l.prototype,s.prototype=new f,f.prototype=null}return s}},84499:function(t,r,n){"use strict";var i=n(35845);t.exports=Function.prototype.bind||i},68897:function(t,r,n){"use strict";var i,a=n(7960),o=n(50219),s=n(83841),l=n(76190),u=n(83950),c=n(76296),d=n(1711),p=n(13221),f=n(74822),h=n(83700),m=n(93888),g=n(24670),y=n(19988),v=n(95786),b=n(93897),x=Function,w=function(t){try{return x('"use strict"; return ('+t+").constructor;")()}catch(t){}},j=n(91399),S=n(67539),A=function(){throw new d},_=j?function(){try{return arguments.callee,A}catch(t){try{return j(arguments,"callee").get}catch(t){return A}}}():A,C=n(14923)(),O=n(56152),E=n(79548),k=n(21588),M=n(36678),P=n(90376),D={},R="undefined"!=typeof Uint8Array&&O?O(Uint8Array):i,N={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":C&&O?O([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?i:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":D,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&O?O(O([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&C&&O?O(new Map()[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":j,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":l,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&C&&O?O(new Set()[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&O?O(""[Symbol.iterator]()):i,"%Symbol%":C?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":_,"%TypedArray%":R,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":M,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":E,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":v,"%Math.sign%":b,"%Reflect.getPrototypeOf%":k};if(O)try{null.error}catch(t){var T=O(O(t));N["%Error.prototype%"]=T}var I=function t(r){var n;if("%AsyncFunction%"===r)n=w("async function () {}");else if("%GeneratorFunction%"===r)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===r)n=w("async function* () {}");else if("%AsyncGenerator%"===r){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===r){var a=t("%AsyncGenerator%");a&&O&&(n=O(a.prototype))}return N[r]=n,n},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=n(84499),L=n(24313),F=z.call(P,Array.prototype.concat),$=z.call(M,Array.prototype.splice),B=z.call(P,String.prototype.replace),q=z.call(P,String.prototype.slice),H=z.call(P,RegExp.prototype.exec),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,Q=function(t){var r=q(t,0,1),n=q(t,-1);if("%"===r&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==r)throw new c("invalid intrinsic syntax, expected opening `%`");var i=[];return B(t,U,function(t,r,n,a){i[i.length]=n?B(a,W,"$1"):r||t}),i},Z=function(t,r){var n,i=t;if(L(V,i)&&(i="%"+(n=V[i])[0]+"%"),L(N,i)){var a=N[i];if(a===D&&(a=I(i)),void 0===a&&!r)throw new d("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,r){if("string"!=typeof t||0===t.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof r)throw new d('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Q(t),i=n.length>0?n[0]:"",a=Z("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],$(n,F([0,1],u)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],m=q(h,0,1),g=q(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),i+="."+h,L(N,o="%"+i+"%"))s=N[o];else if(null!=s){if(!(h in s)){if(!r)throw new d("base intrinsic for "+t+" exists, but the property is not available.");return}if(j&&p+1>=n.length){var y=j(s,h);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[h]}else f=L(s,h),s=s[h];f&&!l&&(N[o]=s)}}return s}},79548:function(t,r,n){"use strict";t.exports=n(7960).getPrototypeOf||null},21588:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},56152:function(t,r,n){"use strict";var i=n(21588),a=n(79548),o=n(71724);t.exports=i?function(t){return i(t)}:a?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("getProto: not an object");return a(t)}:o?function(t){return o(t)}:null},6433:function(t){"use strict";t.exports=Object.getOwnPropertyDescriptor},91399:function(t,r,n){"use strict";var i=n(6433);if(i)try{i([],"length")}catch(t){i=null}t.exports=i},14923:function(t,r,n){"use strict";var i="undefined"!=typeof Symbol&&Symbol,a=n(14361);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&a()}},14361:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},r=Symbol("test"),n=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var i in t[r]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var a=Object.getOwnPropertySymbols(t);if(1!==a.length||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,r);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},24313:function(t,r,n){"use strict";var i=Function.prototype.call,a=Object.prototype.hasOwnProperty;t.exports=n(84499).call(i,a)},74822:function(t){"use strict";t.exports=Math.abs},83700:function(t){"use strict";t.exports=Math.floor},93943:function(t){"use strict";t.exports=Number.isNaN||function(t){return t!=t}},93888:function(t){"use strict";t.exports=Math.max},24670:function(t){"use strict";t.exports=Math.min},19988:function(t){"use strict";t.exports=Math.pow},95786:function(t){"use strict";t.exports=Math.round},93897:function(t,r,n){"use strict";var i=n(93943);t.exports=function(t){return i(t)||0===t?t:t<0?-1:1}},4178:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z","Alert")},74830:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z","AlertCircle")},35050:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z","ArrowCollapse")},46001:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z","ArrowDown")},53493:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z","ArrowExpand")},65168:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z","ArrowUp")},69525:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M22 5V7H19V10H17V7H14V5H17V2H19V5H22M19 19H5V5H11V3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V13H19V19M15 13V17H17V13H15M11 17H13V9H11V17M9 17V11H7V17H9Z","ChartBoxPlusOutline")},27794:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z","ChevronLeft")},38990:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z","ChevronUp")},42514:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7Z","ClipboardOutline")},65707:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z","CodeBraces")},50172:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z","ContentCopy")},30576:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z","ContentDuplicate")},72795:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M18.68,12.32C16.92,10.56 14.07,10.57 12.32,12.33C10.56,14.09 10.56,16.94 12.32,18.69C13.81,20.17 16.11,20.43 17.89,19.32L21,22.39L22.39,21L19.3,17.89C20.43,16.12 20.17,13.8 18.68,12.32M17.27,17.27C16.29,18.25 14.71,18.24 13.73,17.27C12.76,16.29 12.76,14.71 13.74,13.73C14.71,12.76 16.29,12.76 17.27,13.73C18.24,14.71 18.24,16.29 17.27,17.27M10.9,20.1C10.25,19.44 9.74,18.65 9.42,17.78C6.27,17.25 4,15.76 4,14V17C4,19.21 7.58,21 12,21V21C11.6,20.74 11.23,20.44 10.9,20.1M4,9V12C4,13.68 6.07,15.12 9,15.7C9,15.63 9,15.57 9,15.5C9,14.57 9.2,13.65 9.58,12.81C6.34,12.3 4,10.79 4,9M12,3C7.58,3 4,4.79 4,7C4,9 7,10.68 10.85,11H10.9C12.1,9.74 13.76,9 15.5,9C16.41,9 17.31,9.19 18.14,9.56C19.17,9.09 19.87,8.12 20,7C20,4.79 16.42,3 12,3Z","DatabaseSearch")},97090:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M13,5V11H14.17L12,13.17L9.83,11H11V5H13M15,3H9V9H5L12,16L19,9H15V3M19,18H5V20H19V18Z","DownloadOutline")},61318:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z","DragVertical")},65241:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z","Launch")},14637:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z","Menu")},84864:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7","MinusCircleOutline")},10571:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z","OpenInNew")},49603:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z","Pencil")},59909:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z","PencilOutline")},80154:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M8,6.2V4H7V2H17V4H16V12L18,14V16H17.8L14,12.2V4H10V8.2L8,6.2M20,20.7L18.7,22L12.8,16.1V22H11.2V16H6V14L8,12V11.3L2,5.3L3.3,4L20,20.7M8.8,14H10.6L9.7,13.1L8.8,14Z","PinOffOutline")},2859:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M11,7H13V11H17V13H13V17H11V13H7V11H11V7Z","PlusBoxOutline")},86138:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z","PlusCircleOutline")},74987:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z","Refresh")},24483:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z","Reload")},4150:function(t,r,n){"use strict";var i;r.default=void 0,r.default=(0,((i=n(1448))&&i.__esModule?i:{default:i}).default)("M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z","TrashCan")},28527:function(t,r,n){var i="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&a&&"function"==typeof a.get?a.get:null,s=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&u&&"function"==typeof u.get?u.get:null,d=l&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,g=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,b=String.prototype.slice,x=String.prototype.replace,w=String.prototype.toUpperCase,j=String.prototype.toLowerCase,S=RegExp.prototype.test,A=Array.prototype.concat,_=Array.prototype.join,C=Array.prototype.slice,O=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P?"object":"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,N=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function T(t,r){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,r))return r;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-O(-t):O(t);if(i!==t){var a=String(i),o=b.call(r,a.length+1);return x.call(a,n,"$&_")+"."+x.call(x.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(r,n,"$&_")}var I=n(23712),V=I.custom,z=U(V)?V:null,L={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function $(t,r,n){var i=L[n.quoteStyle||r];return i+t+i}function B(t){return!D||!("object"==typeof t&&(D in t||void 0!==t[D]))}function q(t){return"[object Array]"===Z(t)&&B(t)}function H(t){return"[object RegExp]"===Z(t)&&B(t)}function U(t){if(P)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!M)return!1;try{return M.call(t),!0}catch(t){}return!1}t.exports=function t(r,i,a,l){var u,g,w,S,O,k=i||{};if(Q(k,"quoteStyle")&&!Q(L,k.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(Q(k,"maxStringLength")&&("number"==typeof k.maxStringLength?k.maxStringLength<0&&k.maxStringLength!==1/0:null!==k.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var V=!Q(k,"customInspect")||k.customInspect;if("boolean"!=typeof V&&"symbol"!==V)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(k,"indent")&&null!==k.indent&&"	"!==k.indent&&!(parseInt(k.indent,10)===k.indent&&k.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(k,"numericSeparator")&&"boolean"!=typeof k.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var W=k.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function t(r,n){if(r.length>n.maxStringLength){var i=r.length-n.maxStringLength;return t(b.call(r,0,n.maxStringLength),n)+("... "+i)+" more character"+(i>1?"s":"")}var a=F[n.quoteStyle||"single"];return a.lastIndex=0,$(x.call(x.call(r,a,"\\$1"),/[\x00-\x1f]/g,K),"single",n)}(r,k);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var er=String(r);return W?T(r,er):er}if("bigint"==typeof r){var en=String(r)+"n";return W?T(r,en):en}var ei=void 0===k.depth?5:k.depth;if(void 0===a&&(a=0),a>=ei&&ei>0&&"object"==typeof r)return q(r)?"[Array]":"[Object]";var ea=function(t,r){var n;if("	"===t.indent)n="	";else{if("number"!=typeof t.indent||!(t.indent>0))return null;n=_.call(Array(t.indent+1)," ")}return{base:n,prev:_.call(Array(r+1),n)}}(k,a);if(void 0===l)l=[];else if(G(l,r)>=0)return"[Circular]";function eo(r,n,i){if(n&&(l=C.call(l)).push(n),i){var o={depth:k.depth};return Q(k,"quoteStyle")&&(o.quoteStyle=k.quoteStyle),t(r,o,a+1,l)}return t(r,k,a+1,l)}if("function"==typeof r&&!H(r)){var es=function(t){if(t.name)return t.name;var r=v.call(y.call(t),/^function\s*([\w$]+)/);return r?r[1]:null}(r),el=et(r,eo);return"[Function"+(es?": "+es:" (anonymous)")+"]"+(el.length>0?" { "+_.call(el,", ")+" }":"")}if(U(r)){var eu=P?x.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(r);return"object"!=typeof r||P?eu:J(eu)}if((ec=r)&&"object"==typeof ec&&("undefined"!=typeof HTMLElement&&ec instanceof HTMLElement||"string"==typeof ec.nodeName&&"function"==typeof ec.getAttribute)){for(var ec,ed,ep="<"+j.call(String(r.nodeName)),ef=r.attributes||[],eh=0;eh<ef.length;eh++){ep+=" "+ef[eh].name+"="+$((ed=ef[eh].value,x.call(String(ed),/"/g,"&quot;")),"double",k)}return ep+=">",r.childNodes&&r.childNodes.length&&(ep+="..."),ep+="</"+j.call(String(r.nodeName))+">"}if(q(r)){if(0===r.length)return"[]";var em=et(r,eo);return ea&&!function(t){for(var r=0;r<t.length;r++)if(G(t[r],"\n")>=0)return!1;return!0}(em)?"["+ee(em,ea)+"]":"[ "+_.call(em,", ")+" ]"}if("[object Error]"===Z(u=r)&&B(u)){var eg=et(r,eo);return"cause"in Error.prototype||!("cause"in r)||R.call(r,"cause")?0===eg.length?"["+String(r)+"]":"{ ["+String(r)+"] "+_.call(eg,", ")+" }":"{ ["+String(r)+"] "+_.call(A.call("[cause]: "+eo(r.cause),eg),", ")+" }"}if("object"==typeof r&&V){if(z&&"function"==typeof r[z]&&I)return I(r,{depth:ei-a});else if("symbol"!==V&&"function"==typeof r.inspect)return r.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(r)){var ey=[];return s&&s.call(r,function(t,n){ey.push(eo(n,r,!0)+" => "+eo(t,r))}),X("Map",o.call(r),ey,ea)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(r)){var ev=[];return d&&d.call(r,function(t){ev.push(eo(t,r))}),X("Set",c.call(r),ev,ea)}if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(r))return Y("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(r))return Y("WeakSet");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}(r))return Y("WeakRef");if("[object Number]"===Z(g=r)&&B(g))return J(eo(Number(r)));if(function(t){if(!t||"object"!=typeof t||!E)return!1;try{return E.call(t),!0}catch(t){}return!1}(r))return J(eo(E.call(r)));if("[object Boolean]"===Z(w=r)&&B(w))return J(m.call(r));if("[object String]"===Z(S=r)&&B(S))return J(eo(String(r)));if("undefined"!=typeof window&&r===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&r===globalThis||void 0!==n.g&&r===n.g)return"{ [object globalThis] }";if(!("[object Date]"===Z(O=r)&&B(O))&&!H(r)){var eb=et(r,eo),ex=N?N(r)===Object.prototype:r instanceof Object||r.constructor===Object,ew=r instanceof Object?"":"null prototype",ej=!ex&&D&&Object(r)===r&&D in r?b.call(Z(r),8,-1):ew?"Object":"",eS=(ex||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(ej||ew?"["+_.call(A.call([],ej||[],ew||[]),": ")+"] ":"");return 0===eb.length?eS+"{}":ea?eS+"{"+ee(eb,ea)+"}":eS+"{ "+_.call(eb,", ")+" }"}return String(r)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function Q(t,r){return W.call(t,r)}function Z(t){return g.call(t)}function G(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,i=t.length;n<i;n++)if(t[n]===r)return n;return -1}function K(t){var r=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return n?"\\"+n:"\\x"+(r<16?"0":"")+w.call(r.toString(16))}function J(t){return"Object("+t+")"}function Y(t){return t+" { ? }"}function X(t,r,n,i){return t+" ("+r+") {"+(i?ee(n,i):_.call(n,", "))+"}"}function ee(t,r){if(0===t.length)return"";var n="\n"+r.prev+r.base;return n+_.call(t,","+n)+"\n"+r.prev}function et(t,r){var n,i=q(t),a=[];if(i){a.length=t.length;for(var o=0;o<t.length;o++)a[o]=Q(t,o)?r(t[o],t):""}var s="function"==typeof k?k(t):[];if(P){n={};for(var l=0;l<s.length;l++)n["$"+s[l]]=s[l]}for(var u in t)if(Q(t,u)&&(!i||String(Number(u))!==u||!(u<t.length)))if(P&&n["$"+u]instanceof Symbol)continue;else S.call(/[^\w$]/,u)?a.push(r(u,t)+": "+r(t[u],t)):a.push(u+": "+r(t[u],t));if("function"==typeof k)for(var c=0;c<s.length;c++)R.call(t,s[c])&&a.push("["+r(s[c])+"]: "+r(t[s[c]],t));return a}},60769:function(t){"use strict";var r=String.prototype.replace,n=/%20/g,i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return r.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:i}},8985:function(t,r,n){"use strict";var i=n(41088),a=n(52286);t.exports={formats:n(60769),parse:a,stringify:i}},52286:function(t,r,n){"use strict";var i=n(65364),a=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(t,r,n){if(t&&"string"==typeof t&&r.comma&&t.indexOf(",")>-1)return t.split(",");if(r.throwOnLimitExceeded&&n>=r.arrayLimit)throw RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(1===r.arrayLimit?"":"s")+" allowed in an array.");return t},u=function(t,r){var n={__proto__:null},u=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=r.parameterLimit===1/0?void 0:r.parameterLimit,d=u.split(r.delimiter,r.throwOnLimitExceeded?c+1:c);if(r.throwOnLimitExceeded&&d.length>c)throw RangeError("Parameter limit exceeded. Only "+c+" parameter"+(1===c?"":"s")+" allowed.");var p=-1,f=r.charset;if(r.charsetSentinel)for(h=0;h<d.length;++h)0===d[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[h]?f="utf-8":"utf8=%26%2310003%3B"===d[h]&&(f="iso-8859-1"),p=h,h=d.length);for(h=0;h<d.length;++h)if(h!==p){var h,m,g,y=d[h],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;if(-1===b?(m=r.decoder(y,s.decoder,f,"key"),g=r.strictNullHandling?null:""):null!==(m=r.decoder(y.slice(0,b),s.decoder,f,"key"))&&(g=i.maybeMap(l(y.slice(b+1),r,o(n[m])?n[m].length:0),function(t){return r.decoder(t,s.decoder,f,"value")})),g&&r.interpretNumericEntities&&"iso-8859-1"===f&&(g=String(g).replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})),y.indexOf("[]=")>-1&&(g=o(g)?[g]:g),null!==m){var x=a.call(n,m);x&&"combine"===r.duplicates?n[m]=i.combine(n[m],g,r.arrayLimit,r.plainObjects):x&&"last"!==r.duplicates||(n[m]=g)}}return n},c=function(t,r,n,a){var o=0;if(t.length>0&&"[]"===t[t.length-1]){var s=t.slice(0,-1).join("");o=Array.isArray(r)&&r[s]?r[s].length:0}for(var u=a?r:l(r,n,o),c=t.length-1;c>=0;--c){var d,p=t[c];if("[]"===p&&n.parseArrays)d=i.isOverflow(u)?u:n.allowEmptyArrays&&(""===u||n.strictNullHandling&&null===u)?[]:i.combine([],u,n.arrayLimit,n.plainObjects);else{d=n.plainObjects?{__proto__:null}:{};var f="["===p.charAt(0)&&"]"===p.charAt(p.length-1)?p.slice(1,-1):p,h=n.decodeDotInKeys?f.replace(/%2E/g,"."):f,m=parseInt(h,10);n.parseArrays||""!==h?!isNaN(m)&&p!==h&&String(m)===h&&m>=0&&n.parseArrays&&m<=n.arrayLimit?(d=[])[m]=u:"__proto__"!==h&&(d[h]=u):d={0:u}}u=d}return u},d=function(t,r){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t;if(r.depth<=0){if(!r.plainObjects&&a.call(Object.prototype,n)&&!r.allowPrototypes)return;return[n]}var i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),s=o?n.slice(0,o.index):n,l=[];if(s){if(!r.plainObjects&&a.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var u=0;null!==(o=i.exec(n))&&u<r.depth;){u+=1;var c=o[1].slice(1,-1);if(!r.plainObjects&&a.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(o[1])}if(o){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");l.push("["+n.slice(o.index)+"]")}return l},p=function(t,r,n,i){if(t){var a=d(t,n);if(a)return c(a,r,n,i)}},f=function(t){if(!t)return s;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==t.throwOnLimitExceeded&&"boolean"!=typeof t.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var r=void 0===t.charset?s.charset:t.charset,n=void 0===t.duplicates?s.duplicates:t.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||s.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:r,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,duplicates:n,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof t.throwOnLimitExceeded&&t.throwOnLimitExceeded}};t.exports=function(t,r){var n=f(r);if(""===t||null==t)return n.plainObjects?{__proto__:null}:{};for(var a="string"==typeof t?u(t,n):t,o=n.plainObjects?{__proto__:null}:{},s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],d=p(c,a[c],n,"string"==typeof t);o=i.merge(o,d,n)}return!0===n.allowSparse?o:i.compact(o)}},41088:function(t,r,n){"use strict";var i=n(10588),a=n(65364),o=n(60769),s=Object.prototype.hasOwnProperty,l={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},u=Array.isArray,c=Array.prototype.push,d=function(t,r){c.apply(t,u(r)?r:[r])},p=Date.prototype.toISOString,f=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},m={},g=function t(r,n,o,s,l,c,p,f,g,y,v,b,x,w,j,S,A,_){for(var C,O,E=r,k=_,M=0,P=!1;void 0!==(k=k.get(m))&&!P;){var D=k.get(r);if(M+=1,void 0!==D)if(D===M)throw RangeError("Cyclic object value");else P=!0;void 0===k.get(m)&&(M=0)}if("function"==typeof y?E=y(n,E):E instanceof Date?E=x(E):"comma"===o&&u(E)&&(E=a.maybeMap(E,function(t){return t instanceof Date?x(t):t})),null===E){if(c)return g&&!S?g(n,h.encoder,A,"key",w):n;E=""}if("string"==typeof(C=E)||"number"==typeof C||"boolean"==typeof C||"symbol"==typeof C||"bigint"==typeof C||a.isBuffer(E))return g?[j(S?n:g(n,h.encoder,A,"key",w))+"="+j(g(E,h.encoder,A,"value",w))]:[j(n)+"="+j(String(E))];var R=[];if(void 0===E)return R;if("comma"===o&&u(E))S&&g&&(E=a.maybeMap(E,g)),O=[{value:E.length>0?E.join(",")||null:void 0}];else if(u(y))O=y;else{var N=Object.keys(E);O=v?N.sort(v):N}var T=f?String(n).replace(/\./g,"%2E"):String(n),I=s&&u(E)&&1===E.length?T+"[]":T;if(l&&u(E)&&0===E.length)return I+"[]";for(var V=0;V<O.length;++V){var z=O[V],L="object"==typeof z&&z&&void 0!==z.value?z.value:E[z];if(!p||null!==L){var F=b&&f?String(z).replace(/\./g,"%2E"):String(z),$=u(E)?"function"==typeof o?o(I,F):I:I+(b?"."+F:"["+F+"]");_.set(r,M);var B=i();B.set(m,_),d(R,t(L,$,o,s,l,c,p,f,"comma"===o&&S&&u(E)?null:g,y,v,b,x,w,j,S,A,B))}}return R},y=function(t){if(!t)return h;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw TypeError("Encoder has to be a function.");var r,n=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw TypeError("Unknown format option provided.");i=t.format}var a=o.formatters[i],c=h.filter;if(("function"==typeof t.filter||u(t.filter))&&(c=t.filter),r=t.arrayFormat in l?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var d=void 0===t.allowDots?!0===t.encodeDotInKeys||h.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:r,charset:n,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:c,format:i,formatter:a,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}};t.exports=function(t,r){var n,a=t,o=y(r);"function"==typeof o.filter?a=(0,o.filter)("",a):u(o.filter)&&(n=o.filter);var s=[];if("object"!=typeof a||null===a)return"";var c=l[o.arrayFormat],p="comma"===c&&o.commaRoundTrip;n||(n=Object.keys(a)),o.sort&&n.sort(o.sort);for(var f=i(),h=0;h<n.length;++h){var m=n[h],v=a[m];o.skipNulls&&null===v||d(s,g(v,m,c,p,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,f))}var b=s.join(o.delimiter),x=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},65364:function(t,r,n){"use strict";var i=n(60769),a=n(10588),o=Object.prototype.hasOwnProperty,s=Array.isArray,l=a(),u=function(t,r){return l.set(t,r),t},c=function(t){return l.has(t)},d=function(t){return l.get(t)},p=function(t,r){l.set(t,r)},f=function(){for(var t=[],r=0;r<256;++r)t.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return t}(),h=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(s(n)){for(var i=[],a=0;a<n.length;++a)void 0!==n[a]&&i.push(n[a]);r.obj[r.prop]=i}}},m=function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n};t.exports={arrayToObject:m,assign:function(t,r){return Object.keys(r).reduce(function(t,n){return t[n]=r[n],t},t)},combine:function(t,r,n,i){if(c(t)){var a=d(t)+1;return t[a]=r,p(t,a),t}var o=[].concat(t,r);return o.length>n?u(m(o,{plainObjects:i}),o.length-1):o},compact:function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],c=o[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(r.push({obj:o,prop:u}),n.push(c))}return h(r),t},decode:function(t,r,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,r,n,a,o){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var l="",u=0;u<s.length;u+=1024){for(var c=s.length>=1024?s.slice(u,u+1024):s,d=[],p=0;p<c.length;++p){var h=c.charCodeAt(p);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===i.RFC1738&&(40===h||41===h)){d[d.length]=c.charAt(p);continue}if(h<128){d[d.length]=f[h];continue}if(h<2048){d[d.length]=f[192|h>>6]+f[128|63&h];continue}if(h<55296||h>=57344){d[d.length]=f[224|h>>12]+f[128|h>>6&63]+f[128|63&h];continue}p+=1,h=65536+((1023&h)<<10|1023&c.charCodeAt(p)),d[d.length]=f[240|h>>18]+f[128|h>>12&63]+f[128|h>>6&63]+f[128|63&h]}l+=d.join("")}return l},isBuffer:function(t){return!!t&&"object"==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isOverflow:c,isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,r){if(s(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},merge:function t(r,n,i){if(!n)return r;if("object"!=typeof n&&"function"!=typeof n){if(s(r))r.push(n);else if(!r||"object"!=typeof r)return[r,n];else if(c(r)){var a=d(r)+1;r[a]=n,p(r,a)}else(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,n))&&(r[n]=!0);return r}if(!r||"object"!=typeof r){if(c(n)){for(var l=Object.keys(n),f=i&&i.plainObjects?{__proto__:null,0:r}:{0:r},h=0;h<l.length;h++)f[parseInt(l[h],10)+1]=n[l[h]];return u(f,d(n)+1)}return[r].concat(n)}var g=r;return(s(r)&&!s(n)&&(g=m(r,i)),s(r)&&s(n))?(n.forEach(function(n,a){if(o.call(r,a)){var s=r[a];s&&"object"==typeof s&&n&&"object"==typeof n?r[a]=t(s,n,i):r.push(n)}else r[a]=n}),r):Object.keys(n).reduce(function(r,a){var s=n[a];return o.call(r,a)?r[a]=t(r[a],s,i):r[a]=s,r},g)}}},9111:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=f(n(62688)),o=f(n(20231)),s=f(n(38262)),l=n(32837),u=n(10402),c=n(26732),d=f(n(11060)),p=f(n(57988));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:r})(t)}function m(){return(m=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function g(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}class y extends i.Component{static getDerivedStateFromProps(t,r){let{position:n}=t,{prevPropsPosition:i}=r;return n&&(!i||n.x!==i.x||n.y!==i.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(t){super(t),g(this,"onDragStart",(t,r)=>{if((0,p.default)("Draggable: onDragStart: %j",r),!1===this.props.onStart(t,(0,u.createDraggableData)(this,r)))return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(t,r)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",r);let n=(0,u.createDraggableData)(this,r),i={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:t,y:r}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;let[a,o]=(0,u.getBoundPosition)(this,i.x,i.y);i.x=a,i.y=o,i.slackX=this.state.slackX+(t-i.x),i.slackY=this.state.slackY+(r-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-this.state.x,n.deltaY=i.y-this.state.y}if(!1===this.props.onDrag(t,n))return!1;this.setState(i)}),g(this,"onDragStop",(t,r)=>{if(!this.state.dragging||!1===this.props.onStop(t,(0,u.createDraggableData)(this,r)))return!1;(0,p.default)("Draggable: onDragStop: %j",r);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:t,y:r}=this.props.position;n.x=t,n.y=r}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:{...t.position},slackX:0,slackY:0,isElementSVG:!1},t.position&&!(t.onDrag||t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var t,r;return null!=(t=null==(r=this.props)||null==(r=r.nodeRef)?void 0:r.current)?t:o.default.findDOMNode(this)}render(){let{axis:t,bounds:r,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:c,defaultClassNameDragged:p,position:f,positionOffset:h,scale:g,...y}=this.props,v={},b=null,x=!f||this.state.dragging,w=f||a,j={x:(0,u.canDragX)(this)&&x?this.state.x:w.x,y:(0,u.canDragY)(this)&&x?this.state.y:w.y};this.state.isElementSVG?b=(0,l.createSVGTransform)(j,h):v=(0,l.createCSSTransform)(j,h);let S=(0,s.default)(n.props.className||"",o,{[c]:this.state.dragging,[p]:this.state.dragged});return i.createElement(d.default,m({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:{...n.props.style,...v},transform:b}))}}r.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...d.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(y,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},11060:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=d(n(62688)),o=d(n(20231)),s=n(32837),l=n(10402),u=n(26732),c=d(n(57988));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:r})(t)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h={start:"touchstart",move:"touchmove",stop:"touchend"},m={start:"mousedown",move:"mousemove",stop:"mouseup"},g=m;class y extends i.Component{constructor(){super(...arguments),f(this,"dragging",!1),f(this,"lastX",NaN),f(this,"lastY",NaN),f(this,"touchIdentifier",null),f(this,"mounted",!1),f(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;let r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;"touchstart"===t.type&&t.preventDefault();let i=(0,s.getTouchIdentifier)(t);this.touchIdentifier=i;let a=(0,l.getControlPosition)(t,i,this);if(null==a)return;let{x:o,y:u}=a,d=(0,l.createCoreData)(this,o,u);(0,c.default)("DraggableCore: handleDragStart: %j",d),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(t,d)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=u,(0,s.addEvent)(n,g.move,this.handleDrag),(0,s.addEvent)(n,g.stop,this.handleDragStop))}),f(this,"handleDrag",t=>{let r=(0,l.getControlPosition)(t,this.touchIdentifier,this);if(null==r)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let t=n-this.lastX,r=i-this.lastY;if([t,r]=(0,l.snapToGrid)(this.props.grid,t,r),!t&&!r)return;n=this.lastX+t,i=this.lastY+r}let a=(0,l.createCoreData)(this,n,i);if((0,c.default)("DraggableCore: handleDrag: %j",a),!1===this.props.onDrag(t,a)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(r){let t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}return}this.lastX=n,this.lastY=i}),f(this,"handleDragStop",t=>{if(!this.dragging)return;let r=(0,l.getControlPosition)(t,this.touchIdentifier,this);if(null==r)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let t=n-this.lastX||0,r=i-this.lastY||0;[t,r]=(0,l.snapToGrid)(this.props.grid,t,r),n=this.lastX+t,i=this.lastY+r}let a=(0,l.createCoreData)(this,n,i);if(!1===this.props.onStop(t,a)||!1===this.mounted)return!1;let o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(o.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(o.ownerDocument,g.move,this.handleDrag),(0,s.removeEvent)(o.ownerDocument,g.stop,this.handleDragStop))}),f(this,"onMouseDown",t=>(g=m,this.handleDragStart(t))),f(this,"onMouseUp",t=>(g=m,this.handleDragStop(t))),f(this,"onTouchStart",t=>(g=h,this.handleDragStart(t))),f(this,"onTouchEnd",t=>(g=h,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;let t=this.findDOMNode();t&&(0,s.addEvent)(t,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let t=this.findDOMNode();if(t){let{ownerDocument:r}=t;(0,s.removeEvent)(r,m.move,this.handleDrag),(0,s.removeEvent)(r,h.move,this.handleDrag),(0,s.removeEvent)(r,m.stop,this.handleDragStop),(0,s.removeEvent)(r,h.stop,this.handleDragStop),(0,s.removeEvent)(t,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return null!=(t=this.props)&&t.nodeRef?null==(r=this.props)||null==(r=r.nodeRef)?void 0:r.current:o.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}r.default=y,f(y,"displayName","DraggableCore"),f(y,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(t,r){if(t[r]&&1!==t[r].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),f(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},38230:function(t,r,n){"use strict";let{default:i,DraggableCore:a}=n(9111);t.exports=i,t.exports.default=i,t.exports.DraggableCore=a},32837:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addClassName=c,r.addEvent=function(t,r,n,i){if(!t)return;let a={capture:!0,...i};t.addEventListener?t.addEventListener(r,n,a):t.attachEvent?t.attachEvent("on"+r,n):t["on"+r]=n},r.addUserSelectStyles=function(t){if(!t)return;let r=t.getElementById("react-draggable-style-el");r||((r=t.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(r)),t.body&&c(t.body,"react-draggable-transparent-selection")},r.createCSSTransform=function(t,r){let n=u(t,r,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},r.createSVGTransform=function(t,r){return u(t,r,"")},r.getTouch=function(t,r){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,t=>r===t.identifier)||t.changedTouches&&(0,i.findInArray)(t.changedTouches,t=>r===t.identifier)},r.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},r.getTranslation=u,r.innerHeight=function(t){let r=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,i.int)(n.paddingTop),r-=(0,i.int)(n.paddingBottom)},r.innerWidth=function(t){let r=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,i.int)(n.paddingLeft),r-=(0,i.int)(n.paddingRight)},r.matchesSelector=l,r.matchesSelectorAndParentsTo=function(t,r,n){let i=t;do{if(l(i,r))return!0;if(i===n)break;i=i.parentNode}while(i);return!1},r.offsetXYFromParent=function(t,r,n){let i=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect();return{x:(t.clientX+r.scrollLeft-i.left)/n,y:(t.clientY+r.scrollTop-i.top)/n}},r.outerHeight=function(t){let r=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,i.int)(n.borderTopWidth),r+=(0,i.int)(n.borderBottomWidth)},r.outerWidth=function(t){let r=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,i.int)(n.borderLeftWidth),r+=(0,i.int)(n.borderRightWidth)},r.removeClassName=d,r.removeEvent=function(t,r,n,i){if(!t)return;let a={capture:!0,...i};t.removeEventListener?t.removeEventListener(r,n,a):t.detachEvent?t.detachEvent("on"+r,n):t["on"+r]=null},r.removeUserSelectStyles=function(t){if(t)try{if(t.body&&d(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{let r=(t.defaultView||window).getSelection();r&&"Caret"!==r.type&&r.removeAllRanges()}}catch(t){}};var i=n(26732),a=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=a?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(47350));function o(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:r})(t)}let s="";function l(t,r){return s||(s=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,i.isFunction)(t[r])})),!!(0,i.isFunction)(t[s])&&t[s](r)}function u(t,r,n){let{x:i,y:a}=t,o="translate(".concat(i).concat(n,",").concat(a).concat(n,")");if(r){let t="".concat("string"==typeof r.x?r.x:r.x+n),i="".concat("string"==typeof r.y?r.y:r.y+n);o="translate(".concat(t,", ").concat(i,")")+o}return o}function c(t,r){t.classList?t.classList.add(r):t.className.match(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)")))||(t.className+=" ".concat(r))}function d(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(RegExp("(?:^|\\s)".concat(r,"(?!\\S)"),"g"),"")}},47350:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.browserPrefixToKey=a,r.browserPrefixToStyle=function(t,r){return r?"-".concat(r.toLowerCase(),"-").concat(t):t},r.default=void 0,r.getPrefix=i;let n=["Moz","Webkit","O","ms"];function i(){var t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";let i=null==(t=window.document)||null==(t=t.documentElement)?void 0:t.style;if(!i||r in i)return"";for(let t=0;t<n.length;t++)if(a(r,n[t])in i)return n[t];return""}function a(t,r){return r?"".concat(r).concat(function(t){let r="",n=!0;for(let i=0;i<t.length;i++)n?(r+=t[i].toUpperCase(),n=!1):"-"===t[i]?n=!0:r+=t[i];return r}(t)):t}r.default=i()},57988:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){}},10402:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},r.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},r.createCoreData=function(t,r,n){let a=!(0,i.isNum)(t.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:r,lastY:n,x:r,y:n}:{node:s,deltaX:r-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:r,y:n}},r.createDraggableData=function(t,r){let n=t.props.scale;return{node:r.node,x:t.state.x+r.deltaX/n,y:t.state.y+r.deltaY/n,deltaX:r.deltaX/n,deltaY:r.deltaY/n,lastX:t.state.x,lastY:t.state.y}},r.getBoundPosition=function(t,r,n){var s;if(!t.props.bounds)return[r,n];let{bounds:l}=t.props;l="string"==typeof l?l:{left:(s=l).left,top:s.top,right:s.right,bottom:s.bottom};let u=o(t);if("string"==typeof l){let t,{ownerDocument:r}=u,n=r.defaultView;if(!((t="parent"===l?u.parentNode:r.querySelector(l))instanceof n.HTMLElement))throw Error('Bounds selector "'+l+'" could not find an element.');let o=n.getComputedStyle(u),s=n.getComputedStyle(t);l={left:-u.offsetLeft+(0,i.int)(s.paddingLeft)+(0,i.int)(o.marginLeft),top:-u.offsetTop+(0,i.int)(s.paddingTop)+(0,i.int)(o.marginTop),right:(0,a.innerWidth)(t)-(0,a.outerWidth)(u)-u.offsetLeft+(0,i.int)(s.paddingRight)-(0,i.int)(o.marginRight),bottom:(0,a.innerHeight)(t)-(0,a.outerHeight)(u)-u.offsetTop+(0,i.int)(s.paddingBottom)-(0,i.int)(o.marginBottom)}}return(0,i.isNum)(l.right)&&(r=Math.min(r,l.right)),(0,i.isNum)(l.bottom)&&(n=Math.min(n,l.bottom)),(0,i.isNum)(l.left)&&(r=Math.max(r,l.left)),(0,i.isNum)(l.top)&&(n=Math.max(n,l.top)),[r,n]},r.getControlPosition=function(t,r,n){let i="number"==typeof r?(0,a.getTouch)(t,r):null;if("number"==typeof r&&!i)return null;let s=o(n),l=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,a.offsetXYFromParent)(i||t,l,n.props.scale)},r.snapToGrid=function(t,r,n){return[Math.round(r/t[0])*t[0],Math.round(n/t[1])*t[1]]};var i=n(26732),a=n(32837);function o(t){let r=t.findDOMNode();if(!r)throw Error("<DraggableCore>: Unmounted during event!");return r}},26732:function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dontSetMe=function(t,r,n){if(t[r])return Error("Invalid prop ".concat(r," passed to ").concat(n," - do not set this, set it on the child."))},r.findInArray=function(t,r){for(let n=0,i=t.length;n<i;n++)if(r.apply(r,[t[n],n,t]))return t[n]},r.int=function(t){return parseInt(t,10)},r.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},r.isNum=function(t){return"number"==typeof t&&!isNaN(t)}},38262:function(t,r,n){"use strict";function i(){for(var t,r,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(r=function t(r){var n,i,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r)if(Array.isArray(r))for(n=0;n<r.length;n++)r[n]&&(i=t(r[n]))&&(a&&(a+=" "),a+=i);else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}(t))&&(i&&(i+=" "),i+=r);return i}n.r(r),n.d(r,{clsx:()=>i,default:()=>a});let a=i},18100:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=f(n(70451)),a=n(20231),o=f(n(62688)),s=n(38230),l=n(50936),u=n(20414),c=n(20906),d=n(47222),p=f(n(78784));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}class m extends i.default.Component{constructor(){super(...arguments),h(this,"state",{resizing:null,dragging:null,className:""}),h(this,"elementRef",i.default.createRef()),h(this,"onDragStart",(t,r)=>{let{node:n}=r,{onDragStart:i,transformScale:a}=this.props;if(!i)return;let o={top:0,left:0},{offsetParent:s}=n;if(!s)return;let l=s.getBoundingClientRect(),u=n.getBoundingClientRect(),d=u.left/a,p=l.left/a,f=u.top/a,h=l.top/a;o.left=d-p+s.scrollLeft,o.top=f-h+s.scrollTop,this.setState({dragging:o});let{x:m,y:g}=(0,c.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return i.call(this,this.props.i,m,g,{e:t,node:n,newPosition:o})}),h(this,"onDrag",(t,r,n)=>{let{node:i,deltaX:o,deltaY:s}=r,{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw Error("onDrag called before onDragStart.");let u=this.state.dragging.top+s,d=this.state.dragging.left+o,{isBounded:p,i:f,w:h,h:m,containerWidth:g}=this.props,y=this.getPositionParams();if(p){let{offsetParent:t}=i;if(t){let{margin:r,rowHeight:n,containerPadding:i}=this.props,a=t.clientHeight-(0,c.calcGridItemWHPx)(m,n,r[1]);u=(0,c.clamp)(u-i[1],0,a);let o=(0,c.calcGridColWidth)(y),s=g-(0,c.calcGridItemWHPx)(h,o,r[0]);d=(0,c.clamp)(d-i[0],0,s)}}let v={top:u,left:d};n?this.setState({dragging:v}):(0,a.flushSync)(()=>{this.setState({dragging:v})});let{x:b,y:x}=(0,c.calcXY)(y,u,d,h,m);return l.call(this,f,b,x,{e:t,node:i,newPosition:v})}),h(this,"onDragStop",(t,r)=>{let{node:n}=r,{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw Error("onDragEnd called before onDragStart.");let{w:a,h:o,i:s}=this.props,{left:l,top:u}=this.state.dragging;this.setState({dragging:null});let{x:d,y:p}=(0,c.calcXY)(this.getPositionParams(),u,l,a,o);return i.call(this,s,d,p,{e:t,node:n,newPosition:{top:u,left:l}})}),h(this,"onResizeStop",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStop")),h(this,"onResizeStart",(t,r,n)=>this.onResizeHandler(t,r,n,"onResizeStart")),h(this,"onResize",(t,r,n)=>this.onResizeHandler(t,r,n,"onResize"))}shouldComponentUpdate(t,r){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;let n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,c.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,r);return!(0,u.fastPositionEqual)(n,i)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){let{droppingPosition:r}=this.props;if(!r)return;let n=this.elementRef.current;if(!n)return;let i=t.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&r.left!==i.left||r.top!==i.top;if(a){if(o){let t=r.left-a.left,i=r.top-a.top;this.onDrag(r.e,{node:n,deltaX:t,deltaY:i},!0)}}else this.onDragStart(r.e,{node:n,deltaX:r.left,deltaY:r.top})}getPositionParams(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){let r,{usePercentages:n,containerWidth:i,useCSSTransforms:a}=this.props;return a?r=(0,u.setTransform)(t):(r=(0,u.setTopLeft)(t),n&&(r.left=(0,u.perc)(t.left/i),r.width=(0,u.perc)(t.width/i))),r}mixinDraggable(t,r){return i.default.createElement(s.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,r){return(n,i)=>r(n,i,t)}mixinResizable(t,r,n){let{cols:a,minW:o,minH:s,maxW:u,maxH:d,transformScale:p,resizeHandles:f,resizeHandle:h}=this.props,m=this.getPositionParams(),g=(0,c.calcGridItemPosition)(m,0,0,a,0).width,y=(0,c.calcGridItemPosition)(m,0,0,o,s),v=(0,c.calcGridItemPosition)(m,0,0,u,d),b=[y.width,y.height],x=[Math.min(v.width,g),Math.min(v.height,1/0)];return i.default.createElement(l.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:b,maxConstraints:x,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:p,resizeHandles:f,handle:h},t)}onResizeHandler(t,r,n,i){let{node:o,size:s,handle:l}=r,d=this.props[i];if(!d)return;let{x:p,y:f,i:h,maxH:m,minH:g,containerWidth:y}=this.props,{minW:v,maxW:b}=this.props,x=s;o&&(x=(0,u.resizeItemInDirection)(l,n,s,y),(0,a.flushSync)(()=>{this.setState({resizing:"onResizeStop"===i?null:x})}));let{w,h:j}=(0,c.calcWH)(this.getPositionParams(),x.width,x.height,p,f,l);w=(0,c.clamp)(w,Math.max(v,1),b),j=(0,c.clamp)(j,g,m),d.call(this,h,w,j,{e:t,node:o,size:x,handle:l})}render(){let{x:t,y:r,w:n,h:a,isDraggable:o,isResizable:s,droppingPosition:l,useCSSTransforms:u}=this.props,d=(0,c.calcGridItemPosition)(this.getPositionParams(),t,r,n,a,this.state),f=i.default.Children.only(this.props.children),h=i.default.cloneElement(f,{ref:this.elementRef,className:(0,p.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:u}),style:{...this.props.style,...f.props.style,...this.createStyle(d)}});return h=this.mixinResizable(h,d,s),h=this.mixinDraggable(h,o)}}r.default=m,h(m,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,r){let n=t[r];return"number"!=typeof n?Error("minWidth not Number"):n>t.w||n>t.maxW?Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,r){let n=t[r];return"number"!=typeof n?Error("maxWidth not Number"):n<t.w||n<t.minW?Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,r){let n=t[r];return"number"!=typeof n?Error("minHeight not Number"):n>t.h||n>t.maxH?Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,r){let n=t[r];return"number"!=typeof n?Error("maxHeight not Number"):n<t.h||n<t.minH?Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:d.resizeHandleAxesType,resizeHandle:d.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),h(m,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},59482:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=p(void 0);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=n(90568),o=d(n(78784)),s=n(20414),l=n(20906),u=d(n(18100)),c=d(n(47222));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(p=function(t){return t?n:r})(t)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h="react-grid-layout",m=!1;try{m=/firefox/i.test(navigator.userAgent)}catch(t){}class g extends i.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,s.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l}=this.state,u=(0,s.getLayoutItem)(l,t);if(!u)return;let c={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l,activeDrag:c}),this.props.onDragStart(l,u,u,null,a,o)}),f(this,"onDrag",(t,r,n,i)=>{let{e:a,node:o}=i,{oldDragItem:l}=this.state,{layout:u}=this.state,{cols:c,allowOverlap:d,preventCollision:p}=this.props,f=(0,s.getLayoutItem)(u,t);if(!f)return;let h={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};u=(0,s.moveElement)(u,f,r,n,!0,p,(0,s.compactType)(this.props),c,d),this.props.onDrag(u,l,f,h,a,o),this.setState({layout:d?u:(0,s.compact)(u,(0,s.compactType)(this.props),c),activeDrag:h})}),f(this,"onDragStop",(t,r,n,i)=>{let{e:a,node:o}=i;if(!this.state.activeDrag)return;let{oldDragItem:l}=this.state,{layout:u}=this.state,{cols:c,preventCollision:d,allowOverlap:p}=this.props,f=(0,s.getLayoutItem)(u,t);if(!f)return;u=(0,s.moveElement)(u,f,r,n,!0,d,(0,s.compactType)(this.props),c,p);let h=p?u:(0,s.compact)(u,(0,s.compactType)(this.props),c);this.props.onDragStop(h,l,f,null,a,o);let{oldLayout:m}=this.state;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,m)}),f(this,"onResizeStart",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l}=this.state,u=(0,s.getLayoutItem)(l,t);u&&(this.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,u,u,null,a,o))}),f(this,"onResize",(t,r,n,i)=>{let a,o,l,{e:u,node:c,size:d,handle:p}=i,{oldResizeItem:f}=this.state,{layout:h}=this.state,{cols:m,preventCollision:g,allowOverlap:y}=this.props,v=!1,[b,x]=(0,s.withLayoutItem)(h,t,t=>(o=t.x,l=t.y,-1!==["sw","w","nw","n","ne"].indexOf(p)&&(-1!==["sw","nw","w"].indexOf(p)&&(o=t.x+(t.w-r),r=t.x!==o&&o<0?t.w:r,o=o<0?0:o),-1!==["ne","n","nw"].indexOf(p)&&(l=t.y+(t.h-n),n=t.y!==l&&l<0?t.h:n,l=l<0?0:l),v=!0),g&&!y&&(0,s.getAllCollisions)(h,{...t,w:r,h:n,x:o,y:l}).filter(r=>r.i!==t.i).length>0&&(l=t.y,n=t.h,o=t.x,r=t.w,v=!1),t.w=r,t.h=n,t));if(!x)return;a=b,v&&(a=(0,s.moveElement)(b,x,o,l,!0,this.props.preventCollision,(0,s.compactType)(this.props),m,y));let w={w:x.w,h:x.h,x:x.x,y:x.y,static:!0,i:t};this.props.onResize(a,f,x,w,u,c),this.setState({layout:y?a:(0,s.compact)(a,(0,s.compactType)(this.props),m),activeDrag:w})}),f(this,"onResizeStop",(t,r,n,i)=>{let{e:a,node:o}=i,{layout:l,oldResizeItem:u}=this.state,{cols:c,allowOverlap:d}=this.props,p=(0,s.getLayoutItem)(l,t),f=d?l:(0,s.compact)(l,(0,s.compactType)(this.props),c);this.props.onResizeStop(f,u,p,null,a,o);let{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(f,h)}),f(this,"onDragOver",t=>{if(t.preventDefault(),t.stopPropagation(),m&&!t.nativeEvent.target?.classList.contains(h))return!1;let{droppingItem:r,onDropDragOver:n,margin:a,cols:o,rowHeight:s,maxRows:u,width:c,containerPadding:d,transformScale:p}=this.props,f=n?.(t);if(!1===f)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;let g={...r,...f},{layout:y}=this.state,v=t.currentTarget.getBoundingClientRect(),b=t.clientX-v.left,x=t.clientY-v.top,w={left:b/p,top:x/p,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){let{left:t,top:r}=this.state.droppingPosition;(t!=b||r!=x)&&this.setState({droppingPosition:w})}}else{let t=(0,l.calcXY)({cols:o,margin:a,maxRows:u,rowHeight:s,containerWidth:c,containerPadding:d||a},x,b,g.w,g.h);this.setState({droppingDOMNode:i.createElement("div",{key:g.i}),droppingPosition:w,layout:[...y,{...g,x:t.x,y:t.y,static:!1,isDraggable:!0}]})}}),f(this,"removeDroppingPlaceholder",()=>{let{droppingItem:t,cols:r}=this.props,{layout:n}=this.state,i=(0,s.compact)(n.filter(r=>r.i!==t.i),(0,s.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();let{droppingItem:r}=this.props,{layout:n}=this.state,i=n.find(t=>t.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,i,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,r){let n;return r.activeDrag?null:((0,a.deepEqual)(t.layout,r.propsLayout)&&t.compactType===r.compactType?(0,s.childrenEqual)(t.children,r.children)||(n=r.layout):n=t.layout,n)?{layout:(0,s.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,s.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null}shouldComponentUpdate(t,r){return this.props.children!==t.children||!(0,s.fastRGLPropsEqual)(this.props,t,a.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(t,r){if(!this.state.activeDrag){let t=this.state.layout,n=r.layout;this.onLayoutMaybeChanged(t,n)}}containerHeight(){if(!this.props.autoSize)return;let t=(0,s.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*r+"px"}onLayoutMaybeChanged(t,r){r||(r=this.state.layout),(0,a.deepEqual)(r,t)||this.props.onLayoutChange(t)}placeholder(){let{activeDrag:t}=this.state;if(!t)return null;let{width:r,cols:n,margin:a,containerPadding:o,rowHeight:s,maxRows:l,useCSSTransforms:c,transformScale:d}=this.props;return i.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:n,margin:a,containerPadding:o||a,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:d},i.createElement("div",null))}processGridItem(t,r){if(!t||!t.key)return;let n=(0,s.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;let{width:a,cols:o,margin:l,containerPadding:c,rowHeight:d,maxRows:p,isDraggable:f,isResizable:h,isBounded:m,useCSSTransforms:g,transformScale:y,draggableCancel:v,draggableHandle:b,resizeHandles:x,resizeHandle:w}=this.props,{mounted:j,droppingPosition:S}=this.state,A="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&f,_="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,C=n.resizeHandles||x,O=A&&m&&!1!==n.isBounded;return i.createElement(u.default,{containerWidth:a,cols:o,margin:l,containerPadding:c||l,maxRows:p,rowHeight:d,cancel:v,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:A,isResizable:_,isBounded:O,useCSSTransforms:g&&j,usePercentages:!j,transformScale:y,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:r?S:void 0,resizeHandles:C,resizeHandle:w},t)}render(){let{className:t,style:r,isDroppable:n,innerRef:a}=this.props,l=(0,o.default)(h,t),u={height:this.containerHeight(),...r};return i.createElement("div",{ref:a,className:l,style:u,onDrop:n?this.onDrop:s.noop,onDragLeave:n?this.onDragLeave:s.noop,onDragEnter:n?this.onDragEnter:s.noop,onDragOver:n?this.onDragOver:s.noop},i.Children.map(this.props.children,t=>this.processGridItem(t)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}r.default=g,f(g,"displayName","ReactGridLayout"),f(g,"propTypes",c.default),f(g,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},47222:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resizeHandleType=r.resizeHandleAxesType=r.default=void 0;var i=o(n(62688)),a=o(n(70451));function o(t){return t&&t.__esModule?t:{default:t}}let s=r.resizeHandleAxesType=i.default.arrayOf(i.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=r.resizeHandleType=i.default.oneOfType([i.default.node,i.default.func]);r.default={className:i.default.string,style:i.default.object,width:i.default.number,autoSize:i.default.bool,cols:i.default.number,draggableCancel:i.default.string,draggableHandle:i.default.string,verticalCompact:function(t){t.verticalCompact},compactType:i.default.oneOf(["vertical","horizontal"]),layout:function(t){var r=t.layout;void 0!==r&&n(20414).validateLayout(r,"layout")},margin:i.default.arrayOf(i.default.number),containerPadding:i.default.arrayOf(i.default.number),rowHeight:i.default.number,maxRows:i.default.number,isBounded:i.default.bool,isDraggable:i.default.bool,isResizable:i.default.bool,allowOverlap:i.default.bool,preventCollision:i.default.bool,useCSSTransforms:i.default.bool,transformScale:i.default.number,isDroppable:i.default.bool,resizeHandles:s,resizeHandle:l,onLayoutChange:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onDragStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,onResizeStop:i.default.func,onDrop:i.default.func,droppingItem:i.default.shape({i:i.default.string.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired}),children:function(t,r){let n=t[r],i={};a.default.Children.forEach(n,function(t){if(t?.key!=null){if(i[t.key])throw Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');i[t.key]=!0}})},innerRef:i.default.any}},74636:function(t,r,n){"use strict";r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=d(void 0);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=c(n(62688)),o=n(90568),s=n(20414),l=n(50544),u=c(n(59482));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:r})(t)}function p(){return(p=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function f(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}let h=t=>Object.prototype.toString.call(t);function m(t,r){return null==t?null:Array.isArray(t)?t:t[r]}class g extends i.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){let{width:t,breakpoints:r,layouts:n,cols:i}=this.props,a=(0,l.getBreakpointFromWidth)(r,t),o=(0,l.getColsFromBreakpoint)(a,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(n,r,a,a,o,s),breakpoint:a,cols:o}}static getDerivedStateFromProps(t,r){if(!(0,o.deepEqual)(t.layouts,r.layouts)){let{breakpoint:n,cols:i}=r;return{layout:(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,i,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){this.props.width==t.width&&this.props.breakpoint===t.breakpoint&&(0,o.deepEqual)(this.props.breakpoints,t.breakpoints)&&(0,o.deepEqual)(this.props.cols,t.cols)||this.onWidthChange(t)}onWidthChange(t){let{breakpoints:r,cols:n,layouts:i,compactType:a}=this.props,o=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(o,n),d={...i};if(u!==o||t.breakpoints!==r||t.cols!==n){u in d||(d[u]=(0,s.cloneLayout)(this.state.layout));let t=(0,l.findOrGenerateResponsiveLayout)(d,r,o,u,c,a);t=(0,s.synchronizeLayoutWithChildren)(t,this.props.children,c,a,this.props.allowOverlap),d[o]=t,this.props.onBreakpointChange(o,c),this.props.onLayoutChange(t,d),this.setState({breakpoint:o,layout:t,cols:c})}let p=m(this.props.margin,o),f=m(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,p,c,f)}render(){let{breakpoint:t,breakpoints:r,cols:n,layouts:a,margin:o,containerPadding:s,onBreakpointChange:l,onLayoutChange:c,onWidthChange:d,...f}=this.props;return i.createElement(u.default,p({},f,{margin:m(o,this.state.breakpoint),containerPadding:m(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}r.default=g,f(g,"propTypes",{breakpoint:a.default.string,breakpoints:a.default.object,allowOverlap:a.default.bool,cols:a.default.object,margin:a.default.oneOfType([a.default.array,a.default.object]),containerPadding:a.default.oneOfType([a.default.array,a.default.object]),layouts(t,r){if("[object Object]"!==h(t[r]))throw Error("Layout property must be an object. Received: "+h(t[r]));Object.keys(t[r]).forEach(r=>{if(!(r in t.breakpoints))throw Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[r],"layouts."+r)})},width:a.default.number.isRequired,onBreakpointChange:a.default.func,onLayoutChange:a.default.func,onWidthChange:a.default.func}),f(g,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},20906:function(t,r){"use strict";function n(t){let{margin:r,containerPadding:n,containerWidth:i,cols:a}=t;return(i-r[0]*(a-1)-2*n[0])/a}function i(t,r,n){return Number.isFinite(t)?Math.round(r*t+Math.max(0,t-1)*n):t}function a(t,r,n){return Math.max(Math.min(t,n),r)}Object.defineProperty(r,"__esModule",{value:!0}),r.calcGridColWidth=n,r.calcGridItemPosition=function(t,r,a,o,s,l){let{margin:u,containerPadding:c,rowHeight:d}=t,p=n(t),f={};return l&&l.resizing?(f.width=Math.round(l.resizing.width),f.height=Math.round(l.resizing.height)):(f.width=i(o,p,u[0]),f.height=i(s,d,u[1])),l&&l.dragging?(f.top=Math.round(l.dragging.top),f.left=Math.round(l.dragging.left)):l&&l.resizing&&"number"==typeof l.resizing.top&&"number"==typeof l.resizing.left?(f.top=Math.round(l.resizing.top),f.left=Math.round(l.resizing.left)):(f.top=Math.round((d+u[1])*a+c[1]),f.left=Math.round((p+u[0])*r+c[0])),f},r.calcGridItemWHPx=i,r.calcWH=function(t,r,i,o,s,l){let{margin:u,maxRows:c,cols:d,rowHeight:p}=t,f=n(t),h=Math.round((r+u[0])/(f+u[0])),m=Math.round((i+u[1])/(p+u[1])),g=a(h,0,d-o),y=a(m,0,c-s);return -1!==["sw","w","nw"].indexOf(l)&&(g=a(h,0,d)),-1!==["nw","n","ne"].indexOf(l)&&(y=a(m,0,c)),{w:g,h:y}},r.calcXY=function(t,r,i,o,s){let{margin:l,containerPadding:u,cols:c,rowHeight:d,maxRows:p}=t,f=n(t),h=Math.round((i-u[0])/(f+l[0])),m=Math.round((r-u[1])/(d+l[1]));return{x:h=a(h,0,c-o),y:m=a(m,0,p-s)}},r.clamp=a},59186:function(t,r,n){"use strict";r.default=function(t){var r;return r=class extends i.Component{constructor(){super(...arguments),d(this,"state",{width:1280}),d(this,"elementRef",i.createRef()),d(this,"mounted",!1),d(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new o.default(t=>{if(this.elementRef.current instanceof HTMLElement){let r=t[0].contentRect.width;this.setState({width:r})}});let t=this.elementRef.current;t instanceof HTMLElement&&this.resizeObserver.observe(t)}componentWillUnmount(){this.mounted=!1;let t=this.elementRef.current;t instanceof HTMLElement&&this.resizeObserver.unobserve(t),this.resizeObserver.disconnect()}render(){let{measureBeforeMount:r,...n}=this.props;return r&&!this.mounted?i.createElement("div",{className:(0,s.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):i.createElement(t,c({innerRef:this.elementRef},n,this.state))}},d(r,"defaultProps",{measureBeforeMount:!1}),d(r,"propTypes",{measureBeforeMount:a.default.bool}),r};var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(void 0);if(n&&n.has(t))return n.get(t);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=l(n(62688)),o=l(n(90883)),s=l(n(78784));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:r})(t)}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function d(t,r,n){var i;return(r="symbol"==typeof(i=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"))?i:String(i))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}},37434:function(t){t.exports=function(t,r,n){return t===r||t.className===r.className&&n(t.style,r.style)&&t.width===r.width&&t.autoSize===r.autoSize&&t.cols===r.cols&&t.draggableCancel===r.draggableCancel&&t.draggableHandle===r.draggableHandle&&n(t.verticalCompact,r.verticalCompact)&&n(t.compactType,r.compactType)&&n(t.layout,r.layout)&&n(t.margin,r.margin)&&n(t.containerPadding,r.containerPadding)&&t.rowHeight===r.rowHeight&&t.maxRows===r.maxRows&&t.isBounded===r.isBounded&&t.isDraggable===r.isDraggable&&t.isResizable===r.isResizable&&t.allowOverlap===r.allowOverlap&&t.preventCollision===r.preventCollision&&t.useCSSTransforms===r.useCSSTransforms&&t.transformScale===r.transformScale&&t.isDroppable===r.isDroppable&&n(t.resizeHandles,r.resizeHandles)&&n(t.resizeHandle,r.resizeHandle)&&t.onLayoutChange===r.onLayoutChange&&t.onDragStart===r.onDragStart&&t.onDrag===r.onDrag&&t.onDragStop===r.onDragStop&&t.onResizeStart===r.onResizeStart&&t.onResize===r.onResize&&t.onResizeStop===r.onResizeStop&&t.onDrop===r.onDrop&&n(t.droppingItem,r.droppingItem)&&n(t.innerRef,r.innerRef)}},50544:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.findOrGenerateResponsiveLayout=function(t,r,n,o,s,l){if(t[n])return(0,i.cloneLayout)(t[n]);let u=t[o],c=a(r),d=c.slice(c.indexOf(n));for(let r=0,n=d.length;r<n;r++){let n=d[r];if(t[n]){u=t[n];break}}return u=(0,i.cloneLayout)(u||[]),(0,i.compact)((0,i.correctBounds)(u,{cols:s}),l,s)},r.getBreakpointFromWidth=function(t,r){let n=a(t),i=n[0];for(let a=1,o=n.length;a<o;a++){let o=n[a];r>t[o]&&(i=o)}return i},r.getColsFromBreakpoint=function(t,r){if(!r[t])throw Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},r.sortBreakpoints=a;var i=n(20414);function a(t){return Object.keys(t).sort(function(r,n){return t[r]-t[n]})}},20414:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bottom=s,r.childrenEqual=function(t,r){return(0,a.deepEqual)(o.default.Children.map(t,t=>t?.key),o.default.Children.map(r,t=>t?.key))&&(0,a.deepEqual)(o.default.Children.map(t,t=>t?.props["data-grid"]),o.default.Children.map(r,t=>t?.props["data-grid"]))},r.cloneLayout=l,r.cloneLayoutItem=c,r.collides=d,r.compact=p,r.compactItem=m,r.compactType=function(t){let{verticalCompact:r,compactType:n}=t||{};return!1===r?null:n},r.correctBounds=g,r.fastPositionEqual=function(t,r){return t.left===r.left&&t.top===r.top&&t.width===r.width&&t.height===r.height},r.fastRGLPropsEqual=void 0,r.getAllCollisions=b,r.getFirstCollision=v,r.getLayoutItem=y,r.getStatics=x,r.modifyLayout=u,r.moveElement=w,r.moveElementAwayFromCollision=j,r.noop=void 0,r.perc=function(t){return 100*t+"%"},r.resizeItemInDirection=function(t,r,n,i){let a=k[t];return a?a(r,{...r,...n},i):n},r.setTopLeft=function(t){let{top:r,left:n,width:i,height:a}=t;return{top:`${r}px`,left:`${n}px`,width:`${i}px`,height:`${a}px`,position:"absolute"}},r.setTransform=function(t){let{top:r,left:n,width:i,height:a}=t,o=`translate(${n}px,${r}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${i}px`,height:`${a}px`,position:"absolute"}},r.sortLayoutItems=M,r.sortLayoutItemsByColRow=D,r.sortLayoutItemsByRowCol=P,r.synchronizeLayoutWithChildren=function(t,r,n,i,a){t=t||[];let l=[];o.default.Children.forEach(r,r=>{if(r?.key==null)return;let n=y(t,String(r.key)),i=r.props["data-grid"];n&&null==i?l.push(c(n)):i?l.push(c({...i,i:r.key})):l.push(c({w:1,h:1,x:0,y:s(l),i:String(r.key)}))});let u=g(l,{cols:n});return a?u:p(u,i,n)},r.validateLayout=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw Error(r+" must be an array!");for(let i=0,a=t.length;i<a;i++){let a=t[i];for(let t=0;t<n.length;t++){let o=n[t],s=a[o];if("number"!=typeof s||Number.isNaN(s))throw Error(`ReactGridLayout: ${r}[${i}].${o} must be a number! Received: ${s} (${typeof s})`)}if(void 0!==a.i&&"string"!=typeof a.i)throw Error(`ReactGridLayout: ${r}[${i}].i must be a string! Received: ${a.i} (${typeof a.i})`)}},r.withLayoutItem=function(t,r,n){let i=y(t,r);return i?[t=u(t,i=n(c(i))),i]:[t,null]};var i,a=n(90568),o=(i=n(70451))&&i.__esModule?i:{default:i};function s(t){let r=0,n;for(let i=0,a=t.length;i<a;i++)(n=t[i].y+t[i].h)>r&&(r=n);return r}function l(t){let r=Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=c(t[n]);return r}function u(t,r){let n=Array(t.length);for(let i=0,a=t.length;i<a;i++)r.i===t[i].i?n[i]=r:n[i]=t[i];return n}function c(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}function d(t,r){return t.i!==r.i&&!(t.x+t.w<=r.x)&&!(t.x>=r.x+r.w)&&!(t.y+t.h<=r.y)&&!(t.y>=r.y+r.h)}function p(t,r,n,i){let a=x(t),o=M(t,r),s=Array(t.length);for(let l=0,u=o.length;l<u;l++){let u=c(o[l]);u.static||(u=m(a,u,r,n,o,i),a.push(u)),s[t.indexOf(o[l])]=u,u.moved=!1}return s}r.fastRGLPropsEqual=n(37434);let f={x:"w",y:"h"};function h(t,r,n,i){let a=f[i];r[i]+=1;let o=t.map(t=>t.i).indexOf(r.i);for(let s=o+1;s<t.length;s++){let o=t[s];if(!o.static){if(o.y>r.y+r.h)break;d(r,o)&&h(t,o,n+r[a],i)}}r[i]=n}function m(t,r,n,i,a,o){let l,u="horizontal"===n;if("vertical"===n)for(r.y=Math.min(s(t),r.y);r.y>0&&!v(t,r);)r.y--;else if(u)for(;r.x>0&&!v(t,r);)r.x--;for(;(l=v(t,r))&&!(null===n&&o);)if(u?h(a,r,l.x+l.w,"x"):h(a,r,l.y+l.h,"y"),u&&r.x+r.w>i)for(r.x=i-r.w,r.y++;r.x>0&&!v(t,r);)r.x--;return r.y=Math.max(r.y,0),r.x=Math.max(r.x,0),r}function g(t,r){let n=x(t);for(let i=0,a=t.length;i<a;i++){let a=t[i];if(a.x+a.w>r.cols&&(a.x=r.cols-a.w),a.x<0&&(a.x=0,a.w=r.cols),a.static)for(;v(n,a);)a.y++;else n.push(a)}return t}function y(t,r){for(let n=0,i=t.length;n<i;n++)if(t[n].i===r)return t[n]}function v(t,r){for(let n=0,i=t.length;n<i;n++)if(d(t[n],r))return t[n]}function b(t,r){return t.filter(t=>d(t,r))}function x(t){return t.filter(t=>t.static)}function w(t,r,n,i,a,o,s,u,c){if(r.static&&!0!==r.isDraggable||r.y===i&&r.x===n)return t;r.i,String(n),String(i),r.x,r.y;let d=r.x,p=r.y;"number"==typeof n&&(r.x=n),"number"==typeof i&&(r.y=i),r.moved=!0;let f=M(t,s);("vertical"===s&&"number"==typeof i?p>=i:"horizontal"===s&&"number"==typeof n&&d>=n)&&(f=f.reverse());let h=b(f,r),m=h.length>0;if(m&&c)return l(t);if(m&&o)return R(`Collision prevented on ${r.i}, reverting.`),r.x=d,r.y=p,r.moved=!1,t;for(let n=0,i=h.length;n<i;n++){let i=h[n];r.i,r.x,r.y,i.i,i.x,i.y,i.moved||(t=i.static?j(t,i,r,a,s,u):j(t,r,i,a,s,u))}return t}function j(t,r,n,i,a,o){let s="horizontal"===a,l="vertical"===a,u=r.static;if(i){i=!1;let c={x:s?Math.max(r.x-n.w,0):n.x,y:l?Math.max(r.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},d=v(t,c),p=d&&d.y+d.h>r.y,f=d&&r.x+r.w>d.x;if(!d)return R(`Doing reverse collision on ${n.i} up to [${c.x},${c.y}].`),w(t,n,s?c.x:void 0,l?c.y:void 0,i,u,a,o);if(p&&l)return w(t,n,void 0,r.y+1,i,u,a,o);if(p&&null==a)return r.y=n.y,n.y=n.y+n.h,t;else if(f&&s)return w(t,r,n.x,void 0,i,u,a,o)}let c=s?n.x+1:void 0,d=l?n.y+1:void 0;return null==c&&null==d?t:w(t,n,s?n.x+1:void 0,l?n.y+1:void 0,i,u,a,o)}let S=(t,r,n,i)=>t+n>i?r:n,A=(t,r,n)=>t<0?r:n,_=(t,r,n)=>{let{left:i,height:a,width:o}=r,s=t.top-(a-t.height);return{left:i,width:o,height:A(s,t.height,a),top:Math.max(0,s)}},C=(t,r,n)=>{let{top:i,left:a,height:o,width:s}=r;return{top:i,height:o,width:S(t.left,t.width,s,n),left:Math.max(0,a)}},O=(t,r,n)=>{let{top:i,height:a,width:o}=r,s=t.left-(o-t.width);return{height:a,width:s<0?t.width:S(t.left,t.width,o,n),top:Math.max(0,i),left:Math.max(0,s)}},E=(t,r,n)=>{let{top:i,left:a,height:o,width:s}=r;return{width:s,left:a,height:A(i,t.height,o),top:Math.max(0,i)}},k={n:_,ne:function(){return _(arguments.length<=0?void 0:arguments[0],C(...arguments),arguments.length<=2?void 0:arguments[2])},e:C,se:function(){return E(arguments.length<=0?void 0:arguments[0],C(...arguments),arguments.length<=2?void 0:arguments[2])},s:E,sw:function(){return E(arguments.length<=0?void 0:arguments[0],O(...arguments),arguments.length<=2?void 0:arguments[2])},w:O,nw:function(){return _(arguments.length<=0?void 0:arguments[0],O(...arguments),arguments.length<=2?void 0:arguments[2])}};function M(t,r){return"horizontal"===r?D(t):"vertical"===r?P(t):t}function P(t){return t.slice(0).sort(function(t,r){return t.y>r.y||t.y===r.y&&t.x>r.x?1:t.y===r.y&&t.x===r.x?0:-1})}function D(t){return t.slice(0).sort(function(t,r){return t.x>r.x||t.x===r.x&&t.y>r.y?1:-1})}function R(){}r.noop=()=>{}},12548:function(t,r,n){t.exports=n(59482).default,n(20414),n(20906),t.exports.Responsive=n(74636).default,t.exports.Responsive.utils=n(50544),t.exports.WidthProvider=n(59186).default},84814:function(t,r,n){"use strict";var i=n(70451),a=t=>t instanceof Date,o=t=>null==t;let s=t=>"object"==typeof t;var l=t=>!o(t)&&!Array.isArray(t)&&s(t)&&!a(t),u=t=>l(t)&&t.target?"checkbox"===t.target.type?t.target.checked:t.target.value:t,c=(t,r)=>t.has(r.substring(0,r.search(/\.\d+(\.|$)/))||r),d="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function p(t){let r,n=Array.isArray(t),i="undefined"!=typeof FileList&&t instanceof FileList;if(t instanceof Date)r=new Date(t);else if(t instanceof Set)r=new Set(t);else{let a;if(d&&(t instanceof Blob||i)||!n&&!l(t))return t;if(r=n?[]:{},n||l(a=t.constructor&&t.constructor.prototype)&&a.hasOwnProperty("isPrototypeOf"))for(let n in t)t.hasOwnProperty(n)&&(r[n]=p(t[n]));else r=t}return r}var f=t=>Array.isArray(t)?t.filter(Boolean):[],h=t=>void 0===t,m=(t,r,n)=>{if(!r||!l(t))return n;let i=f(r.split(/[,[\].]+?/)).reduce((t,r)=>o(t)?t:t[r],t);return h(i)||i===t?h(t[r])?n:t[r]:i},g=t=>f(t.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(t,r,n)=>{let i=-1,a=/^\w*$/.test(r)?[r]:g(r),o=a.length,s=o-1;for(;++i<o;){let r=a[i],o=n;if(i!==s){let n=t[r];o=l(n)||Array.isArray(n)?n:isNaN(+a[i+1])?{}:[]}if("__proto__"===r||"constructor"===r||"prototype"===r)return;t[r]=o,t=t[r]}return t};let v="blur",b="onChange",x="onSubmit",w="maxLength",j="minLength",S="pattern",A="required",_=i.createContext(null),C=()=>i.useContext(_);var O=(t,r,n,i=!0)=>{let a={defaultValues:r._defaultValues};for(let o in t)Object.defineProperty(a,o,{get:()=>("all"!==r._proxyFormState[o]&&(r._proxyFormState[o]=!i||"all"),n&&(n[o]=!0),t[o])});return a},E=t=>l(t)&&!Object.keys(t).length,k=(t,r,n,i)=>{n(t);let{name:a,...o}=t;return E(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(t=>r[t]===(!i||"all"))},M=t=>Array.isArray(t)?t:[t],P=(t,r,n)=>!t||!r||t===r||M(t).some(t=>t&&(n?t===r:t.startsWith(r)||r.startsWith(t)));function D(t){let r=i.useRef(t);r.current=t,i.useEffect(()=>{let n=!t.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function R(t){let r=C(),{control:n=r.control,disabled:a,name:o,exact:s}=t||{},[l,u]=i.useState(n._formState),c=i.useRef(!0),d=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=i.useRef(o);return p.current=o,D({disabled:a,next:t=>c.current&&P(p.current,t.name,s)&&k(t,d.current,n._updateFormState)&&u({...n._formState,...t}),subject:n._subjects.state}),i.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),i.useMemo(()=>O(l,n,d.current,!1),[l,n])}var N=(t,r,n,i,a)=>"string"==typeof t?(i&&r.watch.add(t),m(n,t,a)):Array.isArray(t)?t.map(t=>(i&&r.watch.add(t),m(n,t))):(i&&(r.watchAll=!0),n);function T(t){let r=C(),{control:n=r.control,name:a,defaultValue:o,disabled:s,exact:l}=t||{},u=i.useRef(a);u.current=a,D({disabled:s,subject:n._subjects.values,next:t=>{P(u.current,t.name,l)&&d(p(N(u.current,n._names,t.values||n._formValues,!1,o)))}});let[c,d]=i.useState(n._getWatch(a,o));return i.useEffect(()=>n._removeUnmounted()),c}function I(t){let r=C(),{name:n,disabled:a,control:o=r.control,shouldUnregister:s}=t,l=c(o._names.array,n),d=T({control:o,name:n,defaultValue:m(o._formValues,n,m(o._defaultValues,n,t.defaultValue)),exact:!0}),f=R({control:o,name:n,exact:!0}),g=i.useRef(o.register(n,{...t.rules,value:d,..."boolean"==typeof t.disabled?{disabled:t.disabled}:{}})),b=i.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!m(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!m(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!m(f.validatingFields,n)},error:{enumerable:!0,get:()=>m(f.errors,n)}}),[f,n]),x=i.useMemo(()=>({name:n,value:d,..."boolean"==typeof a||f.disabled?{disabled:f.disabled||a}:{},onChange:t=>g.current.onChange({target:{value:u(t),name:n},type:"change"}),onBlur:()=>g.current.onBlur({target:{value:m(o._formValues,n),name:n},type:v}),ref:t=>{let r=m(o._fields,n);r&&t&&(r._f.ref={focus:()=>t.focus(),select:()=>t.select(),setCustomValidity:r=>t.setCustomValidity(r),reportValidity:()=>t.reportValidity()})}}),[n,o._formValues,a,f.disabled,d,o._fields]);return i.useEffect(()=>{let t=o._options.shouldUnregister||s,r=(t,r)=>{let n=m(o._fields,t);n&&n._f&&(n._f.mount=r)};if(r(n,!0),t){let t=p(m(o._options.defaultValues,n));y(o._defaultValues,n,t),h(m(o._formValues,n))&&y(o._formValues,n,t)}return l||o.register(n),()=>{(l?t&&!o._state.action:t)?o.unregister(n):r(n,!1)}},[n,o,l,s]),i.useEffect(()=>{o._updateDisabledField({disabled:a,fields:o._fields,name:n})},[a,n,o]),i.useMemo(()=>({field:x,formState:f,fieldState:b}),[x,f,b])}let V=t=>{let r={};for(let n of Object.keys(t))if(s(t[n])&&null!==t[n]){let i=V(t[n]);for(let t of Object.keys(i))r[`${n}.${t}`]=i[t]}else r[n]=t[n];return r};var z=(t,r,n,i,a)=>r?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},L=()=>{let t="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let n=(16*Math.random()+t)%16|0;return("x"==r?n:3&n|8).toString(16)})},F=(t,r,n={})=>n.shouldFocus||h(n.shouldFocus)?n.focusName||`${t}.${h(n.focusIndex)?r:n.focusIndex}.`:"",$=t=>({isOnSubmit:!t||t===x,isOnBlur:"onBlur"===t,isOnChange:t===b,isOnAll:"all"===t,isOnTouch:"onTouched"===t}),B=(t,r,n)=>!n&&(r.watchAll||r.watch.has(t)||[...r.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));let q=(t,r,n,i)=>{for(let a of n||Object.keys(t)){let n=m(t,a);if(n){let{_f:t,...o}=n;if(t){if(t.refs&&t.refs[0]&&r(t.refs[0],a)&&!i||t.ref&&r(t.ref,t.name)&&!i)return!0;if(q(o,r))break}else if(l(o)&&q(o,r))break}}};var H=(t,r,n)=>{let i=M(m(t,n));return y(i,"root",r[n]),y(t,n,i),t},U=t=>"function"==typeof t,W=t=>{if(!d)return!1;let r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Q=t=>"string"==typeof t;let Z={value:!1,isValid:!1},G={value:!0,isValid:!0};var K=t=>{if(Array.isArray(t)){if(t.length>1){let r=t.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!h(t[0].attributes.value)?h(t[0].value)||""===t[0].value?G:{value:t[0].value,isValid:!0}:G:Z}return Z};let J={isValid:!1,value:null};var Y=t=>Array.isArray(t)?t.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,J):J;function X(t,r,n="validate"){if(Q(t)||Array.isArray(t)&&t.every(Q)||"boolean"==typeof t&&!t)return{type:n,message:Q(t)?t:"",ref:r}}var ee=t=>!l(t)||t instanceof RegExp?{value:t,message:""}:t,et=async(t,r,n,i,a,s)=>{let{ref:u,refs:c,required:d,maxLength:p,minLength:f,min:g,max:y,pattern:v,validate:b,name:x,valueAsNumber:_,mount:C}=t._f,O=m(n,x);if(!C||r.has(x))return{};let k=c?c[0]:u,M=t=>{a&&k.reportValidity&&(k.setCustomValidity("boolean"==typeof t?"":t||""),k.reportValidity())},P={},D="radio"===u.type,R="checkbox"===u.type,N=(_||"file"===u.type)&&h(u.value)&&h(O)||W(u)&&""===u.value||""===O||Array.isArray(O)&&!O.length,T=z.bind(null,x,i,P),I=(t,r,n,i=w,a=j)=>{let o=t?r:n;P[x]={type:t?i:a,message:o,ref:u,...T(t?i:a,o)}};if(s?!Array.isArray(O)||!O.length:d&&(!(D||R)&&(N||o(O))||"boolean"==typeof O&&!O||R&&!K(c).isValid||D&&!Y(c).isValid)){let{value:t,message:r}=Q(d)?{value:!!d,message:d}:ee(d);if(t&&(P[x]={type:A,message:r,ref:k,...T(A,r)},!i))return M(r),P}if(!(N||o(g)&&o(y))){let t,r,n=ee(y),a=ee(g);if(o(O)||isNaN(O)){let i=u.valueAsDate||new Date(O),o=t=>new Date((new Date).toDateString()+" "+t),s="time"==u.type,l="week"==u.type;"string"==typeof n.value&&O&&(t=s?o(O)>o(n.value):l?O>n.value:i>new Date(n.value)),"string"==typeof a.value&&O&&(r=s?o(O)<o(a.value):l?O<a.value:i<new Date(a.value))}else{let i=u.valueAsNumber||(O?+O:O);o(n.value)||(t=i>n.value),o(a.value)||(r=i<a.value)}if((t||r)&&(I(!!t,n.message,a.message,"max","min"),!i))return M(P[x].message),P}if((p||f)&&!N&&("string"==typeof O||s&&Array.isArray(O))){let t=ee(p),r=ee(f),n=!o(t.value)&&O.length>+t.value,a=!o(r.value)&&O.length<+r.value;if((n||a)&&(I(n,t.message,r.message),!i))return M(P[x].message),P}if(v&&!N&&"string"==typeof O){let{value:t,message:r}=ee(v);if(t instanceof RegExp&&!O.match(t)&&(P[x]={type:S,message:r,ref:u,...T(S,r)},!i))return M(r),P}if(b){if(U(b)){let t=X(await b(O,n),k);if(t&&(P[x]={...t,...T("validate",t.message)},!i))return M(t.message),P}else if(l(b)){let t={};for(let r in b){if(!E(t)&&!i)break;let a=X(await b[r](O,n),k,r);a&&(t={...a,...T(r,a.message)},M(a.message),i&&(P[x]=t))}if(!E(t)&&(P[x]={ref:k,...t},!i))return P}}return M(!0),P},er=(t,r)=>[...t,...M(r)],en=t=>Array.isArray(t)?t.map(()=>{}):void 0;function ei(t,r,n){return[...t.slice(0,r),...M(n),...t.slice(r)]}var ea=(t,r,n)=>Array.isArray(t)?(h(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(r,1)[0]),t):[],eo=(t,r)=>[...M(r),...M(t)],es=(t,r)=>h(r)?[]:function(t,r){let n=0,i=[...t];for(let t of r)i.splice(t-n,1),n++;return f(i).length?i:[]}(t,M(r).sort((t,r)=>t-r)),el=(t,r,n)=>{[t[r],t[n]]=[t[n],t[r]]};function eu(t,r){let n=Array.isArray(r)?r:/^\w*$/.test(r)?[r]:g(r),i=1===n.length?t:function(t,r){let n=r.slice(0,-1).length,i=0;for(;i<n;)t=h(t)?i++:t[r[i++]];return t}(t,n),a=n.length-1,o=n[a];return i&&delete i[o],0!==a&&(l(i)&&E(i)||Array.isArray(i)&&function(t){for(let r in t)if(t.hasOwnProperty(r)&&!h(t[r]))return!1;return!0}(i))&&eu(t,n.slice(0,-1)),t}var ec=(t,r,n)=>(t[r]=n,t),ed=()=>{let t=[];return{get observers(){return t},next:r=>{for(let n of t)n.next&&n.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(t=>t!==r)}}),unsubscribe:()=>{t=[]}}},ep=t=>o(t)||!s(t);function ef(t,r){if(ep(t)||ep(r))return t===r;if(a(t)&&a(r))return t.getTime()===r.getTime();let n=Object.keys(t),i=Object.keys(r);if(n.length!==i.length)return!1;for(let o of n){let n=t[o];if(!i.includes(o))return!1;if("ref"!==o){let t=r[o];if(a(n)&&a(t)||l(n)&&l(t)||Array.isArray(n)&&Array.isArray(t)?!ef(n,t):n!==t)return!1}}return!0}var eh=t=>W(t)&&t.isConnected,em=t=>{for(let r in t)if(U(t[r]))return!0;return!1};function eg(t,r={}){let n=Array.isArray(t);if(l(t)||n)for(let n in t)Array.isArray(t[n])||l(t[n])&&!em(t[n])?(r[n]=Array.isArray(t[n])?[]:{},eg(t[n],r[n])):o(t[n])||(r[n]=!0);return r}var ey=(t,r)=>(function t(r,n,i){let a=Array.isArray(r);if(l(r)||a)for(let a in r)Array.isArray(r[a])||l(r[a])&&!em(r[a])?h(n)||ep(i[a])?i[a]=Array.isArray(r[a])?eg(r[a],[]):{...eg(r[a])}:t(r[a],o(n)?{}:n[a],i[a]):i[a]=!ef(r[a],n[a]);return i})(t,r,eg(r)),ev=(t,{valueAsNumber:r,valueAsDate:n,setValueAs:i})=>h(t)?t:r?""===t?NaN:t?+t:t:n&&"string"==typeof t?new Date(t):i?i(t):t;function eb(t){let r=t.ref;return"file"===r.type?r.files:"radio"===r.type?Y(t.refs).value:"select-multiple"===r.type?[...r.selectedOptions].map(({value:t})=>t):"checkbox"===r.type?K(t.refs).value:ev(h(r.value)?t.ref.value:r.value,t)}var ex=t=>h(t)?t:t instanceof RegExp?t.source:l(t)?t.value instanceof RegExp?t.value.source:t.value:t;let ew="AsyncFunction";function ej(t,r,n){let i=m(t,n);if(i||/^\w*$/.test(n))return{error:i,name:n};let a=n.split(".");for(;a.length;){let i=a.join("."),o=m(r,i),s=m(t,i);if(o&&!Array.isArray(o)&&n!==i)break;if(s&&s.type)return{name:i,error:s};a.pop()}return{name:n}}let eS={mode:x,reValidateMode:b,shouldFocusError:!0};r.Controller=t=>t.render(I(t)),r.Form=function(t){let r=C(),[n,a]=i.useState(!1),{control:o=r.control,onSubmit:s,children:l,action:u,method:c="post",headers:d,encType:p,onError:f,render:h,onSuccess:m,validateStatus:g,...y}=t,v=async r=>{let n=!1,i="";await o.handleSubmit(async t=>{let a=new FormData,l="";try{l=JSON.stringify(t)}catch(t){}let h=V(o._formValues);for(let t in h)a.append(t,h[t]);if(s&&await s({data:t,event:r,method:c,formData:a,formDataJson:l}),u)try{let t=[d&&d["Content-Type"],p].some(t=>t&&t.includes("json")),r=await fetch(String(u),{method:c,headers:{...d,...p?{"Content-Type":p}:{}},body:t?l:a});r&&(g?!g(r.status):r.status<200||r.status>=300)?(n=!0,f&&f({response:r}),i=String(r.status)):m&&m({response:r})}catch(t){n=!0,f&&f({error:t})}})(r),n&&t.control&&(t.control._subjects.state.next({isSubmitSuccessful:!1}),t.control.setError("root.server",{type:i}))};return i.useEffect(()=>{a(!0)},[]),h?i.createElement(i.Fragment,null,h({submit:v})):i.createElement("form",{noValidate:n,action:u,method:c,encType:p,onSubmit:v,...y},l)},r.FormProvider=t=>{let{children:r,...n}=t;return i.createElement(_.Provider,{value:n},r)},r.appendErrors=z,r.get=m,r.set=y,r.useController=I,r.useFieldArray=function(t){let r=C(),{control:n=r.control,name:a,keyName:o="id",shouldUnregister:s,rules:l}=t,[u,c]=i.useState(n._getFieldArray(a)),d=i.useRef(n._getFieldArray(a).map(L)),f=i.useRef(u),h=i.useRef(a),g=i.useRef(!1);h.current=a,f.current=u,n._names.array.add(a),l&&n.register(a,l),D({next:({values:t,name:r})=>{if(r===h.current||!r){let r=m(t,h.current);Array.isArray(r)&&(c(r),d.current=r.map(L))}},subject:n._subjects.array});let v=i.useCallback(t=>{g.current=!0,n._updateFieldArray(a,t)},[n,a]);return i.useEffect(()=>{if(n._state.action=!1,B(a,n._names)&&n._subjects.state.next({...n._formState}),g.current&&(!$(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([a]).then(t=>{let r=m(t.errors,a),i=m(n._formState.errors,a);(i?!r&&i.type||r&&(i.type!==r.type||i.message!==r.message):r&&r.type)&&(r?y(n._formState.errors,a,r):eu(n._formState.errors,a),n._subjects.state.next({errors:n._formState.errors}))});else{let t=m(n._fields,a);!t||!t._f||$(n._options.reValidateMode).isOnSubmit&&$(n._options.mode).isOnSubmit||et(t,n._names.disabled,n._formValues,"all"===n._options.criteriaMode,n._options.shouldUseNativeValidation,!0).then(t=>!E(t)&&n._subjects.state.next({errors:H(n._formState.errors,t,a)}))}n._subjects.values.next({name:a,values:{...n._formValues}}),n._names.focus&&q(n._fields,(t,r)=>{if(n._names.focus&&r.startsWith(n._names.focus)&&t.focus)return t.focus(),1}),n._names.focus="",n._updateValid(),g.current=!1},[u,a,n]),i.useEffect(()=>(m(n._formValues,a)||n._updateFieldArray(a),()=>{(n._options.shouldUnregister||s)&&n.unregister(a)}),[a,n,o,s]),{swap:i.useCallback((t,r)=>{let i=n._getFieldArray(a);el(i,t,r),el(d.current,t,r),v(i),c(i),n._updateFieldArray(a,i,el,{argA:t,argB:r},!1)},[v,a,n]),move:i.useCallback((t,r)=>{let i=n._getFieldArray(a);ea(i,t,r),ea(d.current,t,r),v(i),c(i),n._updateFieldArray(a,i,ea,{argA:t,argB:r},!1)},[v,a,n]),prepend:i.useCallback((t,r)=>{let i=M(p(t)),o=eo(n._getFieldArray(a),i);n._names.focus=F(a,0,r),d.current=eo(d.current,i.map(L)),v(o),c(o),n._updateFieldArray(a,o,eo,{argA:en(t)})},[v,a,n]),append:i.useCallback((t,r)=>{let i=M(p(t)),o=er(n._getFieldArray(a),i);n._names.focus=F(a,o.length-1,r),d.current=er(d.current,i.map(L)),v(o),c(o),n._updateFieldArray(a,o,er,{argA:en(t)})},[v,a,n]),remove:i.useCallback(t=>{let r=es(n._getFieldArray(a),t);d.current=es(d.current,t),v(r),c(r),Array.isArray(m(n._fields,a))||y(n._fields,a,void 0),n._updateFieldArray(a,r,es,{argA:t})},[v,a,n]),insert:i.useCallback((t,r,i)=>{let o=M(p(r)),s=ei(n._getFieldArray(a),t,o);n._names.focus=F(a,t,i),d.current=ei(d.current,t,o.map(L)),v(s),c(s),n._updateFieldArray(a,s,ei,{argA:t,argB:en(r)})},[v,a,n]),update:i.useCallback((t,r)=>{let i=p(r),o=ec(n._getFieldArray(a),t,i);d.current=[...o].map((r,n)=>r&&n!==t?d.current[n]:L()),v(o),c([...o]),n._updateFieldArray(a,o,ec,{argA:t,argB:i},!0,!1)},[v,a,n]),replace:i.useCallback(t=>{let r=M(p(t));d.current=r.map(L),v([...r]),c([...r]),n._updateFieldArray(a,[...r],t=>t,{},!0,!1)},[v,a,n]),fields:i.useMemo(()=>u.map((t,r)=>({...t,[o]:d.current[r]||L()})),[u,o])}},r.useForm=function(t={}){let r=i.useRef(void 0),n=i.useRef(void 0),[s,g]=i.useState({isDirty:!1,isValidating:!1,isLoading:U(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:U(t.defaultValues)?void 0:t.defaultValues});r.current||(r.current={...function(t={}){let r,n={...eS,...t},i={submitCount:0,isDirty:!1,isLoading:U(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},s={},g=(l(n.defaultValues)||l(n.values))&&p(n.defaultValues||n.values)||{},b=n.shouldUnregister?{}:p(g),x={action:!1,mount:!1,watch:!1},w={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},j=0,S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={values:ed(),array:ed(),state:ed()},_=$(n.mode),C=$(n.reValidateMode),O="all"===n.criteriaMode,k=async t=>{if(!n.disabled&&(S.isValid||t)){let t=n.resolver?E((await T()).errors):await I(s,!0);t!==i.isValid&&A.state.next({isValid:t})}},P=(t,r)=>{!n.disabled&&(S.isValidating||S.validatingFields)&&((t||Array.from(w.mount)).forEach(t=>{t&&(r?y(i.validatingFields,t,r):eu(i.validatingFields,t))}),A.state.next({validatingFields:i.validatingFields,isValidating:!E(i.validatingFields)}))},D=(t,r,n,i)=>{let a=m(s,t);if(a){let o=m(b,t,h(n)?m(g,t):n);h(o)||i&&i.defaultChecked||r?y(b,t,r?o:eb(a._f)):L(t,o),x.mount&&k()}},R=(t,r,a,o,l)=>{let u=!1,c=!1,d={name:t};if(!n.disabled){let n=!!(m(s,t)&&m(s,t)._f&&m(s,t)._f.disabled);if(!a||o){S.isDirty&&(c=i.isDirty,i.isDirty=d.isDirty=V(),u=c!==d.isDirty);let a=n||ef(m(g,t),r);c=!(n||!m(i.dirtyFields,t)),a||n?eu(i.dirtyFields,t):y(i.dirtyFields,t,!0),d.dirtyFields=i.dirtyFields,u=u||S.dirtyFields&&!a!==c}if(a){let r=m(i.touchedFields,t);r||(y(i.touchedFields,t,a),d.touchedFields=i.touchedFields,u=u||S.touchedFields&&r!==a)}u&&l&&A.state.next(d)}return u?d:{}},T=async t=>{P(t,!0);let r=await n.resolver(b,n.context,((t,r,n,i)=>{let a={};for(let n of t){let t=m(r,n);t&&y(a,n,t._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}})(t||w.mount,s,n.criteriaMode,n.shouldUseNativeValidation));return P(t),r},I=async(t,r,a={valid:!0})=>{var o;for(let s in t){let u=t[s];if(u){let{_f:t,...c}=u;if(t){let c=w.array.has(t.name),d=u._f&&!!(o=u._f)&&!!o.validate&&!!(U(o.validate)&&o.validate.constructor.name===ew||l(o.validate)&&Object.values(o.validate).find(t=>t.constructor.name===ew));d&&S.validatingFields&&P([s],!0);let p=await et(u,w.disabled,b,O,n.shouldUseNativeValidation&&!r,c);if(d&&S.validatingFields&&P([s]),p[t.name]&&(a.valid=!1,r))break;r||(m(p,t.name)?c?H(i.errors,p,t.name):y(i.errors,t.name,p[t.name]):eu(i.errors,t.name))}E(c)||await I(c,r,a)}}return a.valid},V=(t,r)=>!n.disabled&&(t&&r&&y(b,t,r),!ef(J(),g)),z=(t,r,n)=>N(t,w,{...x.mount?b:h(r)?g:"string"==typeof t?{[t]:r}:r},n,r),L=(t,r,n={})=>{let i=m(s,t),a=r;if(i){let n=i._f;n&&(n.disabled||y(b,t,ev(r,n)),a=W(n.ref)&&o(r)?"":r,"select-multiple"===n.ref.type?[...n.ref.options].forEach(t=>t.selected=a.includes(t.value)):n.refs?"checkbox"===n.ref.type?n.refs.length>1?n.refs.forEach(t=>(!t.defaultChecked||!t.disabled)&&(t.checked=Array.isArray(a)?!!a.find(r=>r===t.value):a===t.value)):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach(t=>t.checked=t.value===a):"file"===n.ref.type?n.ref.value="":(n.ref.value=a,n.ref.type||A.values.next({name:t,values:{...b}})))}(n.shouldDirty||n.shouldTouch)&&R(t,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&K(t)},F=(t,r,n)=>{for(let i in r){let o=r[i],u=`${t}.${i}`,c=m(s,u);(w.array.has(t)||l(o)||c&&!c._f)&&!a(o)?F(u,o,n):L(u,o,n)}},Q=(t,r,n={})=>{let a=m(s,t),l=w.array.has(t),u=p(r);y(b,t,u),l?(A.array.next({name:t,values:{...b}}),(S.isDirty||S.dirtyFields)&&n.shouldDirty&&A.state.next({name:t,dirtyFields:ey(g,b),isDirty:V(t,u)})):!a||a._f||o(u)?L(t,u,n):F(t,u,n),B(t,w)&&A.state.next({...i}),A.values.next({name:x.mount?t:void 0,values:{...b}})},Z=async t=>{var o;x.mount=!0;let l=t.target,c=l.name,d=!0,p=m(s,c),f=t=>{d=Number.isNaN(t)||a(t)&&isNaN(t.getTime())||ef(t,m(b,c,t))};if(p){let a,h,g,x,M=l.type?eb(p._f):u(t),D=t.type===v||"focusout"===t.type,N=!((o=p._f).mount&&(o.required||o.min||o.max||o.maxLength||o.minLength||o.pattern||o.validate)||n.resolver||m(i.errors,c)||p._f.deps)||(g=m(i.touchedFields,c),x=i.isSubmitted,!_.isOnAll&&(!x&&_.isOnTouch?!(g||D):(x?C.isOnBlur:_.isOnBlur)?!D:!(x?C.isOnChange:_.isOnChange)||D)),V=B(c,w,D);y(b,c,M),D?(p._f.onBlur&&p._f.onBlur(t),r&&r(0)):p._f.onChange&&p._f.onChange(t);let z=R(c,M,D,!1),L=!E(z)||V;if(D||A.values.next({name:c,type:t.type,values:{...b}}),N)return S.isValid&&("onBlur"===n.mode&&D?k():D||k()),L&&A.state.next({name:c,...V?{}:z});if(!D&&V&&A.state.next({...i}),n.resolver){let{errors:t}=await T([c]);if(f(M),d){let r=ej(i.errors,s,c),n=ej(t,s,r.name||c);a=n.error,c=n.name,h=E(t)}}else P([c],!0),a=(await et(p,w.disabled,b,O,n.shouldUseNativeValidation))[c],P([c]),f(M),d&&(a?h=!1:S.isValid&&(h=await I(s,!0)));d&&(p._f.deps&&K(p._f.deps),((t,a,o,s)=>{var l;let u=m(i.errors,t),c=S.isValid&&"boolean"==typeof a&&i.isValid!==a;if(n.delayError&&o?(l=()=>{y(i.errors,t,o),A.state.next({errors:i.errors})},(r=t=>{clearTimeout(j),j=setTimeout(l,t)})(n.delayError)):(clearTimeout(j),r=null,o?y(i.errors,t,o):eu(i.errors,t)),(o?!ef(u,o):u)||!E(s)||c){let r={...s,...c&&"boolean"==typeof a?{isValid:a}:{},errors:i.errors,name:t};i={...i,...r},A.state.next(r)}})(c,h,a,z))}},G=(t,r)=>{if(m(i.errors,r)&&t.focus)return t.focus(),1},K=async(t,r={})=>{let a,o,l=M(t);if(n.resolver){let r=await (async t=>{let{errors:r}=await T(t);if(t)for(let n of t){let t=m(r,n);t?y(i.errors,n,t):eu(i.errors,n)}else i.errors=r;return r})(h(t)?t:l);a=E(r),o=t?!l.some(t=>m(r,t)):a}else t?((o=(await Promise.all(l.map(async t=>{let r=m(s,t);return await I(r&&r._f?{[t]:r}:r)}))).every(Boolean))||i.isValid)&&k():o=a=await I(s);return A.state.next({..."string"!=typeof t||S.isValid&&a!==i.isValid?{}:{name:t},...n.resolver||!t?{isValid:a}:{},errors:i.errors}),r.shouldFocus&&!o&&q(s,G,t?l:w.mount),o},J=t=>{let r={...x.mount?b:g};return h(t)?r:"string"==typeof t?m(r,t):t.map(t=>m(r,t))},Y=(t,r)=>({invalid:!!m((r||i).errors,t),isDirty:!!m((r||i).dirtyFields,t),error:m((r||i).errors,t),isValidating:!!m(i.validatingFields,t),isTouched:!!m((r||i).touchedFields,t)}),X=(t,r,n)=>{let a=(m(s,t,{_f:{}})._f||{}).ref,{ref:o,message:l,type:u,...c}=m(i.errors,t)||{};y(i.errors,t,{...c,...r,ref:a}),A.state.next({name:t,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},ee=(t,r={})=>{for(let a of t?M(t):w.mount)w.mount.delete(a),w.array.delete(a),r.keepValue||(eu(s,a),eu(b,a)),r.keepError||eu(i.errors,a),r.keepDirty||eu(i.dirtyFields,a),r.keepTouched||eu(i.touchedFields,a),r.keepIsValidating||eu(i.validatingFields,a),n.shouldUnregister||r.keepDefaultValue||eu(g,a);A.values.next({values:{...b}}),A.state.next({...i,...r.keepDirty?{isDirty:V()}:{}}),r.keepIsValid||k()},er=({disabled:t,name:r,field:n,fields:i})=>{("boolean"==typeof t&&x.mount||t||w.disabled.has(r))&&(t?w.disabled.add(r):w.disabled.delete(r),R(r,eb(n?n._f:m(i,r)._f),!1,!1,!0))},en=(t,r={})=>{let i=m(s,t),a="boolean"==typeof r.disabled||"boolean"==typeof n.disabled;return y(s,t,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:t}},name:t,mount:!0,...r}}),w.mount.add(t),i?er({field:i,disabled:"boolean"==typeof r.disabled?r.disabled:n.disabled,name:t}):D(t,!0,r.value),{...a?{disabled:r.disabled||n.disabled}:{},...n.progressive?{required:!!r.required,min:ex(r.min),max:ex(r.max),minLength:ex(r.minLength),maxLength:ex(r.maxLength),pattern:ex(r.pattern)}:{},name:t,onChange:Z,onBlur:Z,ref:a=>{if(a){en(t,r),i=m(s,t);let n=h(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,o="radio"===n.type||"checkbox"===n.type,l=i._f.refs||[];(o?l.find(t=>t===n):n===i._f.ref)||(y(s,t,{_f:{...i._f,...o?{refs:[...l.filter(eh),n,...Array.isArray(m(g,t))?[{}]:[]],ref:{type:n.type,name:t}}:{ref:n}}}),D(t,!1,void 0,n))}else(i=m(s,t,{}))._f&&(i._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!c(w.array,t)||!x.action)&&w.unMount.add(t)}}},ei=()=>n.shouldFocusError&&q(s,G,w.mount),ea=(t,r)=>async a=>{let o;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=p(b);if(w.disabled.size)for(let t of w.disabled)y(l,t,void 0);if(A.state.next({isSubmitting:!0}),n.resolver){let{errors:t,values:r}=await T();i.errors=t,l=r}else await I(s);if(eu(i.errors,"root"),E(i.errors)){A.state.next({errors:{}});try{await t(l,a)}catch(t){o=t}}else r&&await r({...i.errors},a),ei(),setTimeout(ei);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:E(i.errors)&&!o,submitCount:i.submitCount+1,errors:i.errors}),o)throw o},eo=(t,r={})=>{let a=t?p(t):g,o=p(a),l=E(t),u=l?g:o;if(r.keepDefaultValues||(g=a),!r.keepValues){if(r.keepDirtyValues)for(let t of Array.from(new Set([...w.mount,...Object.keys(ey(g,b))])))m(i.dirtyFields,t)?y(u,t,m(b,t)):Q(t,m(u,t));else{if(d&&h(t))for(let t of w.mount){let r=m(s,t);if(r&&r._f){let t=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(W(t)){let r=t.closest("form");if(r){r.reset();break}}}}s={}}b=n.shouldUnregister?r.keepDefaultValues?p(g):{}:p(u),A.array.next({values:{...u}}),A.values.next({values:{...u}})}w={mount:r.keepDirtyValues?w.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},x.mount=!S.isValid||!!r.keepIsValid||!!r.keepDirtyValues,x.watch=!!n.shouldUnregister,A.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:!l&&(r.keepDirty?i.isDirty:!(!r.keepDefaultValues||ef(t,g))),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:l?{}:r.keepDirtyValues?r.keepDefaultValues&&b?ey(g,b):i.dirtyFields:r.keepDefaultValues&&t?ey(g,t):r.keepDirty?i.dirtyFields:{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},es=(t,r)=>eo(U(t)?t(b):t,r);return{control:{register:en,unregister:ee,getFieldState:Y,handleSubmit:ea,setError:X,_executeSchema:T,_getWatch:z,_getDirty:V,_updateValid:k,_removeUnmounted:()=>{for(let t of w.unMount){let r=m(s,t);r&&(r._f.refs?r._f.refs.every(t=>!eh(t)):!eh(r._f.ref))&&ee(t)}w.unMount=new Set},_updateFieldArray:(t,r=[],a,o,l=!0,u=!0)=>{if(o&&a&&!n.disabled){if(x.action=!0,u&&Array.isArray(m(s,t))){let r=a(m(s,t),o.argA,o.argB);l&&y(s,t,r)}if(u&&Array.isArray(m(i.errors,t))){var c;let r=a(m(i.errors,t),o.argA,o.argB);l&&y(i.errors,t,r),f(m(c=i.errors,t)).length||eu(c,t)}if(S.touchedFields&&u&&Array.isArray(m(i.touchedFields,t))){let r=a(m(i.touchedFields,t),o.argA,o.argB);l&&y(i.touchedFields,t,r)}S.dirtyFields&&(i.dirtyFields=ey(g,b)),A.state.next({name:t,isDirty:V(t,r),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else y(b,t,r)},_updateDisabledField:er,_getFieldArray:t=>f(m(x.mount?b:g,t,n.shouldUnregister?m(g,t,[]):[])),_reset:eo,_resetDefaultValues:()=>U(n.defaultValues)&&n.defaultValues().then(t=>{es(t,n.resetOptions),A.state.next({isLoading:!1})}),_updateFormState:t=>{i={...i,...t}},_disableForm:t=>{"boolean"==typeof t&&(A.state.next({disabled:t}),q(s,(r,n)=>{let i=m(s,n);i&&(r.disabled=i._f.disabled||t,Array.isArray(i._f.refs)&&i._f.refs.forEach(r=>{r.disabled=i._f.disabled||t}))},0,!1))},_subjects:A,_proxyFormState:S,_setErrors:t=>{i.errors=t,A.state.next({errors:i.errors,isValid:!1})},get _fields(){return s},get _formValues(){return b},get _state(){return x},set _state(e){x=e},get _defaultValues(){return g},get _names(){return w},set _names(e){w=e},get _formState(){return i},set _formState(e){i=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:K,register:en,handleSubmit:ea,watch:(t,r)=>U(t)?A.values.subscribe({next:n=>t(z(void 0,r),n)}):z(t,r,!0),setValue:Q,getValues:J,reset:es,resetField:(t,r={})=>{m(s,t)&&(h(r.defaultValue)?Q(t,p(m(g,t))):(Q(t,r.defaultValue),y(g,t,p(r.defaultValue))),r.keepTouched||eu(i.touchedFields,t),r.keepDirty||(eu(i.dirtyFields,t),i.isDirty=r.defaultValue?V(t,p(m(g,t))):V()),r.keepError||(eu(i.errors,t),S.isValid&&k()),A.state.next({...i}))},clearErrors:t=>{t&&M(t).forEach(t=>eu(i.errors,t)),A.state.next({errors:t?i.errors:{}})},unregister:ee,setError:X,setFocus:(t,r={})=>{let n=m(s,t),i=n&&n._f;if(i){let t=i.refs?i.refs[0]:i.ref;t.focus&&(t.focus(),r.shouldSelect&&U(t.select)&&t.select())}},getFieldState:Y}}(t),formState:s});let b=r.current.control;return b._options=t,D({subject:b._subjects.state,next:t=>{k(t,b._proxyFormState,b._updateFormState,!0)&&g({...b._formState})}}),i.useEffect(()=>b._disableForm(t.disabled),[b,t.disabled]),i.useEffect(()=>{if(b._proxyFormState.isDirty){let t=b._getDirty();t!==s.isDirty&&b._subjects.state.next({isDirty:t})}},[b,s.isDirty]),i.useEffect(()=>{t.values&&!ef(t.values,n.current)?(b._reset(t.values,b._options.resetOptions),n.current=t.values,g(t=>({...t}))):b._resetDefaultValues()},[t.values,b]),i.useEffect(()=>{t.errors&&b._setErrors(t.errors)},[t.errors,b]),i.useEffect(()=>{b._state.mount||(b._updateValid(),b._state.mount=!0),b._state.watch&&(b._state.watch=!1,b._subjects.state.next({...b._formState})),b._removeUnmounted()}),i.useEffect(()=>{t.shouldUnregister&&b._subjects.values.next({values:b._getWatch()})},[t.shouldUnregister,b]),r.current.formState=O(s,b),r.current},r.useFormContext=C,r.useFormState=R,r.useWatch=T},11794:function(t,r,n){"use strict";r.__esModule=!0,r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=n(38230),o=n(39954),s=n(16333),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:r})(t)}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function d(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f(t,r){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}var h=function(t){function r(){for(var r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).handleRefs={},r.lastHandleRect=null,r.slack=null,r}r.prototype=Object.create(t.prototype),r.prototype.constructor=r,f(r,t);var n=r.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(t,r){var n=this.props,i=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!i&&!a&&!o)return[t,r];if(o){var s=this.props.width/this.props.height;Math.abs(t-this.props.width)>Math.abs((r-this.props.height)*s)?r=t/s:t=r*s}var l=t,u=r,c=this.slack||[0,0],d=c[0],p=c[1];return t+=d,r+=p,i&&(t=Math.max(i[0],t),r=Math.max(i[1],r)),a&&(t=Math.min(a[0],t),r=Math.min(a[1],r)),this.slack=[d+(l-t),p+(u-r)],[t,r]},n.resizeHandler=function(t,r){var n=this;return function(i,a){var o=a.node,s=a.deltaX,l=a.deltaY;"onResizeStart"===t&&n.resetData();var u=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==r&&"s"!==r,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==r&&"w"!==r;if(u||c){var d=r[0],p=r[r.length-1],f=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===p&&(s+=f.left-n.lastHandleRect.left),"n"===d&&(l+=f.top-n.lastHandleRect.top)),n.lastHandleRect=f,"w"===p&&(s=-s),"n"===d&&(l=-l);var h=n.props.width+(u?s/n.props.transformScale:0),m=n.props.height+(c?l/n.props.transformScale:0),g=n.runConstraints(h,m);h=g[0],m=g[1];var y=h!==n.props.width||m!==n.props.height,v="function"==typeof n.props[t]?n.props[t]:null;v&&!("onResize"===t&&!y)&&(null==i.persist||i.persist(),v(i,{node:o,size:{width:h,height:m},handle:r})),"onResizeStop"===t&&n.resetData()}}},n.renderResizeHandle=function(t,r){var n=this.props.handle;if(!n)return i.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:r});if("function"==typeof n)return n(t,r);var a=p({ref:r},"string"==typeof n.type?{}:{handleAxis:t});return i.cloneElement(n,a)},n.render=function(){var t=this,r=this.props,n=r.children,s=r.className,u=r.draggableOpts,d=(r.width,r.height,r.handle,r.handleSize,r.lockAspectRatio,r.axis,r.minConstraints,r.maxConstraints,r.onResize,r.onResizeStop,r.onResizeStart,r.resizeHandles),f=(r.transformScale,function(t,r){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||(a[n]=t[n]);return a}(r,l));return(0,o.cloneElement)(n,p(p({},f),{},{className:(s?s+" ":"")+"react-resizable",children:[].concat(n.props.children,d.map(function(r){var n,o=null!=(n=t.handleRefs[r])?n:t.handleRefs[r]=i.createRef();return i.createElement(a.DraggableCore,c({},u,{nodeRef:o,key:"resizableHandle-"+r,onStop:t.resizeHandler("onResizeStop",r),onStart:t.resizeHandler("onResizeStart",r),onDrag:t.resizeHandler("onResize",r)}),t.renderResizeHandle(r,o))}))}))},r}(i.Component);r.default=h,h.propTypes=s.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},96609:function(t,r,n){"use strict";r.default=void 0;var i=function(t,r){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=c(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(n(70451)),a=u(n(62688)),o=u(n(11794)),s=n(16333),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:r})(t)}function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h(t,r){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}var m=function(t){function r(){for(var r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this).state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(t,n){var i=n.size;r.props.onResize?(null==t.persist||t.persist(),r.setState(i,function(){return r.props.onResize&&r.props.onResize(t,n)})):r.setState(i)},r}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,h(r,t),r.getDerivedStateFromProps=function(t,r){return r.propsWidth!==t.width||r.propsHeight!==t.height?{width:t.width,height:t.height,propsWidth:t.width,propsHeight:t.height}:null},r.prototype.render=function(){var t=this.props,r=t.handle,n=t.handleSize,a=(t.onResize,t.onResizeStart),s=t.onResizeStop,u=t.draggableOpts,c=t.minConstraints,p=t.maxConstraints,h=t.lockAspectRatio,m=t.axis,g=(t.width,t.height,t.resizeHandles),y=t.style,v=t.transformScale,b=function(t,r){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],r.indexOf(n)>=0||(a[n]=t[n]);return a}(t,l);return i.createElement(o.default,{axis:m,draggableOpts:u,handle:r,handleSize:n,height:this.state.height,lockAspectRatio:h,maxConstraints:p,minConstraints:c,onResizeStart:a,onResize:this.onResize,onResizeStop:s,resizeHandles:g,transformScale:v,width:this.state.width},i.createElement("div",d({},b,{style:f(f({},y),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(i.Component);r.default=m,m.propTypes=f(f({},s.resizableProps),{},{children:a.default.element})},16333:function(t,r,n){"use strict";r.__esModule=!0,r.resizableProps=void 0;var i,a=(i=n(62688))&&i.__esModule?i:{default:i};n(38230),r.resizableProps={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0];return"both"===o.axis||"y"===o.axis?(t=a.default.number).isRequired.apply(t,n):a.default.number.apply(a.default,n)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0];return"both"===o.axis||"x"===o.axis?(t=a.default.number).isRequired.apply(t,n):a.default.number.apply(a.default,n)}}},39954:function(t,r,n){"use strict";r.__esModule=!0,r.cloneElement=function(t,r){return r.style&&t.props.style&&(r.style=s(s({},t.props.style),r.style)),r.className&&t.props.className&&(r.className=t.props.className+" "+r.className),a.default.cloneElement(t,r)};var i,a=(i=n(70451))&&i.__esModule?i:{default:i};function o(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach(function(r){var i,a,o;i=t,a=r,o=n[r],(a=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(a))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}},50936:function(t,r,n){"use strict";t.exports=function(){throw Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(11794).default,t.exports.ResizableBox=n(96609).default},90883:function(t,r,n){"use strict";n.r(r),n.d(r,{default:()=>S});var i=function(){if("undefined"!=typeof Map)return Map;function t(t,r){var n=-1;return t.some(function(t,i){return t[0]===r&&(n=i,!0)}),n}function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},r.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},r.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},r.prototype.has=function(r){return!!~t(this.__entries__,r)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(t,r){void 0===r&&(r=null);for(var n=0,i=this.__entries__;n<i.length;n++){var a=i[n];t.call(r,a[1],a[0])}},r}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,r){var n=!1,i=!1,a=0;function o(){n&&(n=!1,t()),i&&u()}function l(){s(o)}function u(){var t=Date.now();if(n){if(t-a<2)return;i=!0}else n=!0,i=!1,setTimeout(l,20);a=t}return u}(this.refresh.bind(this),0)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=void 0===r?"":r;l.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,r){for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];Object.defineProperty(t,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},f=y(0,0,0,0);function h(t){return parseFloat(t)||0}function m(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(r,n){return r+h(t["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"==typeof t.getBBox};function y(t,r,n,i){return{x:t,y:r,width:n,height:i}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){if(!a)return f;if(g(t)){var r;return y(0,0,(r=t.getBBox()).width,r.height)}return function(t){var r,n=t.clientWidth,i=t.clientHeight;if(!n&&!i)return f;var a=p(t).getComputedStyle(t),o=function(t){for(var r={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=h(o)}return r}(a),s=o.left+o.right,l=o.top+o.bottom,u=h(a.width),c=h(a.height);if("border-box"===a.boxSizing&&(Math.round(u+s)!==n&&(u-=m(a,"left","right")+s),Math.round(c+l)!==i&&(c-=m(a,"top","bottom")+l)),(r=t)!==p(r).document.documentElement){var d=Math.round(u+s)-n,g=Math.round(c+l)-i;1!==Math.abs(d)&&(u-=d),1!==Math.abs(g)&&(c-=g)}return y(o.left,o.top,u,c)}(t)}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,r){var n,i,a,o,s,l=(n=r.x,i=r.y,a=r.width,o=r.height,d(s=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:i,width:a,height:o,top:i,right:n+a,bottom:o+i,left:n}),s);d(this,{target:t,contentRect:l})},x=function(){function t(t,r,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new i,j=function t(r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new x(r,c.getInstance(),this);w.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){j.prototype[t]=function(){var r;return(r=w.get(this))[t].apply(r,arguments)}});let S=void 0!==o.ResizeObserver?o.ResizeObserver:j},83575:function(t,r,n){"use strict";var i=n(28527),a=n(1711),o=function(t,r,n){for(var i,a=t;null!=(i=a.next);a=i)if(i.key===r)return a.next=i.next,n||(i.next=t.next,t.next=i),i},s=function(t,r){if(t){var n=o(t,r);return n&&n.value}},l=function(t,r,n){var i=o(t,r);i?i.value=n:t.next={key:r,next:t.next,value:n}},u=function(t,r){if(t)return o(t,r,!0)};t.exports=function(){var t,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},delete:function(r){var n=t&&t.next,i=u(t,r);return i&&n&&n===i&&(t=void 0),!!i},get:function(r){return s(t,r)},has:function(r){var n;return!!(n=t)&&!!o(n,r)},set:function(r,n){t||(t={next:void 0}),l(t,r,n)}};return r}},69167:function(t,r,n){"use strict";var i=n(68897),a=n(93232),o=n(28527),s=n(1711),l=i("%Map%",!0),u=a("Map.prototype.get",!0),c=a("Map.prototype.set",!0),d=a("Map.prototype.has",!0),p=a("Map.prototype.delete",!0),f=a("Map.prototype.size",!0);t.exports=!!l&&function(){var t,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+o(t))},delete:function(r){if(t){var n=p(t,r);return 0===f(t)&&(t=void 0),n}return!1},get:function(r){if(t)return u(t,r)},has:function(r){return!!t&&d(t,r)},set:function(r,n){t||(t=new l),c(t,r,n)}};return r}},69075:function(t,r,n){"use strict";var i=n(68897),a=n(93232),o=n(28527),s=n(69167),l=n(1711),u=i("%WeakMap%",!0),c=a("WeakMap.prototype.get",!0),d=a("WeakMap.prototype.set",!0),p=a("WeakMap.prototype.has",!0),f=a("WeakMap.prototype.delete",!0);t.exports=u?function(){var t,r,n={assert:function(t){if(!n.has(t))throw new l("Side channel does not contain "+o(t))},delete:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return f(t,n)}else if(s&&r)return r.delete(n);return!1},get:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&t?c(t,n):r&&r.get(n)},has:function(n){return u&&n&&("object"==typeof n||"function"==typeof n)&&t?p(t,n):!!r&&r.has(n)},set:function(n,i){u&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new u),d(t,n,i)):s&&(r||(r=s()),r.set(n,i))}};return n}:s},10588:function(t,r,n){"use strict";var i=n(1711),a=n(28527),o=n(83575),s=n(69167),l=n(69075)||s||o;t.exports=function(){var t,r={assert:function(t){if(!r.has(t))throw new i("Side channel does not contain "+a(t))},delete:function(r){return!!t&&t.delete(r)},get:function(r){return t&&t.get(r)},has:function(r){return!!t&&t.has(r)},set:function(r,n){t||(t=l()),t.set(r,n)}};return r}},23420:function(t){function r(){}r.prototype={on:function(t,r,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:r,ctx:n}),this},once:function(t,r,n){var i=this;function a(){i.off(t,a),r.apply(n,arguments)}return a._=r,this.on(t,a,n)},emit:function(t){for(var r=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,a=n.length;i<a;i++)n[i].fn.apply(n[i].ctx,r);return this},off:function(t,r){var n=this.e||(this.e={}),i=n[t],a=[];if(i&&r)for(var o=0,s=i.length;o<s;o++)i[o].fn!==r&&i[o].fn._!==r&&a.push(i[o]);return a.length?n[t]=a:delete n[t],this}},t.exports=r,t.exports.TinyEmitter=r},42915:function(t){"use strict";var r;r=function(){function t(){return!0}function r(){return!1}function n(){}return function i(){var a=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:t},s=[],l=[],u={types:a,conversions:l,ignore:s};function c(t){var r=V(u.types,function(r){return r.name===t});if(r)return r;if("any"===t)return o;var n=V(u.types,function(r){return r.name.toLowerCase()===t.toLowerCase()});throw TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function d(t){return t===o?999:u.types.indexOf(t)}function p(t){var r=V(u.types,function(r){return r.test(t)});if(r)return r.name;throw TypeError("Value has unknown type. Value: "+t)}function f(t){return t.map(function(t){var r=t.types.map(b);return(t.restParam?"...":"")+r.join("|")}).join(",")}function h(t){var r=T(t);return!!r&&r.restParam}function m(t){return t.types.some(function(t){return null!=t.conversion})}function g(r){if(!r||0===r.types.length)return t;if(1===r.types.length)return c(r.types[0].name).test;if(2===r.types.length){var n=c(r.types[0].name).test,i=c(r.types[1].name).test;return function(t){return n(t)||i(t)}}var a=r.types.map(function(t){return c(t.name).test});return function(t){for(var r=0;r<a.length;r++)if(a[r](t))return!0;return!1}}function y(t,r){return r<t.params.length?t.params[r]:h(t.params)?T(t.params):null}function v(t,r,n){var i=y(t,r);return(i?n?i.types.filter(x):i.types:[]).map(b)}function b(t){return t.name}function x(t){return null===t.conversion||void 0===t.conversion}function w(t,r){var n=function(t){for(var r={},n=0;n<t.length;n++)r[t[n]]=!0;return Object.keys(r)}(z(t,function(t){return v(t,r,!1)}));return -1!==n.indexOf("any")?["any"]:n}function j(t,r,n){var i,a,o,s=t||"unnamed",l=n;for(o=0;o<r.length;o++){var u=l.filter(function(t){var n=g(y(t,o));return(o<t.params.length||h(t.params))&&n(r[o])});if(0===u.length){if((a=w(l,o)).length>0){var c=p(r[o]);return(i=TypeError("Unexpected type of argument in function "+s+" (expected: "+a.join(" or ")+", actual: "+c+", index: "+o+")")).data={category:"wrongType",fn:s,index:o,actual:c,expected:a},i}}else l=u}var d=l.map(function(t){return h(t.params)?1/0:t.params.length});if(r.length<Math.min.apply(null,d))return(i=TypeError("Too few arguments in function "+s+" (expected: "+(a=w(l,o)).join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:s,index:r.length,expected:a},i;var f=Math.max.apply(null,d);return r.length>f?(i=TypeError("Too many arguments in function "+s+" (expected: "+f+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:s,index:r.length,expectedLength:f}:(i=TypeError('Arguments of type "'+r.join(", ")+'" do not match any of the defined signatures of function '+s+".")).data={category:"mismatch",actual:r.map(p)},i}function S(t){for(var r=999,n=0;n<t.types.length;n++)x(t.types[n])&&(r=Math.min(r,t.types[n].typeIndex));return r}function A(t){for(var r=999,n=0;n<t.types.length;n++)x(t.types[n])||(r=Math.min(r,t.types[n].conversionIndex));return r}function _(t,r){var n,i,a=Math.min(t.params.length,r.params.length);if(0!=(i=t.params.some(m)-r.params.some(m)))return i;for(n=0;n<a;n++)if(0!=(i=m(t.params[n])-m(r.params[n])))return i;for(n=0;n<a;n++)if(0!==(i=function(t,r){var n;return 0!=(n=t.restParam-r.restParam)||0!=(n=m(t)-m(r))||0!=(n=S(t)-S(r))?n:A(t)-A(r)}(t.params[n],r.params[n])))return i;return t.params.length-r.params.length}function C(t){var r,n,i,a,o=[],s=[];switch(t.types.forEach(function(t){t.conversion&&(o.push(c(t.conversion.from).test),s.push(t.conversion.convert))}),s.length){case 0:return function(t){return t};case 1:return r=o[0],i=s[0],function(t){return r(t)?i(t):t};case 2:return r=o[0],n=o[1],i=s[0],a=s[1],function(t){return r(t)?i(t):n(t)?a(t):t};default:return function(t){for(var r=0;r<s.length;r++)if(o[r](t))return s[r](t);return t}}}function O(t,r){return function t(n,i,a){if(!(i<n.length))return[a.map(function(t,r){return{types:t,restParam:r===n.length-1&&h(n)}})];var o,s=n[i],l=r?s.types.filter(x):s.types;if(s.restParam){var u=l.filter(x);o=u.length<l.length?[u,l]:[l]}else o=l.map(function(t){return[t]});return z(o,function(r){return t(n,i+1,a.concat([r]))})}(t,0,[])}function E(t,i){if(0===Object.keys(i).length)throw SyntaxError("No signatures provided");var a,o=[];Object.keys(i).map(function(t){var r,n,a;return r=i[t],n=u.conversions,a=[],(""!==t.trim()&&(a=t.split(",").map(P).map(function(t,r,i){var a,o,s,l,u,p,f,h,m=(a=n,o=u=((l=0===t.indexOf("..."))?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(D).filter(M),s={},a.forEach(function(t){-1!==o.indexOf(t.from)||-1===o.indexOf(t.to)||s[t.from]||(s[t.from]=t)}),p=Object.keys(s).map(function(t){return s[t]}),f=u.map(function(t){var r=c(t);return{name:t,typeIndex:d(r),test:r.test,conversion:null,conversionIndex:-1}}),h=p.map(function(t){var r=c(t.from);return{name:t.from,typeIndex:d(r),test:r.test,conversion:t,conversionIndex:n.indexOf(t)}}),{types:f.concat(h),restParam:l});if(m.restParam&&r!==i.length-1)throw SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return m})),a.some(N))?null:{params:a,fn:r}}).filter(R).forEach(function(t){var r=V(o,function(r){return function(t,r){for(var n=Math.max(t.params.length,r.params.length),i=0;i<n;i++)if(!function(t,r){for(var n,i=0;i<t.length;i++)if(n=t[i],-1!==r.indexOf(n))return!0;return!1}(v(t,i,!0),v(r,i,!0)))return!1;var a=t.params.length,o=r.params.length,s=h(t.params),l=h(r.params);return s?l?a===o:o>=a:l?a>=o:a===o}(r,t)});if(r)throw TypeError('Conflicting signatures "'+f(r.params)+'" and "'+f(t.params)+'".');o.push(t)});var s=z(o,function(t){return(t?O(t.params,!1):[]).map(function(r){return{params:r,fn:t.fn}})}).filter(R);s.sort(_);var l=s[0]&&s[0].params.length<=2&&!h(s[0].params),p=s[1]&&s[1].params.length<=2&&!h(s[1].params),y=s[2]&&s[2].params.length<=2&&!h(s[2].params),b=s[3]&&s[3].params.length<=2&&!h(s[3].params),x=s[4]&&s[4].params.length<=2&&!h(s[4].params),w=s[5]&&s[5].params.length<=2&&!h(s[5].params),j=s.map(function(t){return function(t){var r,n,i;if(h(t)){var a,o=(r=(a=t).slice(0,a.length-1).map(g)).length,s=g(T(t)),l=function(t){for(var r=o;r<t.length;r++)if(!s(t[r]))return!1;return!0};return function(t){for(var n=0;n<r.length;n++)if(!r[n](t[n]))return!1;return l(t)&&t.length>=o+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=g(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=g(t[0]),i=g(t[1]),function(t){return n(t[0])&&i(t[1])&&2===t.length}):(r=t.map(g),function(t){for(var n=0;n<r.length;n++)if(!r[n](t[n]))return!1;return t.length===r.length})}(t.params)}),S=l?g(s[0].params[0]):r,A=p?g(s[1].params[0]):r,E=y?g(s[2].params[0]):r,k=b?g(s[3].params[0]):r,L=x?g(s[4].params[0]):r,F=w?g(s[5].params[0]):r,$=l?g(s[0].params[1]):r,B=p?g(s[1].params[1]):r,q=y?g(s[2].params[1]):r,H=b?g(s[3].params[1]):r,U=x?g(s[4].params[1]):r,W=w?g(s[5].params[1]):r,Q=s.map(function(t){return function(t,r){var n=r;if(t.some(m)){var i=h(t),a=t.map(C);n=function(){for(var t=[],n=i?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=a[o](arguments[o]);return i&&(t[n]=arguments[n].map(a[n])),r.apply(this,t)}}var o=n;if(h(t)){var s=t.length-1;o=function(){return n.apply(this,I(arguments,0,s).concat([I(arguments,s)]))}}return o}(t.params,t.fn)}),Z=l?Q[0]:n,G=p?Q[1]:n,K=y?Q[2]:n,J=b?Q[3]:n,Y=x?Q[4]:n,X=w?Q[5]:n,ee=l?s[0].params.length:-1,et=p?s[1].params.length:-1,er=y?s[2].params.length:-1,en=b?s[3].params.length:-1,ei=x?s[4].params.length:-1,ea=w?s[5].params.length:-1,eo=6*!!(l&&p&&y&&b&&x&&w),es=s.length,el=function(){for(var r=eo;r<es;r++)if(j[r](arguments))return Q[r].apply(this,arguments);return u.onMismatch(t,arguments,s)},eu=function t(r,n){return arguments.length===ee&&S(r)&&$(n)?Z.apply(t,arguments):arguments.length===et&&A(r)&&B(n)?G.apply(t,arguments):arguments.length===er&&E(r)&&q(n)?K.apply(t,arguments):arguments.length===en&&k(r)&&H(n)?J.apply(t,arguments):arguments.length===ei&&L(r)&&U(n)?Y.apply(t,arguments):arguments.length===ea&&F(r)&&W(n)?X.apply(t,arguments):el.apply(t,arguments)};try{Object.defineProperty(eu,"name",{value:t})}catch(t){}return a={},s.forEach(function(t){t.params.some(m)||O(t.params,!0).forEach(function(r){a[f(r)]=t.fn})}),eu.signatures=a,eu}function k(t,r,n){throw j(t,r,n)}function M(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function D(t){return!!t}function R(t){return null!==t}function N(t){return 0===t.types.length}function T(t){return t[t.length-1]}function I(t,r,n){return Array.prototype.slice.call(t,r,n)}function V(t,r){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}function z(t,r){return Array.prototype.concat.apply([],t.map(r))}function L(t){for(var r="",n=0;n<t.length;n++){var i=t[n];if(("object"==typeof i.signatures||"string"==typeof i.signature)&&""!==i.name){if(""===r)r=i.name;else if(r!==i.name){var a=Error("Function names do not match (expected: "+r+", actual: "+i.name+")");throw a.data={actual:i.name,expected:r},a}}}return r}function F(t){var r,n={};function i(t,i){if(n.hasOwnProperty(t)&&i!==n[t])throw(r=Error('Signature "'+t+'" is defined twice')).data={signature:t},r}for(var a=0;a<t.length;a++){var o=t[a];if("object"==typeof o.signatures)for(var s in o.signatures)o.signatures.hasOwnProperty(s)&&(i(s,o.signatures[s]),n[s]=o.signatures[s]);else if("string"==typeof o.signature)i(o.signature,o),n[o.signature]=o;else throw(r=TypeError("Function is no typed-function (index: "+a+")")).data={index:a},r}return n}return(u=E("typed",{"string, Object":E,Object:function(t){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(t[n]);return E(L(r),t)},"...Function":function(t){return E(L(t),F(t))},"string, ...Function":function(t,r){return E(t,F(r))}})).create=i,u.types=a,u.conversions=l,u.ignore=s,u.onMismatch=k,u.throwMismatchError=k,u.createError=j,u.convert=function(t,r){var n=p(t);if(r===n)return t;for(var i=0;i<u.conversions.length;i++){var a=u.conversions[i];if(a.from===n&&a.to===r)return a.convert(t)}throw Error("Cannot convert from "+n+" to "+r)},u.find=function(t,r){if(!t.signatures)throw TypeError("Function is no typed-function");if("string"==typeof r){n=r.split(",");for(var n,i=0;i<n.length;i++)n[i]=n[i].trim()}else if(Array.isArray(r))n=r;else throw TypeError("String array or a comma separated string expected");var a=n.join(","),o=t.signatures[a];if(o)return o;throw TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(t,r){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw TypeError("Object with properties {name: string, test: function} expected");if(!1!==r){for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t)}u.types.push(t)},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}()},"function"==typeof define&&define.amd?define([],r):t.exports=r()},57348:function(t,r,n){"use strict";let i,a,o;function s(t,r,n=!0){return{...t,default:r,decode:(...i)=>{let a=t.decode(...i);return void 0===a||n&&null===a?r:a}}}function l(t,r){if(null==t)return t;if(0===t.length&&(!r||r&&""!==t))return null;let n=t instanceof Array?t[0]:t;return null==n||r||""!==n?n:null}n.d(r,{useQueryParams:()=>_,encodeQueryParams:()=>d,JsonParam:()=>c,withDefault:()=>s,StringParam:()=>u,useQueryParam:()=>C});let u={encode:function(t){return null==t?t:String(t)},decode:function(t){let r=l(t,!0);return null==r?r:String(r)}},c={encode:function(t){return null==t?t:JSON.stringify(t)},decode:function(t){let r=l(t);if(null==r)return r;let n=null;try{n=JSON.parse(r)}catch(t){}return n}};function d(t,r){let n={};for(let i of Object.keys(r)){let a=r[i];t[i]?n[i]=t[i].encode(r[i]):n[i]=null==a?a:String(a)}return n}'{}[],":'.split("").map(t=>[t,encodeURIComponent(t)]);var p=n(70451);let f=new class{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(t,r,n,i){this.paramsMap.set(t,{stringified:r,decoded:n,decode:i})}has(t,r,n){if(!this.paramsMap.has(t))return!1;let i=this.paramsMap.get(t);return!!i&&i.stringified===r&&(null==n||i.decode===n)}get(t){var r;if(this.paramsMap.has(t))return null==(r=this.paramsMap.get(t))?void 0:r.decoded}registerParams(t){for(let r of t){let t=this.registeredParams.get(r)||0;this.registeredParams.set(r,t+1)}}unregisterParams(t){for(let r of t){let t=(this.registeredParams.get(r)||0)-1;t<=0?(this.registeredParams.delete(r),this.paramsMap.has(r)&&this.paramsMap.delete(r)):this.registeredParams.set(r,t)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}};function h(t,r,n,i){var a;if(!n||!r.length)return t;let o={...t},s=!1;for(let t of r)Object.prototype.hasOwnProperty.call(o,t)||(o[t]=null!=(a=n[t])?a:i,s=!0);return s?o:t}let m=Object.prototype.hasOwnProperty;function g(t,r){return t===r?0!==t||0!==r||1/t==1/r:t!=t&&r!=r}function y(t,r,n){var i,a;if(g(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;let o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(let s=0;s<o.length;s++){let l=null!=(a=null==(i=null==n?void 0:n[o[s]])?void 0:i.equals)?a:g;if(!m.call(r,o[s])||!l(t[o[s]],r[o[s]]))return!1}return!0}function v(t,r,n){let i={};for(let a of Object.keys(r)){let o,s=r[a],l=t[a];if(n.has(a,l,s.decode))o=n.get(a);else{if(o=s.decode(l),s.equals&&n.has(a,l)){let t=n.get(a);s.equals(o,t)&&(o=t)}void 0!==o&&n.set(a,l,o,s.decode)}void 0===o&&void 0!==s.default&&(o=s.default),i[a]=o}return i}function b(){let t;return function(r,n,i){let a=v(r,n,i);return null!=t&&y(t,a)?t:(t=a,a)}}let x={},w=(t,r,n)=>{if(i===r&&o===t&&a===n)return x;i=r,o=t;let s=t(null!=r?r:"");a=n;let l=function(t){if(t)return Object.fromEntries(t.split("\n").map(t=>t.split("\0")))}(n);for(let[t,r]of Object.entries(s)){(null==l?void 0:l[t])&&(delete s[t],s[t=l[t]]=r);let n=x[t];y(r,n)&&(s[t]=n)}return x=s,s},j={adapter:{},options:{searchStringToObject:function(t){let r=new URLSearchParams(t),n={};for(let[t,i]of r)Object.prototype.hasOwnProperty.call(n,t)?Array.isArray(n[t])?n[t].push(i):n[t]=[n[t],i]:n[t]=i;return n},objectToSearchString:function(t){let r=new URLSearchParams;for(let[n,i]of Object.entries(t))if(void 0!==i&&null!==i)if(Array.isArray(i))for(let t of i)r.append(n,null!=t?t:"");else r.append(n,i);return r.toString()},updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0}},S=p.createContext(j),A=[];function _(t,r){let{adapter:n,options:i}=function(){let t=p.useContext(S);if(void 0===t||t===j)throw Error("useQueryParams must be used within a QueryParamProvider");return t}(),[a]=(0,p.useState)(b),{paramConfigMap:o,options:s}=function(t,r){let n;return{paramConfigMap:n=void 0===t?{}:Array.isArray(t)?Object.fromEntries(t.map(t=>[t,"inherit"])):t,options:r}}(t,r),l=(0,p.useMemo)(()=>{var t;let r;return null==(t=s)&&(t={}),r={...i,...t},t.params&&i.params&&(r.params={...i.params,...t.params}),r},[i,s]),c=function(t,r){var n,i,a;let o={},s=!1,l=Object.keys(t);if(r.includeKnownParams||!1!==r.includeKnownParams&&0===l.length){let t=Object.keys(null!=(n=r.params)?n:{});l.push(...t)}for(let n of l){let l=t[n];if(null!=l&&"object"==typeof l){o[n]=l;continue}s=!0,o[n]=null!=(a=null==(i=r.params)?void 0:i[n])?a:u}return s?o:t}(o,l),m=w(l.searchStringToObject,n.location.search,function(t){let r;for(let n in t)if(t[n].urlName){let i=t[n].urlName,a=`${i}\0${n}`;r?r.push(a):r=[a]}return r?r.join("\n"):void 0}(c));l.includeAllParams&&(c=h(c,Object.keys(m),l.params,u));let g=a(m,c,f),y=Object.keys(c).join("\0");(0,p.useEffect)(()=>{let t=y.split("\0");return f.registerParams(t),()=>{f.unregisterParams(t)}},[y]);let x={adapter:n,paramConfigMap:c,options:l},_=(0,p.useRef)(x);null==_.current&&(_.current=x),(0,p.useEffect)(()=>{_.current.adapter=n,_.current.paramConfigMap=c,_.current.options=l},[n,c,l]);let[C]=(0,p.useState)(()=>(t,r)=>{let{adapter:n,paramConfigMap:i,options:a}=_.current;null==r&&(r=a.updateType),function(t,{immediate:r}={}){A.push(t),1===A.length&&(r?t=>t():t=>setTimeout(()=>t(),0))(()=>{let r,n=A.slice();A.length=0;let i=n[0].currentSearchString;for(let t=0;t<n.length;++t)r=function({changes:t,updateType:r,currentSearchString:n,paramConfigMap:i,options:a}){let o,s,l,{searchStringToObject:u,objectToSearchString:c}=a;null==r&&(r=a.updateType);let p=w(u,n),m=h(i,Object.keys(t),a.params);return s="function"==typeof t?t(v(p,m,f)):t,o=d(m,s),a.removeDefaultsFromUrl&&function(t,r){var n;for(let i in t)(null==(n=r[i])?void 0:n.default)!==void 0&&void 0!==t[i]&&r[i].encode(r[i].default)===t[i]&&(t[i]=void 0)}(o,m),o=function(t,r){var n;let i={};for(let a in t)(null==(n=r[a])?void 0:n.urlName)!=null?i[r[a].urlName]=t[a]:i[a]=t[a];return i}(o,m),(null==(l=c("push"===r||"replace"===r?o:{...p,...o}))?void 0:l.length)&&"?"!==l[0]&&(l=`?${l}`),null!=l?l:""}(0===t?n[t]:{...n[t],currentSearchString:r});t.options.skipUpdateWhenNoChange&&r===i||function({searchString:t,adapter:r,navigate:n,updateType:i}){let a={...r.location,search:t};n&&("string"==typeof i&&i.startsWith("replace")?r.replace(a):r.push(a))}({searchString:null!=r?r:"",adapter:n[n.length-1].adapter,navigate:!0,updateType:n[n.length-1].updateType})})}({changes:t,updateType:r,currentSearchString:n.location.search,paramConfigMap:i,options:a,adapter:n},{immediate:!a.enableBatching})});return[g,C]}let C=(t,r,n)=>{let[i,a]=_((0,p.useMemo)(()=>({[t]:null!=r?r:"inherit"}),[t,r]),n);return[i[t],(0,p.useCallback)((r,n)=>"function"==typeof r?a(n=>{let i=r(n[t]);return{[t]:i}},n):a({[t]:r},n),[t,a])]}},32473:function(t,r,n){"use strict";var i=n(70451),a="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},o=i.useState,s=i.useEffect,l=i.useLayoutEffect,u=i.useDebugValue;function c(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!a(t,n)}catch(t){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,r){return r()}:function(t,r){var n=r(),i=o({inst:{value:n,getSnapshot:r}}),a=i[0].inst,d=i[1];return l(function(){a.value=n,a.getSnapshot=r,c(a)&&d({inst:a})},[t,n,r]),s(function(){return c(a)&&d({inst:a}),t(function(){c(a)&&d({inst:a})})},[t]),u(n),n};r.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},21750:function(t,r,n){"use strict";var i=n(70451),a=n(43676),o="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r},s=a.useSyncExternalStore,l=i.useRef,u=i.useEffect,c=i.useMemo,d=i.useDebugValue;r.useSyncExternalStoreWithSelector=function(t,r,n,i,a){var p=l(null);if(null===p.current){var f={hasValue:!1,value:null};p.current=f}else f=p.current;var h=s(t,(p=c(function(){function t(t){if(!u){if(u=!0,s=t,t=i(t),void 0!==a&&f.hasValue){var r=f.value;if(a(r,t))return l=r}return l=t}if(r=l,o(s,t))return r;var n=i(t);return void 0!==a&&a(r,n)?(s=t,r):(s=t,l=n)}var s,l,u=!1,c=void 0===n?null:n;return[function(){return t(r())},null===c?void 0:function(){return t(c())}]},[r,n,i,a]))[0],p[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),d(h),h}},43676:function(t,r,n){"use strict";t.exports=n(32473)},95390:function(t,r,n){"use strict";t.exports=n(21750)},44638:function(t,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,r,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,i,a)}:function(t,r,n,i){void 0===i&&(i=n),t[i]=r[n]}),a=this&&this.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,t,n)};Object.defineProperty(r,"__esModule",{value:!0}),a(n(81696),r)},81696:function(t,r,n){"use strict";var i=n(94490);Object.prototype.hasOwnProperty.call(i,"__proto__")&&!Object.prototype.hasOwnProperty.call(r,"__proto__")&&Object.defineProperty(r,"__proto__",{enumerable:!0,value:i.__proto__}),Object.keys(i).forEach(function(t){"default"===t||Object.prototype.hasOwnProperty.call(r,t)||(r[t]=i[t])})},42338:function(t,r,n){"use strict";n.d(r,{u:()=>s});var i=n(25511),a=n(79215),o=function(t,r){for(var n={};t.length;){var i=t[0],o=i.code,s=i.message,l=i.path.join(".");if(!n[l])if("unionErrors"in i){var u=i.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:s,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return t.push(r)})}),r){var c=n[l].types,d=c&&c[i.code];n[l]=(0,a.appendErrors)(l,r,n,o,d?[].concat(d,i.message):i.message)}t.shift()}return n},s=function(t,r,n){return void 0===n&&(n={}),function(a,s,l){try{return Promise.resolve(function(o,s){try{var u=Promise.resolve(t["sync"===n.mode?"parse":"parseAsync"](a,r)).then(function(t){return l.shouldUseNativeValidation&&(0,i.validateFieldsNatively)({},l),{errors:{},values:n.raw?a:t}})}catch(t){return s(t)}return u&&u.then?u.then(void 0,s):u}(0,function(t){if(Array.isArray(null==t?void 0:t.errors))return{values:{},errors:(0,i.toNestErrors)(o(t.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw t}))}catch(t){return Promise.reject(t)}}}},65098:function(t,r,n){"use strict";n.d(r,{Ht:()=>u,T1:()=>a,jE:()=>l});var i=n(70451);let a=i.createContext(void 0),o=i.createContext(!1);function s(t,r){return t||(r&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=a),window.ReactQueryClientContext):a)}let l=({context:t}={})=>{let r=i.useContext(s(t,i.useContext(o)));if(!r)throw Error("No QueryClient set, use QueryClientProvider to set one");return r},u=({client:t,children:r,context:n,contextSharing:a=!1})=>{i.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);let l=s(n,a);return i.createElement(o.Provider,{value:!n&&a},i.createElement(l.Provider,{value:t},r))}},23726:function(t,r,n){"use strict";let i;n.d(r,{z:()=>tf}),(ti=ts||(ts={})).assertEqual=t=>t,ti.assertIs=function(t){},ti.assertNever=function(t){throw Error()},ti.arrayToEnum=t=>{let r={};for(let n of t)r[n]=n;return r},ti.getValidEnumValues=t=>{let r=ti.objectKeys(t).filter(r=>"number"!=typeof t[t[r]]),n={};for(let i of r)n[i]=t[i];return ti.objectValues(n)},ti.objectValues=t=>ti.objectKeys(t).map(function(r){return t[r]}),ti.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{let r=[];for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);return r},ti.find=(t,r)=>{for(let n of t)if(r(n))return n},ti.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,ti.joinValues=function(t,r=" | "){return t.map(t=>"string"==typeof t?`'${t}'`:t).join(r)},ti.jsonStringifyReplacer=(t,r)=>"bigint"==typeof r?r.toString():r,(tl||(tl={})).mergeShapes=(t,r)=>({...t,...r});let a=ts.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),o=t=>{switch(typeof t){case"undefined":return a.undefined;case"string":return a.string;case"number":return isNaN(t)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(t))return a.array;if(null===t)return a.null;if(t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch)return a.promise;if("undefined"!=typeof Map&&t instanceof Map)return a.map;if("undefined"!=typeof Set&&t instanceof Set)return a.set;if("undefined"!=typeof Date&&t instanceof Date)return a.date;return a.object;default:return a.unknown}},s=ts.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class l extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(t){return t.message},n={_errors:[]},i=t=>{for(let a of t.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)n._errors.push(r(a));else{let t=n,i=0;for(;i<a.path.length;){let n=a.path[i];i===a.path.length-1?(t[n]=t[n]||{_errors:[]},t[n]._errors.push(r(a))):t[n]=t[n]||{_errors:[]},t=t[n],i++}}};return i(this),n}static assert(t){if(!(t instanceof l))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ts.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}l.create=t=>new l(t);let u=(t,r)=>{let n;switch(t.code){case s.invalid_type:n=t.received===a.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case s.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ts.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:n=`Unrecognized key(s) in object: ${ts.joinValues(t.keys,", ")}`;break;case s.invalid_union:n="Invalid input";break;case s.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ts.joinValues(t.options)}`;break;case s.invalid_enum_value:n=`Invalid enum value. Expected ${ts.joinValues(t.options)}, received '${t.received}'`;break;case s.invalid_arguments:n="Invalid function arguments";break;case s.invalid_return_type:n="Invalid function return type";break;case s.invalid_date:n="Invalid date";break;case s.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ts.assertNever(t.validation):n="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case s.too_small:n="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case s.too_big:n="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case s.custom:n="Invalid input";break;case s.invalid_intersection_types:n="Intersection results could not be merged";break;case s.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case s.not_finite:n="Number must be finite";break;default:n=r.defaultError,ts.assertNever(t)}return{message:n}},c=u;function d(){return c}let p=t=>{let{data:r,path:n,errorMaps:i,issueData:a}=t,o=[...n,...a.path||[]],s={...a,path:o};if(void 0!==a.message)return{...a,path:o,message:a.message};let l="";for(let t of i.filter(t=>!!t).slice().reverse())l=t(s,{data:r,defaultError:l}).message;return{...a,path:o,message:l}};function f(t,r){let n=d(),i=p({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===u?void 0:u].filter(t=>!!t)});t.common.issues.push(i)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if("aborted"===i.status)return m;"dirty"===i.status&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let t of r){let r=await t.key,i=await t.value;n.push({key:r,value:i})}return h.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:r,value:a}=i;if("aborted"===r.status||"aborted"===a.status)return m;"dirty"===r.status&&t.dirty(),"dirty"===a.status&&t.dirty(),"__proto__"!==r.value&&(void 0!==a.value||i.alwaysSet)&&(n[r.value]=a.value)}return{status:t.value,value:n}}}let m=Object.freeze({status:"aborted"}),g=t=>({status:"dirty",value:t}),y=t=>({status:"valid",value:t}),v=t=>"aborted"===t.status,b=t=>"dirty"===t.status,x=t=>"valid"===t.status,w=t=>"undefined"!=typeof Promise&&t instanceof Promise;function j(t,r,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!i:!r.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:r.get(t)}function S(t,r,n,i,a){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!a:!r.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,n):a?a.value=n:r.set(t,n),n}"function"==typeof SuppressedError&&SuppressedError,(ta=tu||(tu={})).errToObj=t=>"string"==typeof t?{message:t}:t||{},ta.toString=t=>"string"==typeof t?t:null==t?void 0:t.message;class A{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let _=(t,r)=>{if(x(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new l(t.common.issues);return this._error=r,this._error}}};function C(t){if(!t)return{};let{errorMap:r,invalid_type_error:n,required_error:i,description:a}=t;if(r&&(n||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return r?{errorMap:r,description:a}:{errorMap:(r,a)=>{var o,s;let{message:l}=t;return"invalid_enum_value"===r.code?{message:null!=l?l:a.defaultError}:void 0===a.data?{message:null!=(o=null!=l?l:i)?o:a.defaultError}:"invalid_type"!==r.code?{message:a.defaultError}:{message:null!=(s=null!=l?l:n)?s:a.defaultError}},description:a}}class O{get description(){return this._def.description}_getType(t){return o(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new h,ctx:{common:t.parent.common,data:t.data,parsedType:o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(w(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){return Promise.resolve(this._parse(t))}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:null!=(n=null==r?void 0:r.async)&&n,contextualErrorMap:null==r?void 0:r.errorMap},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:o(t)},a=this._parseSync({data:t,path:i.path,parent:i});return _(i,a)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:o(t)};if(!this["~standard"].async)try{let r=this._parseSync({data:t,path:[],parent:i});return x(r)?{value:r.value}:{issues:i.common.issues}}catch(t){(null==(n=null==(r=null==t?void 0:t.message)?void 0:r.toLowerCase())?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(t=>x(t)?{value:t.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:null==r?void 0:r.errorMap,async:!0},path:(null==r?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:o(t)},i=this._parse({data:t,path:n.path,parent:n});return _(n,await (w(i)?i:Promise.resolve(i)))}refine(t,r){return this._refinement((n,i)=>{let a=t(n),o=()=>i.addIssue({code:s.custom,..."string"==typeof r||void 0===r?{message:r}:"function"==typeof r?r(n):r});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(t=>!!t||(o(),!1)):!!a||(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>!!t(n)||(i.addIssue("function"==typeof r?r(n,i):r),!1))}_refinement(t){return new ew({schema:this,typeName:tp.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ej.create(this,this._def)}nullable(){return eS.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ei.create(this)}promise(){return ex.create(this,this._def)}or(t){return eo.create([this,t],this._def)}and(t){return eu.create(this,t,this._def)}transform(t){return new ew({...C(this._def),schema:this,typeName:tp.ZodEffects,effect:{type:"transform",transform:t}})}default(t){return new eA({...C(this._def),innerType:this,defaultValue:"function"==typeof t?t:()=>t,typeName:tp.ZodDefault})}brand(){return new eE({typeName:tp.ZodBranded,type:this,...C(this._def)})}catch(t){return new e_({...C(this._def),innerType:this,catchValue:"function"==typeof t?t:()=>t,typeName:tp.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return ek.create(this,t)}readonly(){return eM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let E=/^c[^\s-]{8,}$/i,k=/^[0-9a-z]+$/,M=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D=/^[a-z0-9_-]{21}$/i,R=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,T=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,I=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,L=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,B="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q=RegExp(`^${B}$`);function H(t){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?r=`${r}\\.\\d{${t.precision}}`:null==t.precision&&(r=`${r}(\\.\\d+)?`),r}function U(t){let r=`${B}T${H(t)}`,n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,RegExp(`^${r}$`)}class W extends O{_parse(t){var r,n,o,l;let u;if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==a.string){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.string,received:r.parsedType}),m}let c=new h;for(let a of this._def.checks)if("min"===a.kind)t.data.length<a.value&&(f(u=this._getOrReturnCtx(t,u),{code:s.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),c.dirty());else if("max"===a.kind)t.data.length>a.value&&(f(u=this._getOrReturnCtx(t,u),{code:s.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),c.dirty());else if("length"===a.kind){let r=t.data.length>a.value,n=t.data.length<a.value;(r||n)&&(u=this._getOrReturnCtx(t,u),r?f(u,{code:s.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&f(u,{code:s.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),c.dirty())}else if("email"===a.kind)T.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"email",code:s.invalid_string,message:a.message}),c.dirty());else if("emoji"===a.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"emoji",code:s.invalid_string,message:a.message}),c.dirty());else if("uuid"===a.kind)P.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"uuid",code:s.invalid_string,message:a.message}),c.dirty());else if("nanoid"===a.kind)D.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"nanoid",code:s.invalid_string,message:a.message}),c.dirty());else if("cuid"===a.kind)E.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"cuid",code:s.invalid_string,message:a.message}),c.dirty());else if("cuid2"===a.kind)k.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"cuid2",code:s.invalid_string,message:a.message}),c.dirty());else if("ulid"===a.kind)M.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"ulid",code:s.invalid_string,message:a.message}),c.dirty());else if("url"===a.kind)try{new URL(t.data)}catch(r){f(u=this._getOrReturnCtx(t,u),{validation:"url",code:s.invalid_string,message:a.message}),c.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"regex",code:s.invalid_string,message:a.message}),c.dirty())):"trim"===a.kind?t.data=t.data.trim():"includes"===a.kind?t.data.includes(a.value,a.position)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),c.dirty()):"toLowerCase"===a.kind?t.data=t.data.toLowerCase():"toUpperCase"===a.kind?t.data=t.data.toUpperCase():"startsWith"===a.kind?t.data.startsWith(a.value)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:{startsWith:a.value},message:a.message}),c.dirty()):"endsWith"===a.kind?t.data.endsWith(a.value)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:{endsWith:a.value},message:a.message}),c.dirty()):"datetime"===a.kind?U(a).test(t.data)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:"datetime",message:a.message}),c.dirty()):"date"===a.kind?q.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:"date",message:a.message}),c.dirty()):"time"===a.kind?RegExp(`^${H(a)}$`).test(t.data)||(f(u=this._getOrReturnCtx(t,u),{code:s.invalid_string,validation:"time",message:a.message}),c.dirty()):"duration"===a.kind?N.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"duration",code:s.invalid_string,message:a.message}),c.dirty()):"ip"===a.kind?(r=t.data,!(("v4"===(n=a.version)||!n)&&I.test(r)||("v6"===n||!n)&&z.test(r))&&1&&(f(u=this._getOrReturnCtx(t,u),{validation:"ip",code:s.invalid_string,message:a.message}),c.dirty())):"jwt"===a.kind?!function(t,r){if(!R.test(t))return!1;try{let[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||!a.typ||!a.alg||r&&a.alg!==r)return!1;return!0}catch(t){return!1}}(t.data,a.alg)&&(f(u=this._getOrReturnCtx(t,u),{validation:"jwt",code:s.invalid_string,message:a.message}),c.dirty()):"cidr"===a.kind?(o=t.data,!(("v4"===(l=a.version)||!l)&&V.test(o)||("v6"===l||!l)&&L.test(o))&&1&&(f(u=this._getOrReturnCtx(t,u),{validation:"cidr",code:s.invalid_string,message:a.message}),c.dirty())):"base64"===a.kind?F.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"base64",code:s.invalid_string,message:a.message}),c.dirty()):"base64url"===a.kind?$.test(t.data)||(f(u=this._getOrReturnCtx(t,u),{validation:"base64url",code:s.invalid_string,message:a.message}),c.dirty()):ts.assertNever(a);return{status:c.value,value:t.data}}_regex(t,r,n){return this.refinement(r=>t.test(r),{validation:r,code:s.invalid_string,...tu.errToObj(n)})}_addCheck(t){return new W({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...tu.errToObj(t)})}url(t){return this._addCheck({kind:"url",...tu.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...tu.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...tu.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...tu.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...tu.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...tu.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...tu.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...tu.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...tu.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...tu.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...tu.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...tu.errToObj(t)})}datetime(t){var r,n;return"string"==typeof t?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,offset:null!=(r=null==t?void 0:t.offset)&&r,local:null!=(n=null==t?void 0:t.local)&&n,...tu.errToObj(null==t?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return"string"==typeof t?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,...tu.errToObj(null==t?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...tu.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...tu.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:null==r?void 0:r.position,...tu.errToObj(null==r?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...tu.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...tu.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...tu.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...tu.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...tu.errToObj(r)})}nonempty(t){return this.min(1,tu.errToObj(t))}trim(){return new W({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new W({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new W({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>"datetime"===t.kind)}get isDate(){return!!this._def.checks.find(t=>"date"===t.kind)}get isTime(){return!!this._def.checks.find(t=>"time"===t.kind)}get isDuration(){return!!this._def.checks.find(t=>"duration"===t.kind)}get isEmail(){return!!this._def.checks.find(t=>"email"===t.kind)}get isURL(){return!!this._def.checks.find(t=>"url"===t.kind)}get isEmoji(){return!!this._def.checks.find(t=>"emoji"===t.kind)}get isUUID(){return!!this._def.checks.find(t=>"uuid"===t.kind)}get isNANOID(){return!!this._def.checks.find(t=>"nanoid"===t.kind)}get isCUID(){return!!this._def.checks.find(t=>"cuid"===t.kind)}get isCUID2(){return!!this._def.checks.find(t=>"cuid2"===t.kind)}get isULID(){return!!this._def.checks.find(t=>"ulid"===t.kind)}get isIP(){return!!this._def.checks.find(t=>"ip"===t.kind)}get isCIDR(){return!!this._def.checks.find(t=>"cidr"===t.kind)}get isBase64(){return!!this._def.checks.find(t=>"base64"===t.kind)}get isBase64url(){return!!this._def.checks.find(t=>"base64url"===t.kind)}get minLength(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}}W.create=t=>{var r;return new W({checks:[],typeName:tp.ZodString,coerce:null!=(r=null==t?void 0:t.coerce)&&r,...C(t)})};class Q extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){let r;if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==a.number){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.number,received:r.parsedType}),m}let n=new h;for(let i of this._def.checks)"int"===i.kind?ts.isInteger(t.data)||(f(r=this._getOrReturnCtx(t,r),{code:s.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):"min"===i.kind?(i.inclusive?t.data<i.value:t.data<=i.value)&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?t.data>i.value:t.data>=i.value)&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):"multipleOf"===i.kind?0!==function(t,r){let n=(t.toString().split(".")[1]||"").length,i=(r.toString().split(".")[1]||"").length,a=n>i?n:i;return parseInt(t.toFixed(a).replace(".",""))%parseInt(r.toFixed(a).replace(".",""))/Math.pow(10,a)}(t.data,i.value)&&(f(r=this._getOrReturnCtx(t,r),{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(t.data)||(f(r=this._getOrReturnCtx(t,r),{code:s.not_finite,message:i.message}),n.dirty()):ts.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,tu.toString(r))}gt(t,r){return this.setLimit("min",t,!1,tu.toString(r))}lte(t,r){return this.setLimit("max",t,!0,tu.toString(r))}lt(t,r){return this.setLimit("max",t,!1,tu.toString(r))}setLimit(t,r,n,i){return new Q({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:tu.toString(i)}]})}_addCheck(t){return new Q({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:tu.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tu.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tu.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tu.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tu.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:tu.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:tu.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tu.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tu.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>"int"===t.kind||"multipleOf"===t.kind&&ts.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks)if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;else"min"===n.kind?(null===r||n.value>r)&&(r=n.value):"max"===n.kind&&(null===t||n.value<t)&&(t=n.value);return Number.isFinite(r)&&Number.isFinite(t)}}Q.create=t=>new Q({checks:[],typeName:tp.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...C(t)});class Z extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){let r;if(this._def.coerce)try{t.data=BigInt(t.data)}catch(r){return this._getInvalidInput(t)}if(this._getType(t)!==a.bigint)return this._getInvalidInput(t);let n=new h;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?t.data<i.value:t.data<=i.value)&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"max"===i.kind?(i.inclusive?t.data>i.value:t.data>=i.value)&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):"multipleOf"===i.kind?t.data%i.value!==BigInt(0)&&(f(r=this._getOrReturnCtx(t,r),{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):ts.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.bigint,received:r.parsedType}),m}gte(t,r){return this.setLimit("min",t,!0,tu.toString(r))}gt(t,r){return this.setLimit("min",t,!1,tu.toString(r))}lte(t,r){return this.setLimit("max",t,!0,tu.toString(r))}lt(t,r){return this.setLimit("max",t,!1,tu.toString(r))}setLimit(t,r,n,i){return new Z({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:tu.toString(i)}]})}_addCheck(t){return new Z({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tu.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tu.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tu.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tu.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:tu.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return t}}Z.create=t=>{var r;return new Z({checks:[],typeName:tp.ZodBigInt,coerce:null!=(r=null==t?void 0:t.coerce)&&r,...C(t)})};class G extends O{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==a.boolean){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.boolean,received:r.parsedType}),m}return y(t.data)}}G.create=t=>new G({typeName:tp.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...C(t)});class K extends O{_parse(t){let r;if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==a.date){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.date,received:r.parsedType}),m}if(isNaN(t.data.getTime()))return f(this._getOrReturnCtx(t),{code:s.invalid_date}),m;let n=new h;for(let i of this._def.checks)"min"===i.kind?t.data.getTime()<i.value&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):"max"===i.kind?t.data.getTime()>i.value&&(f(r=this._getOrReturnCtx(t,r),{code:s.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ts.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new K({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:tu.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:tu.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)"min"===r.kind&&(null===t||r.value>t)&&(t=r.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)"max"===r.kind&&(null===t||r.value<t)&&(t=r.value);return null!=t?new Date(t):null}}K.create=t=>new K({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:tp.ZodDate,...C(t)});class J extends O{_parse(t){if(this._getType(t)!==a.symbol){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.symbol,received:r.parsedType}),m}return y(t.data)}}J.create=t=>new J({typeName:tp.ZodSymbol,...C(t)});class Y extends O{_parse(t){if(this._getType(t)!==a.undefined){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.undefined,received:r.parsedType}),m}return y(t.data)}}Y.create=t=>new Y({typeName:tp.ZodUndefined,...C(t)});class X extends O{_parse(t){if(this._getType(t)!==a.null){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.null,received:r.parsedType}),m}return y(t.data)}}X.create=t=>new X({typeName:tp.ZodNull,...C(t)});class ee extends O{constructor(){super(...arguments),this._any=!0}_parse(t){return y(t.data)}}ee.create=t=>new ee({typeName:tp.ZodAny,...C(t)});class et extends O{constructor(){super(...arguments),this._unknown=!0}_parse(t){return y(t.data)}}et.create=t=>new et({typeName:tp.ZodUnknown,...C(t)});class er extends O{_parse(t){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.never,received:r.parsedType}),m}}er.create=t=>new er({typeName:tp.ZodNever,...C(t)});class en extends O{_parse(t){if(this._getType(t)!==a.undefined){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.void,received:r.parsedType}),m}return y(t.data)}}en.create=t=>new en({typeName:tp.ZodVoid,...C(t)});class ei extends O{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==a.array)return f(r,{code:s.invalid_type,expected:a.array,received:r.parsedType}),m;if(null!==i.exactLength){let t=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(t||a)&&(f(r,{code:t?s.too_big:s.too_small,minimum:a?i.exactLength.value:void 0,maximum:t?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&r.data.length<i.minLength.value&&(f(r,{code:s.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&r.data.length>i.maxLength.value&&(f(r,{code:s.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((t,n)=>i.type._parseAsync(new A(r,t,r.path,n)))).then(t=>h.mergeArray(n,t));let o=[...r.data].map((t,n)=>i.type._parseSync(new A(r,t,r.path,n)));return h.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new ei({...this._def,minLength:{value:t,message:tu.toString(r)}})}max(t,r){return new ei({...this._def,maxLength:{value:t,message:tu.toString(r)}})}length(t,r){return new ei({...this._def,exactLength:{value:t,message:tu.toString(r)}})}nonempty(t){return this.min(1,t)}}ei.create=(t,r)=>new ei({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tp.ZodArray,...C(r)});class ea extends O{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let t=this._def.shape(),r=ts.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==a.object){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.object,received:r.parsedType}),m}let{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof er&&"strip"===this._def.unknownKeys))for(let t in n.data)o.includes(t)||l.push(t);let u=[];for(let t of o){let r=i[t],a=n.data[t];u.push({key:{status:"valid",value:t},value:r._parse(new A(n,a,n.path,t)),alwaysSet:t in n.data})}if(this._def.catchall instanceof er){let t=this._def.unknownKeys;if("passthrough"===t)for(let t of l)u.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===t)l.length>0&&(f(n,{code:s.unrecognized_keys,keys:l}),r.dirty());else if("strip"===t);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let t=this._def.catchall;for(let r of l){let i=n.data[r];u.push({key:{status:"valid",value:r},value:t._parse(new A(n,i,n.path,r)),alwaysSet:r in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let t=[];for(let r of u){let n=await r.key,i=await r.value;t.push({key:n,value:i,alwaysSet:r.alwaysSet})}return t}).then(t=>h.mergeObjectSync(r,t)):h.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return tu.errToObj,new ea({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(r,n)=>{var i,a,o,s;let l=null!=(o=null==(a=(i=this._def).errorMap)?void 0:a.call(i,r,n).message)?o:n.defaultError;return"unrecognized_keys"===r.code?{message:null!=(s=tu.errToObj(t).message)?s:l}:{message:l}}}:{}})}strip(){return new ea({...this._def,unknownKeys:"strip"})}passthrough(){return new ea({...this._def,unknownKeys:"passthrough"})}extend(t){return new ea({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ea({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tp.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ea({...this._def,catchall:t})}pick(t){let r={};return ts.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ea({...this._def,shape:()=>r})}omit(t){let r={};return ts.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ea({...this._def,shape:()=>r})}deepPartial(){return function t(r){if(r instanceof ea){let n={};for(let i in r.shape){let a=r.shape[i];n[i]=ej.create(t(a))}return new ea({...r._def,shape:()=>n})}if(r instanceof ei)return new ei({...r._def,type:t(r.element)});if(r instanceof ej)return ej.create(t(r.unwrap()));if(r instanceof eS)return eS.create(t(r.unwrap()));if(r instanceof ec)return ec.create(r.items.map(r=>t(r)));else return r}(this)}partial(t){let r={};return ts.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new ea({...this._def,shape:()=>r})}required(t){let r={};return ts.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let t=this.shape[n];for(;t instanceof ej;)t=t._def.innerType;r[n]=t}}),new ea({...this._def,shape:()=>r})}keyof(){return ey(ts.objectKeys(this.shape))}}ea.create=(t,r)=>new ea({shape:()=>t,unknownKeys:"strip",catchall:er.create(),typeName:tp.ZodObject,...C(r)}),ea.strictCreate=(t,r)=>new ea({shape:()=>t,unknownKeys:"strict",catchall:er.create(),typeName:tp.ZodObject,...C(r)}),ea.lazycreate=(t,r)=>new ea({shape:t,unknownKeys:"strip",catchall:er.create(),typeName:tp.ZodObject,...C(r)});class eo extends O{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;if(r.common.async)return Promise.all(n.map(async t=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await t._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(function(t){for(let r of t)if("valid"===r.result.status)return r.result;for(let n of t)if("dirty"===n.result.status)return r.common.issues.push(...n.ctx.common.issues),n.result;let n=t.map(t=>new l(t.ctx.common.issues));return f(r,{code:s.invalid_union,unionErrors:n}),m});{let t,i=[];for(let a of n){let n={...r,common:{...r.common,issues:[]},parent:null},o=a._parseSync({data:r.data,path:r.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||t||(t={result:o,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(t)return r.common.issues.push(...t.ctx.common.issues),t.result;let a=i.map(t=>new l(t));return f(r,{code:s.invalid_union,unionErrors:a}),m}}get options(){return this._def.options}}eo.create=(t,r)=>new eo({options:t,typeName:tp.ZodUnion,...C(r)});let es=t=>{if(t instanceof em)return es(t.schema);if(t instanceof ew)return es(t.innerType());if(t instanceof eg)return[t.value];if(t instanceof ev)return t.options;if(t instanceof eb)return ts.objectValues(t.enum);else if(t instanceof eA)return es(t._def.innerType);else if(t instanceof Y)return[void 0];else if(t instanceof X)return[null];else if(t instanceof ej)return[void 0,...es(t.unwrap())];else if(t instanceof eS)return[null,...es(t.unwrap())];else if(t instanceof eE)return es(t.unwrap());else if(t instanceof eM)return es(t.unwrap());else if(t instanceof e_)return es(t._def.innerType);else return[]};class el extends O{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==a.object)return f(r,{code:s.invalid_type,expected:a.object,received:r.parsedType}),m;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(f(r,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let n of r){let r=es(n.shape[t]);if(!r.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of r){if(i.has(a))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,n)}}return new el({typeName:tp.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...C(n)})}}class eu extends O{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(t,i)=>{if(v(t)||v(i))return m;let l=function t(r,n){let i=o(r),s=o(n);if(r===n)return{valid:!0,data:r};if(i===a.object&&s===a.object){let i=ts.objectKeys(n),a=ts.objectKeys(r).filter(t=>-1!==i.indexOf(t)),o={...r,...n};for(let i of a){let a=t(r[i],n[i]);if(!a.valid)return{valid:!1};o[i]=a.data}return{valid:!0,data:o}}if(i===a.array&&s===a.array){if(r.length!==n.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=t(r[a],n[a]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}if(i===a.date&&s===a.date&&+r==+n)return{valid:!0,data:r};return{valid:!1}}(t.value,i.value);return l.valid?((b(t)||b(i))&&r.dirty(),{status:r.value,value:l.data}):(f(n,{code:s.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([t,r])=>i(t,r)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}eu.create=(t,r,n)=>new eu({left:t,right:r,typeName:tp.ZodIntersection,...C(n)});class ec extends O{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==a.array)return f(n,{code:s.invalid_type,expected:a.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return f(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((t,r)=>{let i=this._def.items[r]||this._def.rest;return i?i._parse(new A(n,t,n.path,r)):null}).filter(t=>!!t);return n.common.async?Promise.all(i).then(t=>h.mergeArray(r,t)):h.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ec({...this._def,rest:t})}}ec.create=(t,r)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:t,typeName:tp.ZodTuple,rest:null,...C(r)})};class ed extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==a.object)return f(n,{code:s.invalid_type,expected:a.object,received:n.parsedType}),m;let i=[],o=this._def.keyType,l=this._def.valueType;for(let t in n.data)i.push({key:o._parse(new A(n,t,n.path,t)),value:l._parse(new A(n,n.data[t],n.path,t)),alwaysSet:t in n.data});return n.common.async?h.mergeObjectAsync(r,i):h.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return new ed(r instanceof O?{keyType:t,valueType:r,typeName:tp.ZodRecord,...C(n)}:{keyType:W.create(),valueType:t,typeName:tp.ZodRecord,...C(r)})}}class ep extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==a.map)return f(n,{code:s.invalid_type,expected:a.map,received:n.parsedType}),m;let i=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([t,r],a)=>({key:i._parse(new A(n,t,n.path,[a,"key"])),value:o._parse(new A(n,r,n.path,[a,"value"]))}));if(n.common.async){let t=new Map;return Promise.resolve().then(async()=>{for(let n of l){let i=await n.key,a=await n.value;if("aborted"===i.status||"aborted"===a.status)return m;("dirty"===i.status||"dirty"===a.status)&&r.dirty(),t.set(i.value,a.value)}return{status:r.value,value:t}})}{let t=new Map;for(let n of l){let i=n.key,a=n.value;if("aborted"===i.status||"aborted"===a.status)return m;("dirty"===i.status||"dirty"===a.status)&&r.dirty(),t.set(i.value,a.value)}return{status:r.value,value:t}}}}ep.create=(t,r,n)=>new ep({valueType:r,keyType:t,typeName:tp.ZodMap,...C(n)});class ef extends O{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==a.set)return f(n,{code:s.invalid_type,expected:a.set,received:n.parsedType}),m;let i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(f(n,{code:s.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(f(n,{code:s.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function l(t){let n=new Set;for(let i of t){if("aborted"===i.status)return m;"dirty"===i.status&&r.dirty(),n.add(i.value)}return{status:r.value,value:n}}let u=[...n.data.values()].map((t,r)=>o._parse(new A(n,t,n.path,r)));return n.common.async?Promise.all(u).then(t=>l(t)):l(u)}min(t,r){return new ef({...this._def,minSize:{value:t,message:tu.toString(r)}})}max(t,r){return new ef({...this._def,maxSize:{value:t,message:tu.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ef.create=(t,r)=>new ef({valueType:t,minSize:null,maxSize:null,typeName:tp.ZodSet,...C(r)});class eh extends O{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==a.function)return f(r,{code:s.invalid_type,expected:a.function,received:r.parsedType}),m;function n(t,n){return p({data:t,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,d(),u].filter(t=>!!t),issueData:{code:s.invalid_arguments,argumentsError:n}})}function i(t,n){return p({data:t,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,d(),u].filter(t=>!!t),issueData:{code:s.invalid_return_type,returnTypeError:n}})}let o={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof ex){let t=this;return y(async function(...r){let a=new l([]),s=await t._def.args.parseAsync(r,o).catch(t=>{throw a.addIssue(n(r,t)),a}),u=await Reflect.apply(c,this,s);return await t._def.returns._def.type.parseAsync(u,o).catch(t=>{throw a.addIssue(i(u,t)),a})})}{let t=this;return y(function(...r){let a=t._def.args.safeParse(r,o);if(!a.success)throw new l([n(r,a.error)]);let s=Reflect.apply(c,this,a.data),u=t._def.returns.safeParse(s,o);if(!u.success)throw new l([i(s,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new eh({...this._def,args:ec.create(t).rest(et.create())})}returns(t){return new eh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new eh({args:t||ec.create([]).rest(et.create()),returns:r||et.create(),typeName:tp.ZodFunction,...C(n)})}}class em extends O{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}em.create=(t,r)=>new em({getter:t,typeName:tp.ZodLazy,...C(r)});class eg extends O{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return f(r,{received:r.data,code:s.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:t.data}}get value(){return this._def.value}}function ey(t,r){return new ev({values:t,typeName:tp.ZodEnum,...C(r)})}eg.create=(t,r)=>new eg({value:t,typeName:tp.ZodLiteral,...C(r)});class ev extends O{constructor(){super(...arguments),tc.set(this,void 0)}_parse(t){if("string"!=typeof t.data){let r=this._getOrReturnCtx(t),n=this._def.values;return f(r,{expected:ts.joinValues(n),received:r.parsedType,code:s.invalid_type}),m}if(j(this,tc,"f")||S(this,tc,new Set(this._def.values),"f"),!j(this,tc,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return f(r,{received:r.data,code:s.invalid_enum_value,options:n}),m}return y(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ev.create(t,{...this._def,...r})}exclude(t,r=this._def){return ev.create(this.options.filter(r=>!t.includes(r)),{...this._def,...r})}}tc=new WeakMap,ev.create=ey;class eb extends O{constructor(){super(...arguments),td.set(this,void 0)}_parse(t){let r=ts.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==a.string&&n.parsedType!==a.number){let t=ts.objectValues(r);return f(n,{expected:ts.joinValues(t),received:n.parsedType,code:s.invalid_type}),m}if(j(this,td,"f")||S(this,td,new Set(ts.getValidEnumValues(this._def.values)),"f"),!j(this,td,"f").has(t.data)){let t=ts.objectValues(r);return f(n,{received:n.data,code:s.invalid_enum_value,options:t}),m}return y(t.data)}get enum(){return this._def.values}}td=new WeakMap,eb.create=(t,r)=>new eb({values:t,typeName:tp.ZodNativeEnum,...C(r)});class ex extends O{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);return r.parsedType!==a.promise&&!1===r.common.async?(f(r,{code:s.invalid_type,expected:a.promise,received:r.parsedType}),m):y((r.parsedType===a.promise?r.data:Promise.resolve(r.data)).then(t=>this._def.type.parseAsync(t,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ex.create=(t,r)=>new ex({type:t,typeName:tp.ZodPromise,...C(r)});class ew extends O{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tp.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:t=>{f(n,t),t.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let t=i.transform(n.data,a);if(n.common.async)return Promise.resolve(t).then(async t=>{if("aborted"===r.value)return m;let i=await this._def.schema._parseAsync({data:t,path:n.path,parent:n});return"aborted"===i.status?m:"dirty"===i.status||"dirty"===r.value?g(i.value):i});{if("aborted"===r.value)return m;let i=this._def.schema._parseSync({data:t,path:n.path,parent:n});return"aborted"===i.status?m:"dirty"===i.status||"dirty"===r.value?g(i.value):i}}if("refinement"===i.type){let t=t=>{let r=i.refinement(t,a);if(n.common.async)return Promise.resolve(r);if(r instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?m:("dirty"===n.status&&r.dirty(),t(n.value).then(()=>({status:r.value,value:n.value}))));{let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?m:("dirty"===i.status&&r.dirty(),t(i.value),{status:r.value,value:i.value})}}if("transform"===i.type)if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(t=>x(t)?Promise.resolve(i.transform(t.value,a)).then(t=>({status:r.value,value:t})):t);else{let t=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!x(t))return t;let o=i.transform(t.value,a);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}ts.assertNever(i)}}ew.create=(t,r,n)=>new ew({schema:t,typeName:tp.ZodEffects,effect:r,...C(n)}),ew.createWithPreprocess=(t,r,n)=>new ew({schema:r,effect:{type:"preprocess",transform:t},typeName:tp.ZodEffects,...C(n)});class ej extends O{_parse(t){return this._getType(t)===a.undefined?y(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ej.create=(t,r)=>new ej({innerType:t,typeName:tp.ZodOptional,...C(r)});class eS extends O{_parse(t){return this._getType(t)===a.null?y(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eS.create=(t,r)=>new eS({innerType:t,typeName:tp.ZodNullable,...C(r)});class eA extends O{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===a.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}eA.create=(t,r)=>new eA({innerType:t,typeName:tp.ZodDefault,defaultValue:"function"==typeof r.default?r.default:()=>r.default,...C(r)});class e_ extends O{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w(i)?i.then(t=>({status:"valid",value:"valid"===t.status?t.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}e_.create=(t,r)=>new e_({innerType:t,typeName:tp.ZodCatch,catchValue:"function"==typeof r.catch?r.catch:()=>r.catch,...C(r)});class eC extends O{_parse(t){if(this._getType(t)!==a.nan){let r=this._getOrReturnCtx(t);return f(r,{code:s.invalid_type,expected:a.nan,received:r.parsedType}),m}return{status:"valid",value:t.data}}}eC.create=t=>new eC({typeName:tp.ZodNaN,...C(t)});let eO=Symbol("zod_brand");class eE extends O{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ek extends O{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let t=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===t.status?m:"dirty"===t.status?(r.dirty(),g(t.value)):this._def.out._parseAsync({data:t.value,path:n.path,parent:n})})();{let t=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===t.status?m:"dirty"===t.status?(r.dirty(),{status:"dirty",value:t.value}):this._def.out._parseSync({data:t.value,path:n.path,parent:n})}}static create(t,r){return new ek({in:t,out:r,typeName:tp.ZodPipeline})}}class eM extends O{_parse(t){let r=this._def.innerType._parse(t),n=t=>(x(t)&&(t.value=Object.freeze(t.value)),t);return w(r)?r.then(t=>n(t)):n(r)}unwrap(){return this._def.innerType}}function eP(t,r){let n="function"==typeof t?t(r):"string"==typeof t?{message:t}:t;return"string"==typeof n?{message:n}:n}function eD(t,r={},n){return t?ee.create().superRefine((i,a)=>{var o,s;let l=t(i);if(l instanceof Promise)return l.then(t=>{var o,s;if(!t){let t=eP(r,i),l=null==(s=null!=(o=t.fatal)?o:n)||s;a.addIssue({code:"custom",...t,fatal:l})}});if(!l){let t=eP(r,i),l=null==(s=null!=(o=t.fatal)?o:n)||s;a.addIssue({code:"custom",...t,fatal:l})}}):ee.create()}eM.create=(t,r)=>new eM({innerType:t,typeName:tp.ZodReadonly,...C(r)});let eR={object:ea.lazycreate};(to=tp||(tp={})).ZodString="ZodString",to.ZodNumber="ZodNumber",to.ZodNaN="ZodNaN",to.ZodBigInt="ZodBigInt",to.ZodBoolean="ZodBoolean",to.ZodDate="ZodDate",to.ZodSymbol="ZodSymbol",to.ZodUndefined="ZodUndefined",to.ZodNull="ZodNull",to.ZodAny="ZodAny",to.ZodUnknown="ZodUnknown",to.ZodNever="ZodNever",to.ZodVoid="ZodVoid",to.ZodArray="ZodArray",to.ZodObject="ZodObject",to.ZodUnion="ZodUnion",to.ZodDiscriminatedUnion="ZodDiscriminatedUnion",to.ZodIntersection="ZodIntersection",to.ZodTuple="ZodTuple",to.ZodRecord="ZodRecord",to.ZodMap="ZodMap",to.ZodSet="ZodSet",to.ZodFunction="ZodFunction",to.ZodLazy="ZodLazy",to.ZodLiteral="ZodLiteral",to.ZodEnum="ZodEnum",to.ZodEffects="ZodEffects",to.ZodNativeEnum="ZodNativeEnum",to.ZodOptional="ZodOptional",to.ZodNullable="ZodNullable",to.ZodDefault="ZodDefault",to.ZodCatch="ZodCatch",to.ZodPromise="ZodPromise",to.ZodBranded="ZodBranded",to.ZodPipeline="ZodPipeline",to.ZodReadonly="ZodReadonly";let eN=W.create,eT=Q.create,eI=eC.create,eV=Z.create,ez=G.create,eL=K.create,eF=J.create,e$=Y.create,eB=X.create,eq=ee.create,eH=et.create,eU=er.create,eW=en.create,eQ=ei.create,eZ=ea.create,eG=ea.strictCreate,eK=eo.create,eJ=el.create,eY=eu.create,eX=ec.create,e0=ed.create,e1=ep.create,e2=ef.create,e4=eh.create,e9=em.create,e3=eg.create,e5=ev.create,e7=eb.create,e8=ex.create,e6=ew.create,te=ej.create,tt=eS.create,tr=ew.createWithPreprocess,tn=ek.create;var ti,ta,to,ts,tl,tu,tc,td,tp,tf=Object.freeze({__proto__:null,defaultErrorMap:u,setErrorMap:function(t){c=t},getErrorMap:d,makeIssue:p,EMPTY_PATH:[],addIssueToContext:f,ParseStatus:h,INVALID:m,DIRTY:g,OK:y,isAborted:v,isDirty:b,isValid:x,isAsync:w,get util(){return ts},get objectUtil(){return tl},ZodParsedType:a,getParsedType:o,ZodType:O,datetimeRegex:U,ZodString:W,ZodNumber:Q,ZodBigInt:Z,ZodBoolean:G,ZodDate:K,ZodSymbol:J,ZodUndefined:Y,ZodNull:X,ZodAny:ee,ZodUnknown:et,ZodNever:er,ZodVoid:en,ZodArray:ei,ZodObject:ea,ZodUnion:eo,ZodDiscriminatedUnion:el,ZodIntersection:eu,ZodTuple:ec,ZodRecord:ed,ZodMap:ep,ZodSet:ef,ZodFunction:eh,ZodLazy:em,ZodLiteral:eg,ZodEnum:ev,ZodNativeEnum:eb,ZodPromise:ex,ZodEffects:ew,ZodTransformer:ew,ZodOptional:ej,ZodNullable:eS,ZodDefault:eA,ZodCatch:e_,ZodNaN:eC,BRAND:eO,ZodBranded:eE,ZodPipeline:ek,ZodReadonly:eM,custom:eD,Schema:O,ZodSchema:O,late:eR,get ZodFirstPartyTypeKind(){return tp},coerce:{string:t=>W.create({...t,coerce:!0}),number:t=>Q.create({...t,coerce:!0}),boolean:t=>G.create({...t,coerce:!0}),bigint:t=>Z.create({...t,coerce:!0}),date:t=>K.create({...t,coerce:!0})},any:eq,array:eQ,bigint:eV,boolean:ez,date:eL,discriminatedUnion:eJ,effect:e6,enum:e5,function:e4,instanceof:(t,r={message:`Input not instance of ${t.name}`})=>eD(r=>r instanceof t,r),intersection:eY,lazy:e9,literal:e3,map:e1,nan:eI,nativeEnum:e7,never:eU,null:eB,nullable:tt,number:eT,object:eZ,oboolean:()=>ez().optional(),onumber:()=>eT().optional(),optional:te,ostring:()=>eN().optional(),pipeline:tn,preprocess:tr,promise:e8,record:e0,set:e2,strictObject:eG,string:eN,symbol:eF,transformer:e6,tuple:eX,undefined:e$,union:eK,unknown:eH,void:eW,NEVER:m,ZodIssueCode:s,quotelessJson:t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:l})},39100:function(t,r,n){"use strict";n.d(r,{lt:()=>o});let i=new Map,a=t=>{let r=i.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([t,r])=>[t,r.getState()])):{}},o=(t,r={})=>(n,o,l)=>{let u,{enabled:c,anonymousActionType:d,store:p,...f}=r;try{u=null!=c&&c&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(t){}if(!u)return t(n,o,l);let{connection:h,...m}=((t,r,n)=>{if(void 0===t)return{type:"untracked",connection:r.connect(n)};let a=i.get(n.name);if(a)return{type:"tracked",store:t,...a};let o={connection:r.connect(n),stores:{}};return i.set(n.name,o),{type:"tracked",store:t,...o}})(p,u,f),g=!0;l.setState=(t,r,i)=>{let s=n(t,r);if(!g)return s;let u=void 0===i?{type:d||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===p?null==h||h.send(u,o()):null==h||h.send({...u,type:`${p}/${u.type}`},{...a(f.name),[p]:l.getState()}),s};let y=(...t)=>{let r=g;g=!1,n(...t),g=r},v=t(l.setState,o,l);if("untracked"===m.type?null==h||h.init(v):(m.stores[m.store]=l,null==h||h.init(Object.fromEntries(Object.entries(m.stores).map(([t,r])=>[t,t===m.store?v:r.getState()])))),l.dispatchFromDevtools&&"function"==typeof l.dispatch){let t=l.dispatch;l.dispatch=(...r)=>{t(...r)}}return h.subscribe(t=>{var r;switch(t.type){case"ACTION":if("string"!=typeof t.payload)return void console.error("[zustand devtools middleware] Unsupported action format");return s(t.payload,t=>{if("__setState"===t.type){if(void 0===p)return void y(t.state);1!==Object.keys(t.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let r=t.state[p];return void(null==r||JSON.stringify(l.getState())!==JSON.stringify(r)&&y(r))}l.dispatchFromDevtools&&"function"==typeof l.dispatch&&l.dispatch(t)});case"DISPATCH":switch(t.payload.type){case"RESET":if(y(v),void 0===p)return null==h?void 0:h.init(l.getState());return null==h?void 0:h.init(a(f.name));case"COMMIT":if(void 0===p){null==h||h.init(l.getState());break}return null==h?void 0:h.init(a(f.name));case"ROLLBACK":return s(t.state,t=>{if(void 0===p){y(t),null==h||h.init(l.getState());return}y(t[p]),null==h||h.init(a(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return s(t.state,t=>{void 0===p?y(t):JSON.stringify(l.getState())!==JSON.stringify(t[p])&&y(t[p])});case"IMPORT_STATE":{let{nextLiftedState:n}=t.payload,i=null==(r=n.computedStates.slice(-1)[0])?void 0:r.state;if(!i)return;void 0===p?y(i):y(i[p]),null==h||h.send(null,n);break}case"PAUSE_RECORDING":return g=!g}return}}),v},s=(t,r)=>{let n;try{n=JSON.parse(t)}catch(t){console.error("[zustand devtools middleware] Could not parse the received json",t)}void 0!==n&&r(n)}},86087:function(t,r,n){"use strict";n.d(r,{D:()=>a});var i=n(49544);let a=t=>(r,n,a)=>(a.setState=(t,n,...a)=>r("function"==typeof t?(0,i.produce)(t):t,n,...a),t(a.setState,n,a))},88408:function(t,r,n){"use strict";function i(t,r){if(Object.is(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(let[n,i]of t)if(!Object.is(i,r.get(n)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(let n of t)if(!r.has(n))return!1;return!0}let n=Object.keys(t);if(n.length!==Object.keys(r).length)return!1;for(let i of n)if(!Object.prototype.hasOwnProperty.call(r,i)||!Object.is(t[i],r[i]))return!1;return!0}n.d(r,{x:()=>i})},77419:function(t,r,n){"use strict";n.d(r,{n:()=>u});var i=n(70451),a=n(95390);let{useDebugValue:o}=i,{useSyncExternalStoreWithSelector:s}=a,l=t=>t;function u(t,r=l,n){let i=s(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,n);return o(i),i}},41469:function(t,r,n){"use strict";n.d(r,{y:()=>a});let i=t=>{let r,n=new Set,i=(t,i)=>{let a="function"==typeof t?t(r):t;if(!Object.is(a,r)){let t=r;r=(null!=i?i:"object"!=typeof a||null===a)?a:Object.assign({},r,a),n.forEach(n=>n(r,t))}},a=()=>r,o={setState:i,getState:a,getInitialState:()=>s,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{n.clear()}},s=r=t(i,a,o);return o},a=t=>t?i(t):i}}]);