(self.chunk_GaugeChart=self.chunk_GaugeChart||[]).push([["728"],{87680:function(e,t,n){"use strict";n.d(t,{Lu:()=>r,cV:()=>a,gE:()=>i,pG:()=>l});let r={first:function(e){return a(e,"first")},last:function(e){return a(e,"last")},"first-number":function(e){return a(e,"first-number")},"last-number":function(e){return a(e,"last-number")},mean:function(e){return a(e,"mean")},sum:function(e){return a(e,"sum")},min:function(e){return a(e,"min")},max:function(e){return a(e,"max")}},i={first:{label:"First",description:"First value"},last:{label:"Last",description:"Last value"},"first-number":{label:"First *",description:"First numeric value"},"last-number":{label:"Last *",description:"Last numeric value"},mean:{label:"Avg",description:"Average value excluding nulls"},sum:{label:"Sum",description:"The sum of all values"},min:{label:"Min",description:"Minimum value"},max:{label:"Max",description:"Maximum value"}};function l(e,t){let n=t.reduce((e,t)=>(e[t]=void 0,e),{}),r=0,i=0;return e.forEach((t,l)=>{let a=t[1];0===l&&"first"in n&&(n.first=a),l===e.length-1&&"last"in n&&(n.last=a),"number"==typeof a&&(r+=1,i+=a,"first-number"in n&&void 0===n["first-number"]&&(n["first-number"]=a),"last-number"in n&&(n["last-number"]=a),"min"in n&&("number"!=typeof n.min?n.min=a:n.min=Math.min(n.min,a)),"max"in n&&("number"!=typeof n.max?n.max=a:n.max=Math.max(n.max,a)))}),r>0&&"sum"in n&&(n.sum=i),r>0&&"mean"in n&&(n.mean=i/r),n}function a(e,t){return l(e,[t])[t]}},44272:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},93305:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},25814:function(e,t,n){var r=n(61414),i=n(44272),l=n(93305),a=n(36204),o=n(75569),u=Math.max;e.exports=function(e){if(!(e&&e.length))return[];var t=0;return e=r(e,function(e){if(o(e))return t=u(e.length,t),!0}),a(t,function(t){return i(e,l(t))})}},10007:function(e,t,n){e.exports=n(71506)(n(25814))},23470:function(e,t,n){"use strict";n.r(t),n.d(t,{GaugeChart:()=>z});let r={unit:"percent-decimal"};var i=n(62540),l=n(93648),a=n(68003),o=n(37266),u=n(57744),s=n(43945),h=n(25632),c=n.n(h),d=n(315),m=n(74628),f=n(33313),p=n(12826),g=n(87680),v=n(70451),x=n(10007),w=n.n(x);let b={steps:[{value:0}]};var C=n(74653),M=n(49828),j=n(59738),y=n(72106),L=n(55875),S=n(37573);function E(e){let{width:t,height:n,data:r,format:l,axisLine:a,max:u,valueFontSize:s,progressWidth:h,titleFontSize:c}=e,d=(0,o.useChartsTheme)(),m=(0,o.useDeepMemo)(()=>{var e;if(void 0===r.value)return d.noDataOption;let n={type:"gauge",center:["50%","65%"],startAngle:200,endAngle:-20,min:0,max:u,axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},data:[{value:r.value}]};return{title:{show:!1},tooltip:{show:!1},series:[{...n,radius:"90%",silent:!0,progress:{show:!0,width:h,itemStyle:{color:"auto"}},axisLine:{lineStyle:{color:[[1,"rgba(127,127,127,0.35)"]],width:h}},pointer:{show:!1},anchor:{show:!1},title:{show:!1},detail:{show:!1}},{...n,radius:"100%",pointer:{show:!0,icon:t>170?"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z":"none",length:10,width:5,offsetCenter:[0,"-49%"],itemStyle:{color:"auto"}},axisLine:a,detail:{show:!0,width:"60%",borderRadius:8,offsetCenter:[0,"-9%"],color:"inherit",fontSize:s,formatter:null===r.value?()=>"null":e=>(0,p.Fl)(e,l)},data:[{value:r.value,name:r.label,title:{show:!0,color:(null==(e=d.echartsTheme.textStyle)?void 0:e.color)??"inherit",offsetCenter:[0,"55%"],overflow:"truncate",fontSize:c,width:.8*t}}]}]}},[r,t,n,d,l,a,u,s,h,c]);return(0,i.jsx)(o.EChart,{style:{width:t,height:n},sx:{padding:`${d.container.padding.default}px`},option:m,theme:d.echartsTheme})}(0,C.Y)([M.a,j.a,y.a,L.a,S.a]);let F={label:"",value:void 0};function A(e,t){return Math.max(10,Math.min(48,Math.round(.1*Math.min(e,t))))}function O(e,t,n,r){let i=Math.max(("number"==typeof e?(0,p.Fl)(e,t):`${e}`).length,6),l=Math.min(n,r);return`clamp(8px, ${l/i}px, 64px)`}function T(e,t){return Math.max(10,Math.min(16,Math.round(.06*Math.min(e,t))))}let z={PanelComponent:function(e){let{spec:t,contentDimensions:n,queryResults:l}=e,{calculation:a,max:u,legend:s}=t,{thresholds:h}=(0,o.useChartsTheme)(),f=(null==s?void 0:s.show)??!0,p=c()({},r,t.format),x=t.thresholds??b,C=(0,v.useMemo)(()=>{var e,t,n;let r=[];if(!(null==(n=l[0])||null==(t=n.data)||null==(e=t.series)?void 0:e.length))return r;g.Lu[a]||console.warn(`Invalid GaugeChart panel calculation ${a}, fallback to last`);let i=g.Lu[a]??g.Lu.last;for(let e of l[0].data.series)r.push({value:i(e.values),label:f?e.formattedName??"":""});return r},[l,a,f]);if(!n)return null;let M=u;void 0===M&&(M="percent"===p.unit?100:1);let j=function(e,t,n,r){let i=e.defaultColor??r.defaultColor,l=[[0,i]];if(void 0===e.steps)return l;{let t=e.steps.map(t=>"percent"===e.mode?t.value/100:t.value/n);t.push(1);let l=e.steps.map((e,t)=>e.color??r.palette[t]);return l.unshift(i),w()(t,l).map(e=>[e[0]??1,e[1]??i])}}(x,0,M,h),y=n.width/C.length-20;y<90&&C.length>1&&(y=90);let L=A(y,n.height),S=Math.round(.2*L),z=T(y,n.height),G={show:!0,lineStyle:{width:S,color:j}};if(!C.length){let e=O(null,p,n.width,n.height),t=A(n.width,n.height),r=T(n.width,n.height);return(0,i.jsx)(E,{width:n.width,height:n.height,data:F,format:p,axisLine:G,max:M,valueFontSize:e,progressWidth:t,titleFontSize:r})}let k=C.length>1;return(0,i.jsx)(d.A,{direction:"row",spacing:2*!!k,justifyContent:k?"left":"center",alignItems:"center",sx:{overflowX:C.length>1?"scroll":"auto"},children:C.map((e,t)=>{let r=O(e.value??null,p,y,n.height);return(0,i.jsx)(m.A,{children:(0,i.jsx)(E,{width:y,height:n.height,data:e,format:p,axisLine:G,max:M,valueFontSize:r,progressWidth:L,titleFontSize:z})},`gauge-series-${t}`)})})},LoadingComponent:function(e){let{contentDimensions:t}=e;return t?(0,i.jsx)(f.A,{sx:{margin:"0 auto"},variant:"circular",width:t.width>t.height?t.height:t.width,height:t.height}):null},supportedQueryTypes:["TimeSeriesQuery"],panelOptionsEditorComponents:[{label:"Settings",content:function(e){var t;let{onChange:n,value:h}=e,d=(null==h||null==(t=h.legend)?void 0:t.show)??!0,m=c()({},r,h.format),f="Enter value";return"percent"===m.unit?f="100":"percent-decimal"===m.unit&&(f="1"),(0,i.jsxs)(o.OptionsEditorGrid,{children:[(0,i.jsx)(o.OptionsEditorColumn,{children:(0,i.jsxs)(o.OptionsEditorGroup,{title:"Misc",children:[(0,i.jsx)(o.FormatControls,{value:m,onChange:e=>{n((0,s.produce)(h,t=>{t.format=e}))}}),(0,i.jsx)(u.CalculationSelector,{value:h.calculation,onChange:e=>{n((0,s.produce)(h,t=>{t.calculation=e}))}}),(0,i.jsx)(o.OptionsEditorControl,{label:"Max",control:(0,i.jsx)(l.A,{type:"number",value:h.max??"",onChange:e=>{let t=e.target.value?Number(e.target.value):void 0;n((0,s.produce)(h,e=>{e.max=t}))},placeholder:f})})]})}),(0,i.jsxs)(o.OptionsEditorColumn,{children:[(0,i.jsx)(o.ThresholdsEditor,{thresholds:h.thresholds,onChange:e=>{n((0,s.produce)(h,t=>{t.thresholds=e}))}}),(0,i.jsx)(o.OptionsEditorControl,{label:"Show legend",control:(0,i.jsx)(a.A,{onChange:()=>{n((0,s.produce)(h,e=>{e.legend={...e.legend,show:!d}}))},checked:d})})]})]})}}],createInitialOptions:function(){return{calculation:"last-number",format:r,thresholds:{steps:[{value:.8},{value:.9}]}}}}}}]);